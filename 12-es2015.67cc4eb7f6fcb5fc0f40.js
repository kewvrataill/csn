(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{BOF4:function(t,e,r){"use strict";var i=r("evrj");function o(t){this.message=t}(o.prototype=new Error).name="InvalidTokenError",t.exports=function(t,e){if("string"!=typeof t)throw new o("Invalid token specified");var r=!0===(e=e||{}).header?0:1;try{return JSON.parse(i(t.split(".")[r]))}catch(n){throw new o("Invalid token specified: "+n.message)}},t.exports.InvalidTokenError=o},O0dC:function(t,e,r){"use strict";r.r(e),r.d(e,"RegistrationModule",(function(){return Ct}));var i=r("ofXK"),o=r("tyNb"),n=r("fXoL");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&n.Nb(0,"router-outlet")},directives:[o.j],encapsulation:2,changeDetection:0}),t})();var s=function(t){return t.ByPhone="registration",t.ByEmail="registration/by-email",t}({});const c=[{label:"AUTH.REGISTRATION.BY_PHONE",value:s.ByPhone},{label:"AUTH.REGISTRATION.BY_EMAIL",value:s.ByEmail}];var p=r("aG/c"),g=r("3Pt+");const b={phone:["",[g.r.required,g.r.minLength(5),g.r.pattern("^(\\s*)?(\\+)?([- _():=+]?\\d[- _():=+]?){5,12}(\\s*)?$")]],recaptchaToken:[""]};var l=r("jgZD");const h={activationCode:["",[g.r.required]],cpaInfo:[""],referrer:[""],isAdult:[!0,l.a.requiredCheckbox],hasPrivacyPolicy:[!0,l.a.requiredCheckbox],currency:[""],lang:[""],promoCode:[""],recaptchaToken:[""],subscription:[!0]};var d=r("ZoBR"),u=r("ds5d"),m=r("ax3H"),f=r("FWDm"),_=r("2Vo4"),x=r("l7P3");const S="[Registration by phone action]",y={sendCode:Object(x.n)(S+" sending code to user",Object(x.s)()),sendCodeSuccess:Object(x.n)(S+" sending code to user SUCCESS"),sendCodeFailure:Object(x.n)(S+" sending code to user FAILURE",Object(x.s)()),registerUser:Object(x.n)(S+" register user",Object(x.s)()),registerUserSuccess:Object(x.n)(S+" register user SUCCESS",Object(x.s)()),registerUserFailure:Object(x.n)(S+" Registration failure",Object(x.s)())};var k=r("Kceu"),O=r("9jGm"),v=r("Sj0l");let w=(()=>{class t{constructor(t){this.platform=t,this.store={},this.length=Object(i.y)(this.platform)?Object.keys(this.store).length:localStorage.length}clear(){Object(i.y)(this.platform)?this.store={}:localStorage.clear()}getItem(t){return Object(i.y)(this.platform)?this.store[t]||null:localStorage.getItem(t)}key(t){return Object(i.y)(this.platform)?Object.keys(this.store)[t]||null:localStorage.key(t)}removeItem(t){Object(i.y)(this.platform)?delete this.store[t]:localStorage.removeItem(t)}setItem(t,e){Object(i.y)(this.platform)?this.store[t]=e:localStorage.setItem(t,e)}hasItem(t){return!!this.getItem(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(n.D))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var R=r("pJSB"),j=r("W/k8"),A=r("svOA"),I=r("CO75"),T=r("sYmb");let C=(()=>{class t{constructor(t,e){this.navigate=t,this.dialogsService=e,this.authButton={size:p.d.Large,theme:p.e.Green}}goToAuth(){this.navigate(["/auth","login"])}close(){this.dialogsService.close(this.name)}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(u.k),n.Mb(j.b))},t.\u0275cmp=n.Gb({type:t,selectors:[["pd-user-existing"]],inputs:{name:"name"},decls:16,vars:10,consts:[[1,"user-exist__popup"],[1,"user-exist__header"],[1,"user-exist__header__block","user-exist__header__block--pkd"],["src","./assets/images/icons/logo_pkd.svg","alt","",1,"user-exist__header__img","user-exist__header__img--pkd"],[1,"user-exist__header__block"],["src","./assets/images/icons/logo_pld.svg","alt","",1,"user-exist__header__img","user-exist__header__img--pld"],[1,"user-exist__title"],[1,"user-exist__text"],[1,"user-exist__button",3,"settings","buttonClicked"],[1,"user-exist__close",3,"click"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Nb(3,"img",3),n.Rb(),n.Sb(4,"div",4),n.Nb(5,"img",5),n.Rb(),n.Rb(),n.Sb(6,"h3",6),n.Ec(7),n.fc(8,"translate"),n.Rb(),n.Sb(9,"p",7),n.Ec(10),n.fc(11,"translate"),n.Rb(),n.Sb(12,"pd-button",8),n.ac("buttonClicked",(function(){return e.goToAuth()})),n.Ec(13),n.fc(14,"translate"),n.Rb(),n.Sb(15,"pd-cross-icon2",9),n.ac("click",(function(){return e.close()})),n.Rb(),n.Rb()),2&t&&(n.Ab(7),n.Fc(n.gc(8,4,"AUTH.LOGIN.PKD_TO_PLD")),n.Ab(3),n.Fc(n.gc(11,6,"AUTH.LOGIN.PKD_EXIST_INFO")),n.Ab(2),n.kc("settings",e.authButton),n.Ab(1),n.Fc(n.gc(14,8,"AUTH.LOGIN.SIGN_IN")))},directives:[p.b,I.e],pipes:[T.c],styles:['.user-exist__popup[_ngcontent-%COMP%]{width:100%;height:100%;background-color:var(--accent-1-bg-color);border-radius:20px 20px 0 0;padding:30px 20px 40px}.user-exist__header[_ngcontent-%COMP%]{width:240px;height:auto;display:flex;justify-content:space-between;align-items:center;margin:0 auto}.user-exist__header__block[_ngcontent-%COMP%]{width:106px;height:60px;display:flex;justify-content:center;align-items:center;background-color:var(--main-bg);border-radius:10px}.user-exist__header__block--pkd[_ngcontent-%COMP%]{position:relative}.user-exist__header__block--pkd[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:11px;background-image:var(--transit-arrow);position:absolute;right:-23px;top:50%;transform:translateY(-50%)}.user-exist__header__img--pkd[_ngcontent-%COMP%]{width:87px;height:auto}.user-exist__header__img--pld[_ngcontent-%COMP%]{width:72px;height:auto}.user-exist__close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:block;padding:10px;cursor:pointer}.user-exist__close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.user-exist__title[_ngcontent-%COMP%]{font-family:var(--main-fonts-bold);font-size:var(--main-font-size);margin-top:20px}.user-exist__text[_ngcontent-%COMP%], .user-exist__title[_ngcontent-%COMP%]{font-weight:400;line-height:1.4;text-align:center}.user-exist__text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-family:var(--main-fonts);font-size:var(--text-size--sm);margin-top:15px}.user-exist__button[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;display:block;margin:20px auto 0}.user-exist__button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:280px}@media (min-width:768px){.user-exist__popup[_ngcontent-%COMP%]{border-radius:15px;padding:40px 65px 50px;width:464px}.user-exist__text[_ngcontent-%COMP%]{font-size:var(--main-font-size)}}'],changeDetection:0}),t})(),E=(()=>{class t{constructor(t){this.dialogsService=t,this.subscribeUserOnNews=new n.n,this.regWithSubscription={size:p.d.Medium,theme:p.e.Green},this.regWithoutSubscription={size:p.d.Medium,theme:p.e.Gray}}close(){this.dialogsService.close(this.name)}registerUserWithSubscribe(t){this.close(),this.subscribeUserOnNews.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(j.b))},t.\u0275cmp=n.Gb({type:t,selectors:[["pd-news-subscription"]],inputs:{name:"name"},outputs:{subscribeUserOnNews:"subscribeUserOnNews"},decls:12,vars:13,consts:[[1,"subscription-popup"],[1,"subscription-popup__wrapper"],[1,"subscription-popup__title"],[1,"subscription-popup__button",3,"fullWidth","settings","click"],[1,"subscription-popup__close",3,"click"]],template:function(t,e){1&t&&(n.Sb(0,"section",0),n.Sb(1,"div",1),n.Sb(2,"h3",2),n.Ec(3),n.fc(4,"translate"),n.Rb(),n.Sb(5,"pd-button",3),n.ac("click",(function(){return e.registerUserWithSubscribe(!0)})),n.Ec(6),n.fc(7,"translate"),n.Rb(),n.Sb(8,"pd-button",3),n.ac("click",(function(){return e.registerUserWithSubscribe(!1)})),n.Ec(9),n.fc(10,"translate"),n.Rb(),n.Rb(),n.Sb(11,"pd-cross-icon2",4),n.ac("click",(function(){return e.close()})),n.Rb(),n.Rb()),2&t&&(n.Ab(3),n.Fc(n.gc(4,7,"AUTH.REGISTRATION.SUBSCRIBE_FOR_BONUS")),n.Ab(2),n.kc("fullWidth",!0)("settings",e.regWithSubscription),n.Ab(1),n.Fc(n.gc(7,9,"AUTH.REGISTRATION.I_WANT_BONUSES")),n.Ab(2),n.kc("fullWidth",!0)("settings",e.regWithoutSubscription),n.Ab(1),n.Fc(n.gc(10,11,"AUTH.REGISTRATION.NO_SUBSCRIBE")))},directives:[p.b,I.e],pipes:[T.c],styles:[".subscription-popup{background:var(--accent-1-bg-color);border-radius:15px 15px 0 0;height:260px;padding:40px 20px;text-align:center}.subscription-popup__wrapper{margin:0 auto;max-width:280px}.subscription-popup__title{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;margin-bottom:30px}.subscription-popup__button{display:block;margin-bottom:20px}.subscription-popup__close{padding:10px;position:absolute;right:0;top:0}.subscription-popup__close svg{width:15px;height:15px}@media (min-width:768px){.subscription-popup{width:400px;height:auto;border-radius:15px;padding:40px 60px}.subscription-popup__title{font-size:var(--h4-size)}}"],encapsulation:2,changeDetection:0}),t})();var N=r("jCJ1");function U(t,e){if(1&t&&n.Nb(0,"re-captcha",17),2&t){const t=n.ec().ngIf;n.kc("siteKey",t.key)}}function P(t,e){if(1&t&&(n.Qb(0),n.Cc(1,U,1,1,"re-captcha",15),n.Nb(2,"pd-input-error",16),n.fc(3,"async"),n.Pb()),2&t){const t=e.ngIf,r=n.ec(3);n.Ab(1),n.kc("ngIf",t.enabledForRegistration),n.Ab(1),n.kc("errors",n.gc(3,2,r.phoneErrors.get("recaptchaToken")))}}function F(t,e){if(1&t){const t=n.Tb();n.Qb(0,12),n.Sb(1,"pd-input-phone",13),n.ac("phoneCode",(function(e){return n.vc(t),n.ec(2).saveCode(e)})),n.fc(2,"translate"),n.fc(3,"async"),n.Rb(),n.Cc(4,P,4,4,"ng-container",6),n.fc(5,"async"),n.Sb(6,"pd-button",14),n.ac("buttonClicked",(function(){return n.vc(t),n.ec(2).sendCode()})),n.Ec(7),n.fc(8,"translate"),n.Rb(),n.Pb()}if(2&t){const t=n.ec(2);n.kc("formGroup",t.addPhoneForm),n.Ab(1),n.lc("placeholder",n.gc(2,7,"AUTH.REGISTRATION.PHONE")),n.kc("additionalClass",!0)("errors",n.gc(3,9,t.phoneErrors.get("phone"))),n.Ab(3),n.kc("ngIf",n.gc(5,11,t.captcha$)),n.Ab(2),n.kc("settings",t.registerButton),n.Ab(1),n.Fc(n.gc(8,13,"AUTH.REGISTRATION.SEND_CODE"))}}function G(t,e){if(1&t&&(n.Qb(0),n.Sb(1,"p",31),n.Ec(2),n.fc(3,"translate"),n.Sb(4,"span",32),n.Ec(5),n.Rb(),n.Rb(),n.Pb()),2&t){const t=n.ec(3);n.Ab(2),n.Gc("",n.gc(3,2,"AUTH.REGISTRATION.CODE_RESENT")," "),n.Ab(3),n.Fc(t.addPhoneForm.get("phone").value)}}function M(t,e){if(1&t){const t=n.Tb();n.Sb(0,"p",31),n.Ec(1),n.fc(2,"translate"),n.Sb(3,"span",32),n.Ec(4),n.Rb(),n.Rb(),n.Sb(5,"img",33),n.ac("click",(function(){return n.vc(t),n.ec(3).editPhone()})),n.Rb(),n.Sb(6,"p",34),n.Ec(7,"\u041d\u0435 \u043f\u0440\u0438\u0448\u043b\u043e SMS? "),n.Sb(8,"span",35),n.ac("click",(function(){return n.vc(t),n.ec(3).sendCode()})),n.Ec(9,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"),n.Rb(),n.Rb()}if(2&t){const t=n.ec(3);n.Ab(1),n.Gc("",n.gc(2,2,"AUTH.REGISTRATION.CODE_SENT")," "),n.Ab(3),n.Fc(t.addPhoneForm.get("phone").value)}}function $(t,e){if(1&t&&n.Nb(0,"re-captcha",17),2&t){const t=n.ec().ngIf;n.kc("siteKey",t.key)}}function H(t,e){if(1&t&&(n.Qb(0),n.Cc(1,$,1,1,"re-captcha",15),n.Nb(2,"pd-input-error",16),n.fc(3,"async"),n.Pb()),2&t){const t=e.ngIf,r=n.ec(3);n.Ab(1),n.kc("ngIf",t.enabledForRegistration),n.Ab(1),n.kc("errors",n.gc(3,2,r.registrationErrors.get("recaptchaToken")))}}const B=function(){return["page","terms"]},W=function(){return["page","privacy-policy"]};function D(t,e){if(1&t){const t=n.Tb();n.Qb(0,12),n.Sb(1,"section",18),n.Cc(2,G,6,4,"ng-container",19),n.Cc(3,M,10,4,"ng-template",null,20,n.Dc),n.Rb(),n.Sb(5,"section",21),n.Nb(6,"pd-input",22),n.fc(7,"translate"),n.fc(8,"async"),n.Nb(9,"pd-input",23),n.fc(10,"translate"),n.fc(11,"async"),n.Rb(),n.Nb(12,"pd-currency-selector",24),n.fc(13,"async"),n.Sb(14,"section",25),n.Sb(15,"pd-input-checkbox",26),n.Sb(16,"p"),n.Ec(17),n.fc(18,"translate"),n.Sb(19,"a",27),n.Ec(20),n.fc(21,"translate"),n.Rb(),n.Ec(22),n.fc(23,"translate"),n.Sb(24,"a",27),n.Ec(25),n.fc(26,"translate"),n.Rb(),n.Rb(),n.Rb(),n.Sb(27,"pd-input-checkbox",28),n.Sb(28,"p"),n.Ec(29),n.fc(30,"translate"),n.Rb(),n.Rb(),n.Sb(31,"pd-input-checkbox",29),n.Sb(32,"p"),n.Ec(33),n.fc(34,"translate"),n.Rb(),n.Rb(),n.Rb(),n.Cc(35,H,4,4,"ng-container",6),n.fc(36,"async"),n.Nb(37,"pd-input-error",30),n.Sb(38,"pd-button",14),n.ac("buttonClicked",(function(){return n.vc(t),n.ec(2).registerUser()})),n.Ec(39),n.fc(40,"translate"),n.Rb(),n.Pb()}if(2&t){const t=n.uc(4),e=n.ec().ngIf,r=n.ec();n.kc("formGroup",r.registrationForm),n.Ab(2),n.kc("ngIf","resent"===e)("ngIfElse",t),n.Ab(4),n.lc("placeholder",n.gc(7,19,"AUTH.REGISTRATION.CODE")),n.kc("errors",n.gc(8,21,r.registrationErrors.get("activationCode"))),n.Ab(3),n.lc("placeholder",n.gc(10,23,"AUTH.REGISTRATION.ENTER_PROMO_CODE")),n.kc("errors",n.gc(11,25,r.registrationErrors.get("promoCode"))),n.Ab(3),n.kc("currencies",n.gc(13,27,r.currencies$)),n.Ab(5),n.Gc(" ",n.gc(18,29,"AUTH.REGISTRATION.I_AGREE_WITH")," "),n.Ab(2),n.kc("goto",n.oc(45,B)),n.Ab(1),n.Fc(n.gc(21,31,"AUTH.REGISTRATION.TERMS_AND_CONDITIONS")),n.Ab(2),n.Gc(" ",n.gc(23,33,"COMMON.AND")," "),n.Ab(2),n.kc("goto",n.oc(46,W)),n.Ab(1),n.Fc(n.gc(26,35,"AUTH.REGISTRATION.PRIVACY_POLICY")),n.Ab(4),n.Fc(n.gc(30,37,"AUTH.REGISTRATION.I_AM_18")),n.Ab(4),n.Fc(n.gc(34,39,"AUTH.REGISTRATION.I_WANT_RECEIVE_NEWS")),n.Ab(2),n.kc("ngIf",n.gc(36,41,r.captcha$)),n.Ab(3),n.kc("settings",r.registerButton),n.Ab(1),n.Gc(" ",n.gc(40,43,"AUTH.REGISTRATION.SIGN_UP")," ")}}function z(t,e){if(1&t&&(n.Qb(0),n.Cc(1,F,9,15,"ng-container",11),n.Cc(2,D,41,47,"ng-container",11),n.Pb()),2&t){const t=e.ngIf;n.Ab(1),n.kc("ngIf","init"===t),n.Ab(1),n.kc("ngIf","sent"===t||"resent"===t)}}let V=(()=>{class t{constructor(t,e,r,i,o,n,a,s,g,l,u){this.localStorage=t,this.location=e,this.navigate=r,this.lang=i,this.window=o,this.seoService=n,this.actions$=a,this.fb=s,this.store=g,this.errorManager=l,this.dialogsService=u,this.dialogType="bottom-center",this.dialogTypeSubscription="bottom-center",this.existUserPopupHeight=this.window.innerWidth<768?"300px":"auto",this.tabs=c,this.registerButton={size:p.d.Large,theme:p.e.Green},this.addPhoneForm=this.fb.group(b),this.registrationForm=this.fb.group(h),this.captcha$=this.store.select(d.a.captcha),this.currencies$=this.store.select(d.a.currencies),this.pageState$=new _.a("init"),this.phoneErrors=this.errorManager.setUp(this.addPhoneForm,y.sendCodeFailure,!0).onServerValidate((t,e)=>{!t&&this.addPhoneForm.get("recaptchaToken").reset(null),this.phoneErrors.set(e)}),this.registrationErrors=this.errorManager.setUp(this.registrationForm,y.registerUserFailure,!0).onServerValidate((t,e)=>{!t&&this.registrationForm.get("recaptchaToken").reset(null),this.registrationErrors.set(e)}),this.actions$.pipe(Object(O.d)(y.sendCodeSuccess)).subscribe(()=>{const t="sent"===this.pageState$.getValue()?"resent":"sent";this.pageState$.next(t)});const f=this.localStorage.getItem(m.a.cpa);f&&this.registrationForm.get("cpaInfo").setValue(f);const x=this.localStorage.getItem(m.a.referrer);x&&this.registrationForm.get("referrer").setValue(x),this.seoService.setup("registration")}changeSection(t){const e=Object.entries(new URLSearchParams(this.location.search)).reduce((t,[e,r])=>Object.assign(Object.assign({},t),{[e]:r}),{});this.navigate(["auth",...t.split("/")],e)}editPhone(){this.pageState$.next("init")}saveCode(t){this.addPhoneForm.get("phone").setValue(t)}sendCode(){this.addPhoneForm.valid&&this.store.dispatch(y.sendCode({credentials:this.addPhoneForm.value}))}createRequestBody(){const t=Object.assign(Object.assign({},this.registrationForm.value),{code:this.registrationForm.value.activationCode,phone:""+this.addPhoneForm.get("phone").value,lang:this.lang});return delete t.activationCode,t}registerUser(){this.registrationForm.valid&&(this.registrationForm.value.subscription?this.store.dispatch(y.registerUser({credentials:this.createRequestBody()})):this.dialogsService.open("by-email-reg-sub"))}registerUserWithSubscribe(t){t&&this.registrationForm.get("subscription").setValue(t),this.store.dispatch(y.registerUser({credentials:this.createRequestBody()}))}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(w),n.Mb(f.a),n.Mb(u.k),n.Mb(u.g),n.Mb(f.c),n.Mb(R.a),n.Mb(O.a),n.Mb(g.c),n.Mb(x.h),n.Mb(k.a),n.Mb(j.b))},t.\u0275cmp=n.Gb({type:t,selectors:[["ng-component"]],features:[n.zb([k.a,{provide:v.a,useValue:{code:"activationCode"}}])],decls:14,vars:11,consts:[[1,"form","form--registration","registration-by-phone"],["page","registration_by_phone","section","left",1,"banner","banner__left"],["page","registration_by_phone","section","top",1,"banner","banner__top"],[1,"form__content"],[1,"join__title--registration","registration-by-phone__title"],[1,"registration-by-phone__tabs",3,"active","tabs","tabChanged"],[4,"ngIf"],["name","by-phone-exists",3,"type","height"],["name","by-phone-exists"],["name","by-email-reg-sub",3,"type"],["name","by-email-reg-sub",3,"subscribeUserOnNews"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["formControlName","phone",1,"phone__input",3,"additionalClass","placeholder","errors","phoneCode"],[1,"auth-button",3,"settings","buttonClicked"],["class","re-captcha","formControlName","recaptchaToken",3,"siteKey",4,"ngIf"],[1,"form__recaptcha-error",3,"errors"],["formControlName","recaptchaToken",1,"re-captcha",3,"siteKey"],[1,"phone-info"],[4,"ngIf","ngIfElse"],["sent",""],[1,"inputs__wrapper"],["formControlName","activationCode","autocomplete","off",1,"phone__input",3,"placeholder","errors"],["formControlName","promoCode","autocomplete","off",1,"promocode__input",3,"placeholder","errors"],["formControlName","currency","additionalClass","currency",1,"radio-block",3,"currencies"],[1,"checkbox__wrapper"],["additionalClass","pd-registration__agreement-item","for","agree","formControlName","hasPrivacyPolicy",1,"checkbox__item"],[1,"link",3,"goto"],["additionalClass","pd-registration__agreement-item","for","age","formControlName","isAdult",1,"checkbox__item"],["additionalClass","pd-registration__agreement-item","for","news","formControlName","subscription",1,"checkbox__item"],[1,"form__recaptcha-error"],[1,"phone-info__text"],[1,"phone-info__text--bold"],["alt","","src","./assets/images/auth/edit-phone.svg",1,"phone-info__edit",3,"click"],[1,"phone-info__text","phone-info__text--small"],[1,"phone-info__text--resend",3,"click"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Nb(1,"pd-banner-yield",1),n.Nb(2,"pd-banner-yield",2),n.Sb(3,"section",3),n.Sb(4,"h3",4),n.Ec(5),n.fc(6,"translate"),n.Rb(),n.Sb(7,"pd-button-group",5),n.ac("tabChanged",(function(t){return e.changeSection(t)})),n.Rb(),n.Cc(8,z,3,2,"ng-container",6),n.fc(9,"async"),n.Rb(),n.Rb(),n.Sb(10,"pd-dialogs",7),n.Nb(11,"pd-user-existing",8),n.Rb(),n.Sb(12,"pd-dialogs",9),n.Sb(13,"pd-news-subscription",10),n.ac("subscribeUserOnNews",(function(t){return e.registerUserWithSubscribe(t)})),n.Rb(),n.Rb()),2&t&&(n.Ab(5),n.Fc(n.gc(6,7,"AUTH.REGISTRATION.SIGN_UP")),n.Ab(2),n.kc("active","registration")("tabs",e.tabs),n.Ab(1),n.kc("ngIf",n.gc(9,9,e.pageState$)),n.Ab(2),n.kc("type",e.dialogType)("height",e.existUserPopupHeight),n.Ab(2),n.kc("type",e.dialogTypeSubscription))},directives:[A.a,p.c,i.m,j.a,C,E,g.m,g.h,p.n,g.l,g.f,p.b,p.k,N.a,N.d,p.i,p.f,p.h,u.d],pipes:[T.c,i.b],styles:[".registration-by-phone__title{text-transform:uppercase}.registration-by-phone__tabs .tabs{display:block}.registration-by-phone .phone-info{position:relative;margin:0 auto 20px;width:280px;min-height:60px;border-radius:5px;padding:10px;background-color:rgba(255,233,153,.25);text-align:left}.registration-by-phone .phone-info__edit{position:absolute;top:6px;right:6px;cursor:pointer}.registration-by-phone .phone-info__text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4}.registration-by-phone .phone-info__text:first-child{margin-bottom:4px}.registration-by-phone .phone-info__text--bold{font-family:var(--main-fonts-bold)}.registration-by-phone .phone-info__text--small{font-size:var(--text-size--xs)}.registration-by-phone .phone-info__text--resend{color:var(--primary-text-color);cursor:pointer}.registration-by-phone .form__content{position:relative}@media (min-width:768px){.registration-by-phone .inputs__wrapper .promocode__input,.registration-by-phone .phone__input,.registration-by-phone__tabs .tabs{width:280px;margin-left:auto;margin-right:auto}}@media (min-width:992px){.registration-by-phone .inputs__wrapper .promocode__input,.registration-by-phone .phone-info,.registration-by-phone .phone__input,.registration-by-phone .phone__input .field,.registration-by-phone__tabs .tabs{margin-left:0;display:block}.registration-by-phone .inputs__wrapper .promocode__input.promocode__input{width:280px}.registration-by-phone .inputs__wrapper{display:block}.registration-by-phone .phone__input .field{margin-bottom:30px}.registration-by-phone .phone-info{position:absolute;left:370px;padding:15px 35px 15px 15px}}@media (min-width:1200px){.registration-by-phone .form__content .radio-block.radio-block{position:static;width:100%;margin-bottom:10px}.registration-by-phone .form__content .radio-block.radio-block .currency__title{margin-bottom:20px}.registration-by-phone .form__content .radio-block.radio-block .currency__radio{display:block}.registration-by-phone .form__content .radio-block.radio-block .currency__radio .radio{display:inline-block}}",".form--registration .banner{width:280px;height:70px;margin-bottom:30px;background-size:contain;border-radius:15px}.form--registration .banner .banners-yield{height:100%}.form--registration .banner__left{height:100%;display:none;position:relative}.form--registration .banner__top{display:block;border-radius:15px;overflow:hidden;position:relative}.form--registration__tabs{width:100%}.form--registration .auth-button .button{margin-bottom:0}.form--registration .join__title--end-registration{margin-bottom:25px}.form--registration .social svg{width:40px;height:auto}.form--registration .promocode__input .field__input{width:100%;box-shadow:var(--promocode-shadow)}.form--registration--social{margin-top:80px}@media (min-width:768px){.form--registration--social{margin-top:105px;text-align:left;width:400px}.form--registration--social .currency__radio{justify-content:flex-start}.form--registration--social .auth-button .button{margin:0 auto;display:block}.form--registration .banner{width:480px;height:120px;margin-bottom:40px}.form--registration .auth-button .button{width:300px}.form--registration .join__title--end-registration{margin-bottom:35px}.form--registration .promocode__input{margin-left:auto;margin-right:auto}.form--registration--social .promocode__input{width:280px}}@media (min-width:992px){.form--registration{display:flex;text-align:left}.form--registration__tabs .tabs{width:280px}.form--registration .banner{width:220px;height:auto;min-width:220px;min-height:650px;margin:0;background-color:var(--desktop-left-banner-bg);background-repeat:no-repeat;border-radius:0}.form--registration .banner img{position:absolute;top:0;left:0}.form--registration .banner__top{display:none}.form--registration .banner__left{display:block}.form--registration .join{order:1;background:var(--main-bg);border:none;margin:0;padding:40px 20px 0 40px;min-width:220px;width:220px}.form--registration .join__title{margin-bottom:40px}.form--registration .join__title--registration{text-align:left}.form--registration .join__title--pd{display:none}.form--registration .join__title--end-registration{margin-bottom:35px}.form--registration .join__fake{width:210px;min-width:210px;background:var(--accent-1-bg-color)}.form--registration .join .social{display:flex;justify-content:flex-start;align-items:center;flex-wrap:wrap}.form--registration .join .social__item{margin:0}.form--registration .join .social .button__icon{margin-bottom:25px}.form--registration .join .social .button__icon:nth-child(2n-1){margin-right:30px}.form--registration .join .social svg{width:50px;height:auto}.form--registration .social{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.form--registration .social .button__icon{margin-bottom:25px}.form--registration .social .button__icon:nth-child(2n-1){margin-right:25px}.form--registration .form__content{padding:40px 40px 50px;width:100%}.form--registration .form__content .input-login,.form--registration .form__content .input-password,.form--registration .form__content .promocode__input{width:280px}.form--registration:not(.form--registration--social).auth-button .button{margin:0}.form--registration .re-captcha{transform:scale(.98)}.form--registration .re-captcha>div{margin:0 0 0 -6px}.form--registration--social{margin-top:110px}.form--registration--social .form__content{padding:10px 0 20px}.form--registration--social .form__content .input-password,.form--registration--social .form__content .promocode__input{width:280px}}@media (min-width:1200px){.form--registration .join__title--registration{display:block;width:100%}.form--registration .form__content{position:relative}.form--registration--social .form__content .input-password,.form--registration--social .form__content .promocode__input{width:280px}.form--registration .promocode .field{margin:0}.form--registration .checkbox__wrapper,.form--registration .re-captcha{order:2;width:100%}.form--registration .auth-button{order:3}}.form--registration .form__recaptcha-error{margin-top:-15px;display:block}.form--registration .form__recaptcha-error .error__message{text-align:center}@media (min-width:992px){.form--registration .form__recaptcha-error .error__message{text-align:left}}.form--registration__tabs .tabs{display:block}"],encapsulation:2,changeDetection:0}),t})();var L=r("yRen"),K=r("z6cu"),q=r("pLZG"),J=r("vkgz"),Y=r("lJxs"),Q=r("BOF4");const Z={checkEmailExistance:Object(x.n)("[Registration by email action] ",Object(x.s)()),registerUser:Object(x.n)("[Registration by email action] registring user",Object(x.s)()),registerUserSuccess:Object(x.n)("[Registration by email action] registring user SUCCESS",Object(x.s)()),registerUserFailure:Object(x.n)("[Registration by email action] Registration failure",Object(x.s)())};var X=r("NW0V");function tt(t,e){if(1&t&&(n.Sb(0,"section"),n.Sb(1,"div"),n.Nb(2,"img",22),n.Rb(),n.Sb(3,"div",23),n.Nb(4,"img",22),n.Rb(),n.Sb(5,"div",24),n.Ec(6),n.Rb(),n.Rb()),2&t){const t=e.ngIf;n.Db("socreg-header socreg-header--",t.regName,""),n.Ab(1),n.Db("socreg-header__info socreg-header__info--",t.regName,""),n.Ab(1),n.mc("src","./assets/images/auth/socialIcons/",t.regName,".svg",n.yc),n.Ab(2),n.lc("src",t.img,n.yc),n.Ab(2),n.Fc(t.name)}}function et(t,e){1&t&&(n.Qb(0),n.Nb(1,"pd-banner-yield",25),n.Nb(2,"pd-banner-yield",26),n.Sb(3,"section",27),n.Sb(4,"h3",28),n.Ec(5),n.fc(6,"translate"),n.Rb(),n.Sb(7,"h3",29),n.Ec(8),n.fc(9,"translate"),n.Rb(),n.Nb(10,"pd-social-auth-block",30),n.Rb(),n.Pb()),2&t&&(n.Ab(5),n.Fc(n.gc(6,2,"AUTH.REGISTRATION.SIGN_UP")),n.Ab(3),n.Fc(n.gc(9,4,"AUTH.REGISTRATION.BY_SOCIAL")))}function rt(t,e){1&t&&(n.Sb(0,"h3",31),n.Ec(1),n.fc(2,"translate"),n.Rb()),2&t&&(n.Ab(1),n.Gc(" ",n.gc(2,1,"AUTH.REGISTRATION.END_SOCIAL_REG")," "))}function it(t,e){if(1&t&&(n.Nb(0,"pd-input-email",32),n.fc(1,"async")),2&t){const t=n.ec();n.kc("errors",n.gc(1,1,t.errors.get("email")))}}function ot(t,e){if(1&t&&(n.Nb(0,"pd-input-password",33),n.fc(1,"translate"),n.fc(2,"async")),2&t){const t=n.ec();n.lc("placeholder",n.gc(1,2,"COMMON.PASSWORD")),n.kc("errors",n.gc(2,4,t.errors.get("password")))}}const nt=function(t){return{"radio-block__social":t}};function at(t,e){if(1&t&&(n.Nb(0,"pd-currency-selector",34),n.fc(1,"async")),2&t){const t=e.ngIf,r=n.ec();n.kc("currencies",t)("ngClass",n.pc(4,nt,n.gc(1,2,r.social$)))}}function st(t,e){if(1&t&&n.Nb(0,"re-captcha",37),2&t){const t=n.ec().ngIf;n.kc("siteKey",t.key)}}function ct(t,e){if(1&t&&(n.Qb(0),n.Cc(1,st,1,1,"re-captcha",35),n.Nb(2,"pd-input-error",36),n.fc(3,"async"),n.Pb()),2&t){const t=e.ngIf,r=n.ec();n.Ab(1),n.kc("ngIf",t.enabledForRegistration),n.Ab(1),n.kc("errors",n.gc(3,2,r.errors.get("recaptchaToken")))}}const pt=function(t){return{"form--registration--social":t}},gt=function(){return["page","terms"]},bt=function(){return["page","privacy-policy"]};let lt=(()=>{class t{constructor(t,e,r,i,o,n,a,s,g,b,l){this.localStorage=t,this.location=e,this.tokensService=r,this.navigate=i,this.lang=o,this.window=n,this.activatedRoute=a,this.fb=s,this.store=g,this.errorManager=b,this.dialogsService=l,this.dialogType="bottom-center",this.dialogTypeSubscription="bottom-center",this.existUserPopupHeight=this.window.innerWidth<768?"300px":"auto",this.tabs=c,this.form=this.fb.group(L.b),this.recaptcha$=this.store.select(d.a.captcha),this.registerButton={size:p.d.Large,theme:p.e.Green},this.currencies$=this.store.select(d.a.currencies),this.errors=this.errorManager.setUp(this.form,Z.registerUserFailure,!0).onServerValidate((t,e)=>{!t&&this.form.get("recaptchaToken").reset(null),this.errors.set(e)});const h=this.localStorage.getItem(m.a.cpa);h&&this.form.get("cpaInfo").setValue(h),this.form.get("lang").setValue(this.lang);const u=this.localStorage.getItem(m.a.referrer);u&&this.form.get("referrer").setValue(u),this.social$=this.activatedRoute.queryParams.pipe(Object(q.a)(t=>!!t.status||!!t.authToken),Object(J.a)(t=>{"success"!==t.status&&Object(K.a)("NOT_SUCCESS_STATUS")}),Object(Y.a)(t=>{this.form.controls.password.clearValidators(),this.form.get("authToken").setValue(t.authToken),this.tokensService.setSocialAuthToken(t.authToken);const e=Q(t.authToken),r={name:e.name||"",regName:e.network||"",img:e.avatar||"./assets/images/auth/avatar.svg",email:e.email||""};return e.email&&(this.form.get("email").setValue(r.email),this.store.dispatch(Z.checkEmailExistance({token:t.authToken,social:r}))),r})),this.social$.subscribe(t=>typeof t)}changeSection(t){const e=Object.entries(new URLSearchParams(this.location.search)).reduce((t,[e,r])=>Object.assign(Object.assign({},t),{[e]:r}),{});this.navigate(["auth",...t.split("/")],e)}registerUser(){this.form.valid&&(this.form.value.subscription?this.store.dispatch(Z.registerUser({credentials:this.form.value})):this.dialogsService.open("by-email-reg-sub"))}registerUserWithSubscribe(t){t&&this.form.get("subscription").setValue(t),this.store.dispatch(Z.registerUser({credentials:this.form.value}))}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(u.i),n.Mb(f.a),n.Mb(u.u),n.Mb(u.k),n.Mb(u.g),n.Mb(f.c),n.Mb(o.a),n.Mb(g.c),n.Mb(x.h),n.Mb(k.a),n.Mb(j.b))},t.\u0275cmp=n.Gb({type:t,selectors:[["ng-component"]],features:[n.zb([k.a])],decls:53,vars:67,consts:[[1,"form","form--registration",3,"formGroup","ngClass","keyup.enter"],[3,"class",4,"ngIf"],[4,"ngIf"],[1,"form__content"],[1,"join__title--registration","join__title--registration--desktop"],["class","join__title join__title--end-registration",4,"ngIf"],[1,"inputs__wrapper"],[1,"form--registration__tabs",3,"active","tabs","tabChanged"],["class","input-email","formControlName","email","placeholder","E-mail",3,"errors",4,"ngIf"],["class","input-password","formControlName","password",3,"placeholder","errors",4,"ngIf"],["formControlName","promoCode",1,"promocode__input",3,"placeholder","errors"],["class","radio-block","formControlName","currency","additionalClass","currency",3,"currencies","ngClass",4,"ngIf"],[1,"checkbox__wrapper"],["additionalClass","pd-registration__agreement-item","for","agree","formControlName","hasPrivacyPolicy",1,"checkbox__item"],[1,"link",3,"goto"],["additionalClass","pd-registration__agreement-item","for","age","formControlName","isAdult",1,"checkbox__item"],["additionalClass","pd-registration__agreement-item","for","news","formControlName","subscription",1,"checkbox__item"],[1,"auth-button",3,"settings","buttonClicked"],["name","by-email-exists",3,"type","height"],["name","by-email-exists"],["name","by-email-reg-sub",3,"type"],["name","by-email-reg-sub",3,"subscribeUserOnNews"],[3,"src"],[1,"socreg-header__img"],[1,"socreg-header__name"],["page","registration","section","left",1,"banner","banner__left"],["page","registration","section","top",1,"banner","banner__top"],[1,"join","join__social"],[1,"join__title--registration","join__title--registration--mobile"],[1,"join__title--social","join__title"],["section","registration"],[1,"join__title","join__title--end-registration"],["formControlName","email","placeholder","E-mail",1,"input-email",3,"errors"],["formControlName","password",1,"input-password",3,"placeholder","errors"],["formControlName","currency","additionalClass","currency",1,"radio-block",3,"currencies","ngClass"],["class","re-captcha","formControlName","recaptchaToken",3,"siteKey",4,"ngIf"],[1,"form__recaptcha-error",3,"errors"],["formControlName","recaptchaToken",1,"re-captcha",3,"siteKey"]],template:function(t,e){var r;1&t&&(n.Sb(0,"form",0),n.ac("keyup.enter",(function(){return e.registerUser()})),n.fc(1,"async"),n.Cc(2,tt,7,9,"section",1),n.fc(3,"async"),n.Cc(4,et,11,6,"ng-container",2),n.fc(5,"async"),n.Sb(6,"section",3),n.Sb(7,"h3",4),n.Ec(8),n.fc(9,"translate"),n.Rb(),n.Cc(10,rt,3,3,"h3",5),n.fc(11,"async"),n.Sb(12,"section",6),n.Sb(13,"pd-button-group",7),n.ac("tabChanged",(function(t){return e.changeSection(t)})),n.Rb(),n.Cc(14,it,2,3,"pd-input-email",8),n.fc(15,"async"),n.Cc(16,ot,3,6,"pd-input-password",9),n.fc(17,"async"),n.Nb(18,"pd-input",10),n.fc(19,"translate"),n.fc(20,"async"),n.Rb(),n.Cc(21,at,2,6,"pd-currency-selector",11),n.fc(22,"async"),n.Sb(23,"section",12),n.Sb(24,"pd-input-checkbox",13),n.Sb(25,"p"),n.Ec(26),n.fc(27,"translate"),n.Sb(28,"a",14),n.Ec(29),n.fc(30,"translate"),n.Rb(),n.Ec(31),n.fc(32,"translate"),n.Sb(33,"a",14),n.Ec(34),n.fc(35,"translate"),n.Rb(),n.Rb(),n.Rb(),n.Sb(36,"pd-input-checkbox",15),n.Sb(37,"p"),n.Ec(38),n.fc(39,"translate"),n.Rb(),n.Rb(),n.Sb(40,"pd-input-checkbox",16),n.Sb(41,"p"),n.Ec(42),n.fc(43,"translate"),n.Rb(),n.Rb(),n.Rb(),n.Cc(44,ct,4,4,"ng-container",2),n.fc(45,"async"),n.Sb(46,"pd-button",17),n.ac("buttonClicked",(function(){return e.registerUser()})),n.Ec(47),n.fc(48,"translate"),n.Rb(),n.Rb(),n.Rb(),n.Sb(49,"pd-dialogs",18),n.Nb(50,"pd-user-existing",19),n.Rb(),n.Sb(51,"pd-dialogs",20),n.Sb(52,"pd-news-subscription",21),n.ac("subscribeUserOnNews",(function(t){return e.registerUserWithSubscribe(t)})),n.Rb(),n.Rb()),2&t&&(n.kc("formGroup",e.form)("ngClass",n.pc(63,pt,n.gc(1,27,e.social$))),n.Ab(2),n.kc("ngIf",n.gc(3,29,e.social$)),n.Ab(2),n.kc("ngIf",null===n.gc(5,31,e.social$)),n.Ab(4),n.Fc(n.gc(9,33,"AUTH.REGISTRATION.SIGN_UP")),n.Ab(2),n.kc("ngIf",n.gc(11,35,e.social$)),n.Ab(3),n.kc("active","registration/by-email")("tabs",e.tabs),n.Ab(1),n.kc("ngIf",null===(null==(r=n.gc(15,37,e.social$))?null:r.email)),n.Ab(2),n.kc("ngIf",null===n.gc(17,39,e.social$)),n.Ab(2),n.lc("placeholder",n.gc(19,41,"AUTH.REGISTRATION.ENTER_PROMO_CODE")),n.kc("errors",n.gc(20,43,e.errors.get("promoCode"))),n.Ab(3),n.kc("ngIf",n.gc(22,45,e.currencies$)),n.Ab(5),n.Gc(" ",n.gc(27,47,"AUTH.REGISTRATION.I_AGREE_WITH")," "),n.Ab(2),n.kc("goto",n.oc(65,gt)),n.Ab(1),n.Fc(n.gc(30,49,"AUTH.REGISTRATION.TERMS_AND_CONDITIONS")),n.Ab(2),n.Gc(" ",n.gc(32,51,"COMMON.AND")," "),n.Ab(2),n.kc("goto",n.oc(66,bt)),n.Ab(1),n.Fc(n.gc(35,53,"AUTH.REGISTRATION.PRIVACY_POLICY")),n.Ab(4),n.Fc(n.gc(39,55,"AUTH.REGISTRATION.I_AM_18")),n.Ab(4),n.Fc(n.gc(43,57,"AUTH.REGISTRATION.I_WANT_RECEIVE_NEWS")),n.Ab(2),n.kc("ngIf",n.gc(45,59,e.recaptcha$)),n.Ab(2),n.kc("settings",e.registerButton),n.Ab(1),n.Fc(n.gc(48,61,"AUTH.REGISTRATION.SIGN_UP")),n.Ab(2),n.kc("type",e.dialogType)("height",e.existUserPopupHeight),n.Ab(2),n.kc("type",e.dialogTypeSubscription))},directives:[g.t,g.m,g.h,i.k,i.m,p.c,p.i,g.l,g.f,p.h,u.d,p.b,j.a,C,E,A.a,X.a,p.j,p.m,p.f,p.k,N.a,N.d],pipes:[i.b,T.c],styles:[".form--registration .banner{width:280px;height:70px;margin-bottom:30px;background-size:contain;border-radius:15px}.form--registration .banner .banners-yield{height:100%}.form--registration .banner__left{height:100%;display:none;position:relative}.form--registration .banner__top{display:block;border-radius:15px;overflow:hidden;position:relative}.form--registration__tabs{width:100%}.form--registration .auth-button .button{margin-bottom:0}.form--registration .join__title--end-registration{margin-bottom:25px}.form--registration .social svg{width:40px;height:auto}.form--registration .promocode__input .field__input{width:100%;box-shadow:var(--promocode-shadow)}.form--registration--social{margin-top:80px}@media (min-width:768px){.form--registration--social{margin-top:105px;text-align:left;width:400px}.form--registration--social .currency__radio{justify-content:flex-start}.form--registration--social .auth-button .button{margin:0 auto;display:block}.form--registration .banner{width:480px;height:120px;margin-bottom:40px}.form--registration .auth-button .button{width:300px}.form--registration .join__title--end-registration{margin-bottom:35px}.form--registration .promocode__input{margin-left:auto;margin-right:auto}.form--registration--social .promocode__input{width:280px}}@media (min-width:992px){.form--registration{display:flex;text-align:left}.form--registration__tabs .tabs{width:280px}.form--registration .banner{width:220px;height:auto;min-width:220px;min-height:650px;margin:0;background-color:var(--desktop-left-banner-bg);background-repeat:no-repeat;border-radius:0}.form--registration .banner img{position:absolute;top:0;left:0}.form--registration .banner__top{display:none}.form--registration .banner__left{display:block}.form--registration .join{order:1;background:var(--main-bg);border:none;margin:0;padding:40px 20px 0 40px;min-width:220px;width:220px}.form--registration .join__title{margin-bottom:40px}.form--registration .join__title--registration{text-align:left}.form--registration .join__title--pd{display:none}.form--registration .join__title--end-registration{margin-bottom:35px}.form--registration .join__fake{width:210px;min-width:210px;background:var(--accent-1-bg-color)}.form--registration .join .social{display:flex;justify-content:flex-start;align-items:center;flex-wrap:wrap}.form--registration .join .social__item{margin:0}.form--registration .join .social .button__icon{margin-bottom:25px}.form--registration .join .social .button__icon:nth-child(2n-1){margin-right:30px}.form--registration .join .social svg{width:50px;height:auto}.form--registration .social{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.form--registration .social .button__icon{margin-bottom:25px}.form--registration .social .button__icon:nth-child(2n-1){margin-right:25px}.form--registration .form__content{padding:40px 40px 50px;width:100%}.form--registration .form__content .input-login,.form--registration .form__content .input-password,.form--registration .form__content .promocode__input{width:280px}.form--registration:not(.form--registration--social).auth-button .button{margin:0}.form--registration .re-captcha{transform:scale(.98)}.form--registration .re-captcha>div{margin:0 0 0 -6px}.form--registration--social{margin-top:110px}.form--registration--social .form__content{padding:10px 0 20px}.form--registration--social .form__content .input-password,.form--registration--social .form__content .promocode__input{width:280px}}@media (min-width:1200px){.form--registration .join__title--registration{display:block;width:100%}.form--registration .form__content{position:relative}.form--registration--social .form__content .input-password,.form--registration--social .form__content .promocode__input{width:280px}.form--registration .promocode .field{margin:0}.form--registration .checkbox__wrapper,.form--registration .re-captcha{order:2;width:100%}.form--registration .auth-button{order:3}}.form--registration .form__recaptcha-error{margin-top:-15px;display:block}.form--registration .form__recaptcha-error .error__message{text-align:center}@media (min-width:992px){.form--registration .form__recaptcha-error .error__message{text-align:left}}.form--registration__tabs .tabs{display:block}",".socreg-header{width:100vw;height:65px;display:grid;position:absolute;left:0;top:0;align-items:center;justify-content:center;grid-template-columns:105px 70px 105px}.socreg-header,.socreg-header--google{background:var(--google-bg)}.socreg-header--facebook{background:var(--fb-bg)}.socreg-header--mailru{background:var(--mailru-bg)}.socreg-header--odnoklassniki{background:var(--ok-bg)}.socreg-header--vkontakte{background:var(--vk-bg)}.socreg-header--yandex{background:var(--yandex-bg)}.socreg-header__img{width:70px;height:70px;border-radius:50%;overflow:hidden;position:relative;top:20px}.socreg-header__img img{width:100%;height:auto}.socreg-header__info img{width:100%;height:auto;display:block}.socreg-header__info--google{width:65px}.socreg-header__info--facebook{width:75px}.socreg-header__info--mailru{width:68px}.socreg-header__info--odnoklassniki{width:90px}.socreg-header__info--vkontakte{width:34px}.socreg-header__info--yandex{width:54px}.socreg-header__name{color:var(--accent-1-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--xs);line-height:1.4;width:90px;margin:5px 0 0 15px;text-align:left}@media (min-width:768px){.socreg-header{width:100%;height:90px;grid-template-columns:150px 100px 150px}.socreg-header__img{width:100px;height:100px;top:30px}.socreg-header__info--google{width:90px}.socreg-header__info--facebook{width:95px}.socreg-header__info--mailru{width:88px}.socreg-header__info--odnoklassniki{width:119px}.socreg-header__info--vkontakte{width:40px}.socreg-header__info--yandex{width:79px}.socreg-header__name{margin-left:20px;font-size:var(--text-size--sm)}}"],encapsulation:2,changeDetection:0}),t})();const ht={confirm:Object(x.n)("[Registration confirm action] confirming token",Object(x.s)()),confirmSuccess:Object(x.n)("[Registration confirm action] confirming token SUCCESS",Object(x.s)()),confirmFailure:Object(x.n)("[Registration confirm action] confirm token failure")};let dt=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.store=e;const{token:r}=this.activatedRoute.snapshot.params;this.store.dispatch(ht.confirm({code:r}))}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(o.a),n.Mb(x.h))},t.\u0275cmp=n.Gb({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})();const ut={authenticateUserBySocial:Object(x.n)("[Registration by social action] authenticating user by AuthToken",Object(x.s)()),authenticateUserBySocialSuccess:Object(x.n)("[Registration by social action] authenticating user by AuthToken SUCCESS",Object(x.s)()),authenticateUserBySocialFailure:Object(x.n)("[Registration by social action] authenticating user by AuthToken FAILURE",Object(x.s)())},mt=[{path:"",component:a,children:[{path:"",component:V},{path:"by-email",component:lt},{path:"confirm/:token",component:dt},{path:"social",component:(()=>{class t{constructor(t,e){this.activatedRoute=t,this.store=e,this.registrationByTokenSubs=this.activatedRoute.queryParams.pipe(Object(q.a)(t=>!!t.authToken||!!t.status)).subscribe(t=>this.store.dispatch(ut.authenticateUserBySocial({params:t})))}ngOnDestroy(){this.registrationByTokenSubs&&this.registrationByTokenSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(o.a),n.Mb(x.h))},t.\u0275cmp=n.Gb({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})()}]}];let ft=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[o.i.forChild(mt)],o.i]}),t})();var _t=r("eIep"),xt=r("JIr8"),St=r("iMPd"),yt=r("LRne"),kt=r("u+qz");let Ot=(()=>{class t{constructor(t,e,r,i){this.navigate=t,this.actions$=e,this.userService=r,this.dialogsService=i,this.checkEmailExistance$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(Z.checkEmailExistance),Object(_t.a)(({token:t,social:e})=>this.userService.checkEmailExistance(t).pipe(Object(J.a)(t=>!t.available&&this.navigate(["/auth","login"],{social:e.regName,socRegUserImg:e.img,socRegUserName:e.name,email:e.email}))))),{dispatch:!1}),this.registerUser$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(Z.registerUser),Object(_t.a)(({credentials:t})=>this.userService.registration(t).pipe(Object(Y.a)(t=>Z.registerUserSuccess({token:t})),Object(xt.a)(t=>Object(yt.a)(Z.registerUserFailure({error:t}))))))),this.registerUserSuccess$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(Z.registerUserSuccess),Object(Y.a)(({token:t})=>St.a.authenticateUser({token:t})))),this.registerUserFailure$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(Z.registerUserFailure),Object(J.a)(({error:{issues:{0:{message:t}}}})=>{"pokerdom user exists"===t&&this.dialogsService.open("by-email-exists")})),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(u.k),n.Wb(O.a),n.Wb(kt.a),n.Wb(j.b))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac}),t})();var vt=r("w1tV");let wt=(()=>{class t{constructor(t,e,r,i){this.actions$=t,this.userService=e,this.localStorage=r,this.dialogsService=i,this.sendCode$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(y.sendCode),Object(_t.a)(({credentials:t})=>this.userService.sendCode(t).pipe(Object(Y.a)(()=>y.sendCodeSuccess()),Object(xt.a)(t=>Object(yt.a)(y.sendCodeFailure({error:t}))))),Object(vt.a)())),this.registerUser$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(y.registerUser),Object(_t.a)(({credentials:t})=>this.userService.registration(t).pipe(Object(Y.a)(t=>y.registerUserSuccess({response:t})),Object(xt.a)(t=>Object(yt.a)(y.registerUserFailure({error:t}))))))),this.registerUserSuccess$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(y.registerUserSuccess),Object(Y.a)(({response:t})=>("bonus"in t&&t.bonus.gameSlug&&this.localStorage.setItem(m.a.returnPath,"/slots/"+t.bonus.gameSlug),St.a.authenticateUser({token:t}))))),this.registerUserFailure$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(y.sendCodeFailure),Object(q.a)(({error:t})=>!!Object.keys(t.issues).find(t=>"pokerdom user exists"===t)),Object(J.a)(()=>this.dialogsService.open("by-phone-exists"))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(O.a),n.Wb(kt.a),n.Wb(u.i),n.Wb(j.b))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac}),t})(),Rt=(()=>{class t{constructor(t,e){this.actions$=t,this.userService=e,this.confirm$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(ht.confirm),Object(_t.a)(({code:t})=>this.userService.confirm({code:t})),Object(Y.a)(t=>ht.confirmSuccess({token:t})),Object(xt.a)(()=>Object(yt.a)(ht.confirmFailure())))),this.confirmSuccess$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(ht.confirmSuccess),Object(Y.a)(({token:t})=>St.a.authenticateUser({token:t}))))}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(O.a),n.Wb(kt.a))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac}),t})();var jt=r("lvx5");let At=(()=>{class t{constructor(t,e,r,i){this.navigate=t,this.actions$=e,this.store=r,this.userService=i,this.authenticateUserBySocial$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(ut.authenticateUserBySocial),Object(J.a)(({params:t})=>{"success"!==t.status&&Object(K.a)({error:{code:"NOT_SUCCESS_STATUS"}})}),Object(_t.a)(({params:t})=>this.userService.authenticateUserBySocial({credentials:t.authToken}).pipe(Object(xt.a)(()=>Object(K.a)({error:{code:"NOT_AUTHORIZED",params:t}})))),Object(Y.a)(t=>ut.authenticateUserBySocialSuccess({token:t})),Object(xt.a)(({error:t})=>Object(yt.a)(ut.authenticateUserBySocialFailure({error:t}))))),this.authenticateUserBySocialSuccess$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(ut.authenticateUserBySocialSuccess),Object(Y.a)(({token:t})=>St.a.authenticateUser({token:t})))),this.authenticateUserBySocialFailure$=Object(O.c)(()=>this.actions$.pipe(Object(O.d)(ut.authenticateUserBySocialFailure),Object(J.a)(({error:t})=>{const e="NOT_AUTHORIZED"===t.code?Object.assign({},t.params):{};"NOT_SUCCESS_STATUS"===t.code&&this.store.dispatch(jt.a.error({message:"NOTIFICATIONS.MESSAGES.AUTH_REGISTRATION_ERROR"})),this.navigate(["/auth","registration","by-email"],e)})),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(u.k),n.Wb(O.a),n.Wb(x.h),n.Wb(kt.a))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac}),t})();var It=r("989L"),Tt=r("fkD9");let Ct=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[i.c,N.c,N.b,g.p,u.n,I.w,p.t,ft,Tt.a,O.b.forFeature([Ot,wt,Rt,At]),j.c,It.a]]}),t})()},evrj:function(t,e,r){var i=r("m4GZ");t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(i(t).replace(/(.)/g,(function(t,e){var r=e.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(e)}catch(r){return i(e)}}},m4GZ:function(t,e){function r(t){this.message=t}(r.prototype=new Error).name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,o,n=0,a=0,s="";o=e.charAt(a++);~o&&(i=n%4?64*i+o:o,n++%4)?s+=String.fromCharCode(255&i>>(-2*n&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return s}}}]);