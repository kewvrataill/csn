(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{QUrN:function(t,e,o){"use strict";o.d(e,"a",(function(){return a})),o.d(e,"b",(function(){return s}));var i=o("fXoL");const n=o("wd/R");let a=(()=>{class t{transform(t,...e){return t?n(t).format(e[0]):""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Lb({name:"amDateFormat",type:t,pure:!0}),t})();const c=new i.q("NGX_MOMENT_OPTIONS");let s=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:c,useValue:Object.assign({},e)}]}}}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)}}),t})()},Vj0D:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var i=o("a4Kx"),n=o("ZoBR"),a=o("pLZG"),c=o("lJxs"),s=o("vkgz"),r=o("ds5d"),d=o("fXoL"),b=o("l7P3");let l=(()=>{class t{constructor(t,e,o){this.request=t,this.navigate=e,this.store=o}canActivate(t,e){return this.canActivateCheck()}canActivateChild(t,e){return this.canActivateCheck()}canActivateCheck(){return this.store.select(n.a.isAuth).pipe(Object(a.a)(t=>null!==t),Object(c.a)(t=>!!t),Object(s.a)(t=>!t&&this.navigate(["auth","login"]).then(()=>this.request&&this.request.res&&this.request.res.status(401))))}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(i.a,8),d.Wb(r.k),d.Wb(b.h))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},a4Kx:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var i=o("fXoL");const n=new i.q("REQUEST");new i.q("RESPONSE")},uEIt:function(t,e,o){"use strict";o.r(e),o.d(e,"SettingsModule",(function(){return Ge}));var i=o("ofXK"),n=o("ds5d"),a=o("CO75"),c=o("2Vo4"),s=o("fXoL");let r=(()=>{class t{constructor(){this._activeSection$=new c.a(null),this.activeSection=this._activeSection$.asObservable()}changeSection(t){this._activeSection$.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})(),d=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},providers:[r],imports:[[i.c,n.n,a.w]]}),t})();var b=o("aG/c"),l=o("3Pt+"),p=o("jCJ1"),f=o("tyNb"),u=o("sYmb");const g=["section"];function m(t,e){1&t&&s.Nb(0,"pd-plus-icon",7)}function h(t,e){1&t&&s.Nb(0,"pd-minus-icon",8)}const _=function(t){return{active:t}},v=["*"];let x=(()=>{class t{constructor(t,e){this.accordionService=t,this.cd=e,this.section=null,this.titleName="",this.padding="",this.isActive=!1}setActive(t){this.isActive=t,this.cd.detectChanges()}sectionClicked(){this.accordionService.changeSection(this.section)}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(r),s.Mb(s.h))},t.\u0275cmp=s.Gb({type:t,selectors:[["pd-accordion-section"]],viewQuery:function(t,e){var o;1&t&&s.Kc(g,!0,s.l),2&t&&s.tc(o=s.bc())&&(e.el=o.first)},inputs:{section:"section",titleName:"titleName",padding:"padding",isActive:"isActive"},ngContentSelectors:v,decls:10,vars:9,consts:[[1,"item",3,"ngClass","id"],["section",""],[1,"btn",3,"click"],[1,"title"],["class","icon icon__plus",4,"ngIf"],["class","icon",4,"ngIf"],[1,"content"],[1,"icon","icon__plus"],[1,"icon"]],template:function(t,e){if(1&t&&(s.jc(),s.Sb(0,"li",0,1),s.Sb(2,"button",2),s.ac("click",(function(){return e.sectionClicked()})),s.Sb(3,"h3",3),s.Ec(4),s.fc(5,"translate"),s.Rb(),s.Cc(6,m,1,0,"pd-plus-icon",4),s.Cc(7,h,1,0,"pd-minus-icon",5),s.Rb(),s.Sb(8,"div",6),s.ic(9),s.Rb(),s.Rb()),2&t){const t=s.uc(1);s.kc("ngClass",s.pc(7,_,e.isActive))("id",t),s.Ab(4),s.Fc(s.gc(5,5,e.titleName)),s.Ab(2),s.kc("ngIf",!e.isActive),s.Ab(1),s.kc("ngIf",e.isActive)}},directives:[i.k,i.m,a.y,a.q],pipes:[u.c],styles:[".item{box-shadow:var(--sm-shadow);margin-bottom:10px}.item,.item .btn{border-radius:15px}.item .btn{display:flex;justify-content:space-between;align-items:auto;width:100%;padding:17px 20px;background-color:var(--accent-1-bg-color);color:var(--secondary-text-color);-webkit-tap-highlight-color:transparent}.item .icon__plus svg path{fill:var(--tertiary-bg-color)}.item .title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--xs);line-height:1.4;text-transform:uppercase}.item .content{background:var(--accent-1-bg-color);overflow:hidden;max-height:0;opacity:0;transition:opacity .2s ease-out,max-height .2s ease-out .1s;border-radius:0 0 15px 15px}.item.active{box-shadow:var(--md-shadow);margin-bottom:20px}.item.active .btn{background:var(--settings-accordion-bg);border-radius:15px 15px 0 0}.item.active .title{color:var(--accent-1-title-color)}.item.active .content{height:auto;opacity:1;transition:opacity .18s ease-in,max-height .18s ease-in .1s;max-height:2000px}.item:hover .btn{color:var(--primary-text-hover)}@media (min-width:768px){.item{margin-bottom:20px}.item .title{font-size:var(--main-font-size)}.item .btn{padding:23px 30px}.item.active{margin-bottom:30px}}"],encapsulation:2}),t})();var S=o("3E0/"),O=o("PqYM");const w=["*"];let E=(()=>{class t{constructor(t,e){this.accordionService=t,this.location=e,this.component=null,this.activeChangeSubs=this.accordionService.activeSection.pipe(Object(S.a)(300)).subscribe(t=>{this.sections.forEach(e=>{const o=e.section===t;e.setActive(o),o&&Object(O.a)(700).subscribe(()=>e.el.nativeElement.scrollIntoView({behavior:"smooth",block:"nearest"}))}),this.location.go(`${this.component}/${t}`)})}ngOnDestroy(){this.activeChangeSubs&&this.activeChangeSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(r),s.Mb(i.h))},t.\u0275cmp=s.Gb({type:t,selectors:[["pd-accordion"]],contentQueries:function(t,e,o){var i;1&t&&s.Fb(o,x,!1),2&t&&s.tc(i=s.bc())&&(e.sections=i)},inputs:{component:"component"},ngContentSelectors:w,decls:2,vars:0,consts:[[1,"accordion"]],template:function(t,e){1&t&&(s.jc(),s.Sb(0,"ul",0),s.ic(1),s.Rb())},encapsulation:2,changeDetection:0}),t})();var A=o("ZoBR"),C=o("/uUt");const I={first_name:["",l.r.required],last_name:["",l.r.required],nick:[""],nickExists:[""],password:[""],passwordExists:[""]};var R=o("Kceu"),y=o("9jGm"),F=o("l7P3");const k="[Settings personal info]",T={updatePersonalInfo:Object(F.n)(k+" update personal info",Object(F.s)()),updatePersonalInfoSuccess:Object(F.n)(k+" update personal info SUCCESS"),updatePersonalInfoFailure:Object(F.n)(k+" update personal info FAILURE",Object(F.s)())};var P=function(t){return t.Account="account",t.ChangePassword="change-password",t.ContactDetails="contact-details",t.ResponsibleGaming="responsible-gaming",t.TwoFactorAuth="two-factor-auth",t.DocumentsVerification="documents-verification",t.LoyaltyProgram="loyalty-program",t.ColorTheme="color-theme",t}({});function N(t,e){if(1&t&&(s.Sb(0,"div",15),s.Ec(1),s.Rb()),2&t){const t=s.ec(2);s.Ab(1),s.Fc(t.firstName)}}function j(t,e){if(1&t&&(s.Nb(0,"pd-input",16),s.fc(1,"async")),2&t){const t=s.ec(2);s.kc("errors",s.gc(1,1,t.errors.get("first_name")))}}function L(t,e){if(1&t&&(s.Sb(0,"div",15),s.Ec(1),s.Rb()),2&t){const t=s.ec(2);s.Ab(1),s.Fc(t.lastName)}}function D(t,e){if(1&t&&(s.Nb(0,"pd-input",17),s.fc(1,"async")),2&t){const t=s.ec(2);s.kc("errors",s.gc(1,1,t.errors.get("last_name")))}}function M(t,e){if(1&t&&(s.Sb(0,"div",15),s.Ec(1),s.Rb()),2&t){const t=s.ec(2);s.Ab(1),s.Fc(t.nick)}}function z(t,e){if(1&t&&(s.Nb(0,"pd-input",18),s.fc(1,"async")),2&t){const t=s.ec(2);s.kc("errors",s.gc(1,1,t.errors.get("nick")))}}function G(t,e){if(1&t&&(s.Sb(0,"div",15),s.Ec(1),s.Rb()),2&t){const t=s.ec(2);s.Ab(1),s.Fc(t.passwordString)}}function U(t,e){if(1&t&&(s.Nb(0,"pd-input-password",19),s.fc(1,"async")),2&t){const t=s.ec(2);s.kc("errors",s.gc(1,1,t.errors.get("password")))}}function $(t,e){if(1&t){const t=s.Tb();s.Sb(0,"pd-button",20),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(2).toggleFormState()})),s.Ec(1),s.fc(2,"translate"),s.Rb()}if(2&t){const t=s.ec(2);s.kc("settings",t.editButton),s.Ab(1),s.Fc(s.gc(2,2,"PROFILE.PERSONAL_INFO.EDIT"))}}function V(t,e){if(1&t){const t=s.Tb();s.Sb(0,"pd-button",21),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(2).goToChangePassword()})),s.Ec(1),s.fc(2,"translate"),s.Rb()}if(2&t){const t=s.ec(2);s.kc("settings",t.editButton),s.Ab(1),s.Fc(s.gc(2,2,"PROFILE.CHANGE_PASSWORD.TITLE"))}}function B(t,e){if(1&t){const t=s.Tb();s.Sb(0,"pd-button",22),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(2).save()})),s.Ec(1),s.fc(2,"translate"),s.Rb()}if(2&t){const t=s.ec(2);s.kc("settings",t.saveButton)("disabled",!t.form.valid),s.Ab(1),s.Fc(s.gc(2,3,"PROFILE.PERSONAL_INFO.SAVE"))}}function W(t,e){if(1&t){const t=s.Tb();s.Sb(0,"pd-button",23),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(2).toggleFormState()})),s.Ec(1),s.fc(2,"translate"),s.Rb()}if(2&t){const t=s.ec(2);s.kc("settings",t.editButton),s.Ab(1),s.Fc(s.gc(2,2,"PROFILE.PERSONAL_INFO.CANCEL"))}}const H=function(t){return{edit:t}};function q(t,e){if(1&t){const t=s.Tb();s.Sb(0,"form",1),s.ac("ngSubmit",(function(){return s.vc(t),s.ec().save()}))("keyup.enter",(function(){return s.vc(t),s.ec().save()})),s.Sb(1,"div",2),s.Sb(2,"div",3),s.Sb(3,"div",4),s.Ec(4),s.fc(5,"translate"),s.Rb(),s.Cc(6,N,2,1,"div",5),s.Cc(7,j,2,3,"pd-input",6),s.Rb(),s.Sb(8,"div",7),s.Sb(9,"div",4),s.Ec(10),s.fc(11,"translate"),s.Rb(),s.Cc(12,L,2,1,"div",5),s.Cc(13,D,2,3,"pd-input",8),s.Rb(),s.Rb(),s.Sb(14,"div",2),s.Sb(15,"div",3),s.Sb(16,"div",4),s.Ec(17),s.fc(18,"translate"),s.Rb(),s.Cc(19,M,2,1,"div",5),s.Cc(20,z,2,3,"pd-input",9),s.Rb(),s.Sb(21,"div",7),s.Sb(22,"div",4),s.Ec(23),s.fc(24,"translate"),s.Rb(),s.Cc(25,G,2,1,"div",5),s.Cc(26,U,2,3,"pd-input-password",10),s.Rb(),s.Rb(),s.Cc(27,$,3,4,"pd-button",11),s.Cc(28,V,3,4,"pd-button",12),s.Cc(29,B,3,5,"pd-button",13),s.Cc(30,W,3,4,"pd-button",14),s.Rb()}if(2&t){const t=e.ngIf,o=s.ec();s.kc("formGroup",o.form),s.Ab(2),s.kc("ngClass",s.pc(27,H,"visible"===t)),s.Ab(2),s.Fc(s.gc(5,19,"PROFILE.PERSONAL_INFO.FIRST_NAME")),s.Ab(2),s.kc("ngIf","hidden"===t),s.Ab(1),s.kc("ngIf","visible"===t),s.Ab(3),s.Fc(s.gc(11,21,"PROFILE.PERSONAL_INFO.LAST_NAME")),s.Ab(2),s.kc("ngIf","hidden"===t),s.Ab(1),s.kc("ngIf","visible"===t),s.Ab(2),s.kc("ngClass",s.pc(29,H,"visible"===t)),s.Ab(2),s.Fc(s.gc(18,23,"PROFILE.PERSONAL_INFO.NICK")),s.Ab(2),s.kc("ngIf","hidden"===t||o.nick),s.Ab(1),s.kc("ngIf","visible"===t&&!o.nick),s.Ab(3),s.Fc(s.gc(24,25,"PROFILE.PERSONAL_INFO.PASSWORD")),s.Ab(2),s.kc("ngIf","hidden"===t||o.passwordExists),s.Ab(1),s.kc("ngIf","visible"===t&&!o.passwordExists),s.Ab(1),s.kc("ngIf","hidden"===t),s.Ab(1),s.kc("ngIf","hidden"===t&&o.passwordExists),s.Ab(1),s.kc("ngIf","visible"===t),s.Ab(1),s.kc("ngIf","visible"===t)}}let Q=(()=>{class t{constructor(t,e,o,i,n,a){this.store=t,this.fb=e,this.actions$=o,this.errorManager=i,this.accordionService=n,this.navigate=a,this.form=this.fb.group(I),this.showForm$=new c.a("hidden"),this.editButton={theme:b.e.Gray,size:b.d.Medium},this.saveButton={theme:b.e.Green,size:b.d.Medium},this.source={first_name:"",last_name:"",nick:"",password:"",nickExists:!1,passwordExists:!1},this.changeSubs=this.store.select(A.a.info).pipe(Object(C.a)((t,e)=>t.firstName===e.firstName&&t.lastName===e.lastName&&t.nick===e.nick)).subscribe(({firstName:t,lastName:e,nick:o,passwordExists:i})=>{var n;t===this.firstName&&e===this.lastName&&o===this.nick&&i===this.passwordExists||(this.source.nickExists=!!o,this.source.passwordExists=i,i?null===(n=this.form.controls.password)||void 0===n||n.clearValidators():this.form.controls.password.setValidators([l.r.required,l.r.minLength(8)]),this.updateSource({first_name:t,last_name:e,nick:o,nickExists:this.source.nickExists,password:"",passwordExists:i}))}),this.errors=this.errorManager.setUp(this.form,T.updatePersonalInfoFailure),this.actions$.pipe(Object(y.d)(T.updatePersonalInfoSuccess)).subscribe(()=>this.showForm$.next("hidden"))}get firstName(){return this.source.first_name}get lastName(){return this.source.last_name}get nick(){return this.source.nick}get passwordExists(){return this.source.passwordExists}get passwordString(){return this.passwordExists?"********":""}toggleFormState(t){t||(t="visible"===this.showForm$.getValue()?"hidden":"visible"),this.showForm$.next(t),this.form.setValue(this.source)}save(){this.form.valid&&this.store.dispatch(T.updatePersonalInfo({credentials:this.form.value}))}goToChangePassword(){this.accordionService.changeSection(P.ChangePassword)}ngOnDestroy(){this.changeSubs&&this.changeSubs.unsubscribe()}updateSource(t){this.toggleFormState("hidden"),this.source=t,this.form.setValue(this.source)}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(F.h),s.Mb(l.c),s.Mb(y.a),s.Mb(R.a),s.Mb(r),s.Mb(n.k))},t.\u0275cmp=s.Gb({type:t,selectors:[["pd-personal-info"]],features:[s.zb([R.a])],decls:2,vars:3,consts:[["class","profile-info",3,"formGroup","ngSubmit","keyup.enter",4,"ngIf"],[1,"profile-info",3,"formGroup","ngSubmit","keyup.enter"],[1,"info"],[1,"info__row",3,"ngClass"],[1,"info__title"],["class","info__value",4,"ngIf"],["formControlName","first_name",3,"errors",4,"ngIf"],[1,"info__row"],["formControlName","last_name",3,"errors",4,"ngIf"],["formControlName","nick",3,"errors",4,"ngIf"],["formControlName","password",3,"errors",4,"ngIf"],["additionalClasses","edit-button",3,"settings","buttonClicked",4,"ngIf"],["class","change-password-button",3,"settings","buttonClicked",4,"ngIf"],["class","info__save-button","additionalClasses","save-button",3,"settings","disabled","buttonClicked",4,"ngIf"],["class","info__edit-button","additionalClasses","edit-button",3,"settings","buttonClicked",4,"ngIf"],[1,"info__value"],["formControlName","first_name",3,"errors"],["formControlName","last_name",3,"errors"],["formControlName","nick",3,"errors"],["formControlName","password",3,"errors"],["additionalClasses","edit-button",3,"settings","buttonClicked"],[1,"change-password-button",3,"settings","buttonClicked"],["additionalClasses","save-button",1,"info__save-button",3,"settings","disabled","buttonClicked"],["additionalClasses","edit-button",1,"info__edit-button",3,"settings","buttonClicked"]],template:function(t,e){1&t&&(s.Cc(0,q,31,31,"form",0),s.fc(1,"async")),2&t&&s.kc("ngIf",s.gc(1,1,e.showForm$))},directives:[i.m,l.t,l.m,l.h,i.k,b.i,l.l,l.f,b.m,b.b],pipes:[i.b,u.c],styles:[".profile-info{padding:20px 20px 40px}.profile-info .info__row{margin-bottom:30px}.profile-info .info__title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--xs);line-height:1.4;text-transform:uppercase;margin-bottom:20px}.profile-info .info__value{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4}.profile-info .info__save-button{margin-bottom:20px;display:block}.profile-info .info__edit-button{vertical-align:top}.profile-info .edit-button.button,.profile-info .save-button.button{width:100%}.profile-info .change-password-button{display:block;margin-top:20px}.profile-info .change-password-button .button{width:100%}@media (min-width:768px){.profile-info{padding:30px 100px 50px}.profile-info .info{display:flex;justify-content:flex-start;align-items:flex-start;margin-bottom:40px}.profile-info .info__row{margin:0 100px 0 0}.profile-info .info__row.edit{margin:0 30px 0 0}.profile-info .info__row:last-child{margin:0}.profile-info .info__title{font-size:var(--text-size--sm)}.profile-info .info__save-button{margin:0 30px 0 0;display:inline-block}.profile-info .edit-button.button,.profile-info .input .field__input,.profile-info .save-button.button{width:240px}.profile-info .change-password-button{display:inline-block;margin:0 0 0 20px}.profile-info .change-password-button .button{width:auto}}@media (min-width:992px){.profile-info{padding:50px 100px 60px}.profile-info .info{margin-bottom:30px}}"],encapsulation:2,changeDetection:0}),t})();var K=o("lJxs"),Y=o("eIep"),J=o("LRne"),X=function(t){return t.Verified="verified",t.NoPhone="noPhone",t.CodeSent="sentMessage",t.CodeResent="resentMessage",t}({}),Z=o("iMPd"),tt=o("jgZD");const et={verifyPhone:Object(F.n)("[Settings contact details action] verifying user phone number",Object(F.s)()),verifyPhoneSuccess:Object(F.n)("[Settings contact details action] verifying user phone number SUCCESS"),verifyPhoneFailure:Object(F.n)("[Settings contact details action] verifying user phone number FAILURE",Object(F.s)()),verifyPhoneCode:Object(F.n)("[Settings contact details action] verifying user phone code",Object(F.s)()),verifyPhoneCodeSuccess:Object(F.n)("[Settings contact details action] verifying user phone code SUCCESS"),verifyPhoneCodeFailure:Object(F.n)("[Settings contact details action] verifying user phone code failure",Object(F.s)()),saveEmail:Object(F.n)("[Settings contact details action] saving user email",Object(F.s)()),saveEmailSuccess:Object(F.n)("[Settings contact details action] saving user email SUCCESS"),saveEmailFailure:Object(F.n)("[Settings contact details action] saving user email FAILURE",Object(F.s)())};var ot=o("z6cu"),it=o("1uah"),nt=o("JIr8"),at=o("pLZG"),ct=o("vkgz"),st=o("aS6V"),rt=o("cwPg"),dt=o("tk/3");let bt=(()=>{class t{constructor(t,e,o,i){this.http=t,this.client=e,this.host=o,this.tokensService=i}updatePersonalInfo({credentials:t}){const e={name:{first_name:t.first_name},surname:{last_name:t.last_name}};return t.passwordExists||t.nickExists||(e.nick={password:t.password,nick:t.nick}),!t.passwordExists&&t.nickExists&&(e.nick={password:t.password}),t.passwordExists&&!t.nickExists&&(e.nick={nick:t.nick}),this.makeUpdateFields(e).pipe(Object(K.a)(t=>rt.a.success(t)),Object(nt.a)(t=>Object(ot.a)(rt.a.error({errors:t}))))}updateNick(t){return this.makeUpdateFields({nick:{nick:t}}).pipe(Object(K.a)(t=>rt.a.success(t)),Object(nt.a)(t=>Object(ot.a)(rt.a.error({errors:t}))))}updateEmail(t){return this.http.post("/change_email",{code:1,result:{change_email:t}}).pipe(Object(Y.a)(t=>t.error&&t.error.length?Object(ot.a)(t):Object(J.a)(t)),Object(K.a)(t=>rt.a.success(t)),Object(nt.a)(t=>Object(ot.a)(rt.a.error(t))))}updatePassword(t){return this.http.post("/api/2/auth/password/change/",{newPassword:t.newPassword,oldPassword:t.oldPassword,refreshToken:this.tokensService.refreshToken}).pipe(Object(K.a)(t=>rt.a.success(t)),Object(K.a)(t=>new st.a(t._item)),Object(nt.a)(t=>Object(ot.a)(rt.a.error(t))))}verifyPhone(t){return this.http.post("/phone/verification",{phone:t.phone,recaptcha_token:t.recaptcha_token}).pipe(Object(Y.a)(t=>t.errors?Object(ot.a)(t):Object(J.a)(t)),Object(K.a)(t=>rt.a.success(t)),Object(nt.a)(t=>Object(ot.a)(rt.a.error(t))))}verifyCode(t){return this.http.post("/code/verification",{code:t.code}).pipe(Object(Y.a)(t=>t.errors?Object(ot.a)(t):Object(J.a)(t)),Object(K.a)(t=>rt.a.success(t)),Object(nt.a)(t=>Object(ot.a)(rt.a.error(t))))}disableSection(t){return this.makeUpdateFields({["disable_"+t]:{[t+"_enabled"]:0}}).pipe(Object(K.a)(t=>rt.a.success(t)),Object(nt.a)(t=>Object(ot.a)(rt.a.error({errors:t}))))}getQr(){return this.http.get("/api/2/auth/2fa/qr/code/",{}).pipe(Object(K.a)(t=>rt.a.success(t)),Object(K.a)(t=>({secretCode:t._item.secretCode,qrCode:t._item.qrCodeData})),Object(nt.a)(t=>Object(ot.a)(rt.a.error({errors:t}))))}enableTwoFactorAuth(t){return this.setTwoFactorAuth(t,"true")}disableTwoFactorAuth(t){return this.setTwoFactorAuth(t,"false")}uploadDocument(t){return this.http.post("/document/upload/"+t.name,t,{reportProgress:!0,observe:"events",headers:{"Content-Type":t.type}}).pipe(Object(K.a)(t=>t),Object(at.a)(t=>!!t))}saveDocument(t,e){const o=new FormData;return o.append("document_md5",t),o.append("document_type",e),this.http.post("/document/save",o)}setTwoFactorAuth(t,e){return this.http.post("/api/2/auth/2fa/state/change/",{state:e,code:t}).pipe(Object(K.a)(t=>rt.a.success(t)),Object(nt.a)(t=>Object(ot.a)(rt.a.error(t))))}makeUpdateFields(t){const e=Object.entries(t).map(([t,e])=>this.http.post("/profile/change/"+t,Object.assign({},e)));return Object(it.a)(...e).pipe(Object(ct.a)(t=>{if(t.some(t=>!!t.errors))throw t.reduce((t,e)=>Object.assign(Object.assign({},t),e.errors),{})}))}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(n.f),s.Wb(dt.b),s.Wb(n.e),s.Wb(n.u))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})();var lt=o("NQLi"),pt=o("u7me");function ft(t,e){1&t&&(s.Sb(0,"div",13),s.Nb(1,"img",14),s.Sb(2,"span",15),s.Ec(3),s.fc(4,"translate"),s.Rb(),s.Rb()),2&t&&(s.Ab(3),s.Fc(s.gc(4,1,"PROFILE.CONTACT_DETAILS.APPROVED")))}function ut(t,e){1&t&&(s.Sb(0,"div",13),s.Nb(1,"img",16),s.Sb(2,"span",17),s.Ec(3),s.fc(4,"translate"),s.Rb(),s.Rb()),2&t&&(s.Ab(3),s.Fc(s.gc(4,1,"PROFILE.CONTACT_DETAILS.NOT_APPROVED")))}function gt(t,e){if(1&t&&(s.Qb(0),s.Sb(1,"div",10),s.Ec(2),s.Rb(),s.Cc(3,ft,5,3,"div",11),s.Cc(4,ut,5,3,"ng-template",null,12,s.Dc),s.Pb()),2&t){const t=s.uc(5),e=s.ec(2).ngIf;s.Ab(2),s.Fc(e.email),s.Ab(1),s.kc("ngIf",e.emailConfirmed)("ngIfElse",t)}}function mt(t,e){if(1&t){const t=s.Tb();s.Sb(0,"pd-button",21),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(5).saveEmail()})),s.Ec(1),s.fc(2,"translate"),s.Rb()}if(2&t){const t=s.ec(5);s.kc("disabled",!t.insertEmailForm.valid)("settings",t.saveButton),s.Ab(1),s.Fc(s.gc(2,3,"PROFILE.CONTACT_DETAILS.SAVE"))}}function ht(t,e){if(1&t&&(s.Sb(0,"form",18),s.Nb(1,"pd-input",19),s.fc(2,"async"),s.Cc(3,mt,3,5,"pd-button",20),s.Rb()),2&t){const t=s.ec(2).ngIf,e=s.ec(2);s.kc("formGroup",e.insertEmailForm),s.Ab(1),s.kc("errors",s.gc(2,3,e.insertEmailErrors.get("email"))),s.Ab(2),s.kc("ngIf",!t.email)}}function _t(t,e){if(1&t&&(s.Sb(0,"div",6),s.Sb(1,"div",7),s.Ec(2),s.fc(3,"translate"),s.Rb(),s.Cc(4,gt,6,3,"ng-container",8),s.Cc(5,ht,4,5,"ng-template",null,9,s.Dc),s.Rb()),2&t){const t=s.uc(6),e=s.ec().ngIf;s.Ab(2),s.Fc(s.gc(3,3,"PROFILE.CONTACT_DETAILS.EMAIL")),s.Ab(2),s.kc("ngIf",e.email)("ngIfElse",t)}}function vt(t,e){1&t&&s.Nb(0,"re-captcha",27),2&t&&s.kc("siteKey",e.ngIf.key)}function xt(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Sb(1,"div",7),s.Ec(2),s.fc(3,"translate"),s.Rb(),s.Sb(4,"div",22),s.Ec(5),s.fc(6,"translate"),s.Rb(),s.Sb(7,"div",23),s.Sb(8,"form",18),s.Nb(9,"pd-input",24),s.fc(10,"async"),s.Cc(11,vt,1,1,"re-captcha",25),s.fc(12,"async"),s.Rb(),s.Sb(13,"pd-button",26),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(3).verifyPhone()})),s.Ec(14),s.fc(15,"translate"),s.Rb(),s.Rb(),s.Pb()}if(2&t){const t=s.ec(3);s.Ab(2),s.Fc(s.gc(3,8,"PROFILE.CONTACT_DETAILS.PHONE")),s.Ab(3),s.Fc(s.gc(6,10,"PROFILE.CONTACT_DETAILS.PHONE_EXAMPLE")),s.Ab(3),s.kc("formGroup",t.insertPhoneForm),s.Ab(1),s.kc("errors",s.gc(10,12,t.insertPhoneErrors.get("phone"))),s.Ab(2),s.kc("ngIf",s.gc(12,14,t.recaptcha$)),s.Ab(2),s.kc("disabled",!t.insertPhoneForm.valid)("settings",t.saveButton),s.Ab(1),s.Gc(" ",s.gc(15,16,"PROFILE.CONTACT_DETAILS.SAVE")," ")}}function St(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Sb(1,"div",28),s.Sb(2,"div",7),s.Ec(3),s.fc(4,"translate"),s.Rb(),s.Sb(5,"form",18),s.Nb(6,"pd-input",29),s.fc(7,"async"),s.Rb(),s.Rb(),s.Sb(8,"div",23),s.Sb(9,"div",30),s.Sb(10,"div",31),s.Ec(11),s.fc(12,"translate"),s.Sb(13,"span",32),s.Ec(14),s.Rb(),s.Sb(15,"span",33),s.ac("click",(function(){return s.vc(t),s.ec(3).changeNumber()})),s.Ec(16),s.fc(17,"translate"),s.Rb(),s.Rb(),s.Sb(18,"div",31),s.Ec(19),s.fc(20,"translate"),s.Sb(21,"span",34),s.ac("click",(function(){return s.vc(t),s.ec(3).resendCode()})),s.Ec(22),s.fc(23,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(24,"pd-button",35),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(3).verifyPhoneCode()})),s.Ec(25),s.fc(26,"translate"),s.Rb(),s.Pb()}if(2&t){const t=s.ec().ngIf,e=s.ec(2);s.Ab(3),s.Fc(s.gc(4,11,"PROFILE.CONTACT_DETAILS.ENTER_SMS_CODE")),s.Ab(2),s.kc("formGroup",e.insertPhoneCodeForm),s.Ab(1),s.kc("errors",s.gc(7,13,e.insertPhoneCodeErrors.get("code"))),s.Ab(5),s.Gc(" ",s.gc(12,15,"PROFILE.CONTACT_DETAILS.SMS_SENT_TO_NUMBER"),""),s.Ab(3),s.Gc(" ",t.phone,""),s.Ab(2),s.Fc(s.gc(17,17,"PROFILE.CONTACT_DETAILS.CHANGE_NUMBER")),s.Ab(3),s.Gc(" ",s.gc(20,19,"PROFILE.CONTACT_DETAILS.SMS_NOT_RECEIVED"),"? "),s.Ab(3),s.Fc(s.gc(23,21,"PROFILE.CONTACT_DETAILS.RESEND_CODE")),s.Ab(2),s.kc("settings",e.saveButton)("disabled",!e.insertPhoneCodeForm.valid),s.Ab(1),s.Fc(s.gc(26,23,"PROFILE.CONTACT_DETAILS.APPROVE"))}}function Ot(t,e){1&t&&(s.Sb(0,"div",36),s.Ec(1),s.fc(2,"translate"),s.Rb()),2&t&&(s.Ab(1),s.Fc(s.gc(2,1,"PROFILE.CONTACT_DETAILS.RESEND_MESSAGE")))}function wt(t,e){if(1&t&&(s.Qb(0),s.Sb(1,"div",7),s.Ec(2),s.fc(3,"translate"),s.Rb(),s.Sb(4,"div",10),s.Ec(5),s.Rb(),s.Sb(6,"div",13),s.Nb(7,"img",14),s.Sb(8,"span",15),s.Ec(9),s.fc(10,"translate"),s.Rb(),s.Rb(),s.Pb()),2&t){const t=s.ec().ngIf;s.Ab(2),s.Fc(s.gc(3,3,"PROFILE.CONTACT_DETAILS.PHONE")),s.Ab(3),s.Fc(t.phone),s.Ab(4),s.Fc(s.gc(10,5,"PROFILE.CONTACT_DETAILS.APPROVED"))}}const Et=function(t){return{"sent-message":t}};function At(t,e){if(1&t&&(s.Sb(0,"div",2),s.Cc(1,_t,7,5,"div",3),s.Sb(2,"div",4),s.Cc(3,xt,16,18,"ng-container",0),s.Cc(4,St,27,25,"ng-container",0),s.Cc(5,Ot,3,3,"div",5),s.Cc(6,wt,11,7,"ng-container",0),s.Rb(),s.Rb()),2&t){const t=s.ec().ngIf,e=s.ec();s.kc("ngClass",t),s.Ab(1),s.kc("ngIf",t!==e.PhoneVerificationLayoutState.CodeResent&&t!==e.PhoneVerificationLayoutState.CodeSent),s.Ab(1),s.kc("ngClass",s.pc(7,Et,t===e.PhoneVerificationLayoutState.CodeSent)),s.Ab(1),s.kc("ngIf",t===e.PhoneVerificationLayoutState.NoPhone),s.Ab(1),s.kc("ngIf",t===e.PhoneVerificationLayoutState.CodeSent),s.Ab(1),s.kc("ngIf",t===e.PhoneVerificationLayoutState.CodeResent),s.Ab(1),s.kc("ngIf",t===e.PhoneVerificationLayoutState.Verified)}}function Ct(t,e){if(1&t&&(s.Qb(0),s.Cc(1,At,7,9,"div",1),s.fc(2,"async"),s.Pb()),2&t){const t=s.ec();s.Ab(1),s.kc("ngIf",s.gc(2,1,t.userVM))}}let It=(()=>{class t{constructor(t,e,o,i,n,a,s,r){this.fb=t,this.profileService=e,this.notify=o,this.injector=i,this.store=n,this.storeHelper=a,this.errorManager=s,this.actions$=r,this.resend=!1,this.phoneVerificationState=new c.a(X.NoPhone),this.PhoneVerificationLayoutState=X,this.saveButton={theme:b.e.Green,size:b.d.Medium},this.insertEmailForm=this.fb.group({email:["",[l.r.email,l.r.required]]}),this.insertEmailErrors=this.errorManager.setUp(this.insertEmailForm,et.saveEmailFailure),this.insertPhoneForm=this.fb.group({phone:["",[l.r.required,tt.a.phone]],recaptcha_token:[]}),this.insertPhoneErrors=this.errorManager.setUp(this.insertPhoneForm,et.verifyPhoneFailure),this.insertPhoneCodeForm=this.fb.group({code:["",[l.r.required,l.r.minLength(6),l.r.maxLength(6)]]}),this.insertPhoneCodeErrors=this.errorManager.setUp(this.insertPhoneCodeForm,et.verifyPhoneCodeFailure),this.recaptcha$=this.storeHelper.selectWithDispatch(A.a.captcha,Z.a.loadingCaptcha()),this.userVM=this.store.select(A.a.info).pipe(this.storeHelper.withData,Object(K.a)(t=>{const e=t.emailFaked?null:t.email;return t.phoneConfirmed&&this.phoneVerificationState.next(X.Verified),{emailConfirmed:t.emailConfirmed,email:e,phone:this.insertPhoneForm.controls.phone.value||t.phone}})),this.actions$.pipe(Object(y.d)(et.verifyPhoneSuccess)).pipe(Object(Y.a)(()=>this.resend?(this.phoneVerificationState.next(X.CodeResent),this.resend=!1,Object(O.a)(6e3)):Object(J.a)(null))).subscribe(()=>{this.phoneVerificationState.next(X.CodeSent),this.insertPhoneCodeForm.reset({code:""})}),this.actions$.pipe(Object(y.d)(et.verifyPhoneCodeSuccess)).subscribe(()=>{this.phoneVerificationState.next(X.Verified)})}changeNumber(){this.phoneVerificationState.next(X.NoPhone)}verifyPhone(){this.store.dispatch(et.verifyPhone({credentials:this.insertPhoneForm.value}))}resendCode(){this.resend=!0,this.verifyPhone()}verifyPhoneCode(){this.store.dispatch(et.verifyPhoneCode({credentials:this.insertPhoneCodeForm.value}))}saveEmail(){this.store.dispatch(et.saveEmail({credentials:this.insertEmailForm.get("email").value}))}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(l.c),s.Mb(bt),s.Mb(lt.a),s.Mb(s.r),s.Mb(F.h),s.Mb(pt.a),s.Mb(R.a),s.Mb(y.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["pd-contact-details"]],features:[s.zb([R.a])],decls:2,vars:3,consts:[[4,"ngIf"],["class","contact-data",3,"ngClass",4,"ngIf"],[1,"contact-data",3,"ngClass"],["class","email",4,"ngIf"],[1,"phone",3,"ngClass"],["class","info__value center-text",4,"ngIf"],[1,"email"],[1,"info__title"],[4,"ngIf","ngIfElse"],["noMail",""],[1,"info__value"],["class","info__verified-wrapper",4,"ngIf","ngIfElse"],["notConfirmed",""],[1,"info__verified-wrapper"],["alt","","src","/assets/images/check/check.svg",1,"info__icon","info__icon--verified"],[1,"info__check"],["alt","","src","/assets/images/check/not-check.svg",1,"info__icon","info__icon--not-verified"],[1,"info__check","info__check--not"],[3,"formGroup"],["formControlName","email",1,"email__input",3,"errors"],["additionalClasses","info__button contact-data__email-button",3,"disabled","settings","buttonClicked",4,"ngIf"],["additionalClasses","info__button contact-data__email-button",3,"disabled","settings","buttonClicked"],[1,"info__example","info__text"],[1,"info__tools"],["formControlName","phone",1,"phone__input",3,"errors"],["class","re-captcha","formControlName","recaptcha_token",3,"siteKey",4,"ngIf"],["additionalClasses","info__button",3,"disabled","settings","buttonClicked"],["formControlName","recaptcha_token",1,"re-captcha",3,"siteKey"],[1,"info__title-wrapper"],["formControlName","code",1,"phone__input",3,"errors"],[1,"info__description"],[1,"info__gray-text"],[1,"info__gray-text--phone"],[1,"info__changer","info__changer--block",3,"click"],[1,"info__changer",3,"click"],["additionalClasses","info__button",3,"settings","disabled","buttonClicked"],[1,"info__value","center-text"]],template:function(t,e){1&t&&(s.Cc(0,Ct,3,3,"ng-container",0),s.fc(1,"async")),2&t&&s.kc("ngIf",s.gc(1,1,e.phoneVerificationState))},directives:[i.m,i.k,l.t,l.m,l.h,b.i,l.l,l.f,b.b,p.a,p.d],pipes:[i.b,u.c],styles:['.contact-data{padding:20px 20px 40px}.contact-data__email-button{margin-top:25px}.contact-data .info__tools{position:relative}.contact-data .info__title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--xs);line-height:1.4;text-transform:uppercase;margin-bottom:20px}.contact-data .info__value{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;margin-bottom:10px}.contact-data .info__icon{width:12px;height:12px;display:inline-block;margin-right:5px}.contact-data .info__verified-wrapper{display:flex;justify-content:normal;align-items:center}.contact-data .info__check{color:var(--primary-text-color);font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--xs);line-height:1.4;text-transform:lowercase}.contact-data .info__check--not{color:var(--accent-3-text-color)}.contact-data .info__text{font-size:var(--text-size--xs);margin:-15px 0 20px}.contact-data .info__gray-text,.contact-data .info__text{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);line-height:1.4}.contact-data .info__gray-text{font-size:var(--text-size--sm);margin-top:15px}.contact-data .info__gray-text--phone{font-family:var(--main-fonts-bold)}.contact-data .info__button.info__button.info__button{width:100%;text-transform:uppercase}.contact-data .info__changer{cursor:pointer;text-decoration:underline}.contact-data .info__changer--block{display:block;width:-webkit-max-content;width:-moz-max-content;width:max-content}.contact-data .info__description{margin-bottom:20px}.contact-data .email{padding-bottom:30px;margin-bottom:25px;border-bottom:1px solid var(--extra-2-border-color)}.contact-data .phone__input{margin-bottom:110px;display:block}.contact-data .sent-message .phone__input{margin-bottom:15px}.contact-data .re-captcha{transform:scale(.78);position:absolute;top:65px;left:-32px}@media (min-width:768px){.contact-data{padding:30px 100px 60px}.contact-data.sentMessage{padding:30px 100px 80px}.contact-data.resentMessage{padding:50px 100px}.contact-data .info{display:flex;justify-content:flex-start;align-items:center;margin-bottom:40px}.contact-data .info__title{font-size:var(--text-size--sm)}.contact-data .info__button.info__button.info__button{width:240px}.contact-data .info__value.center-text{margin:0 0 -20px;text-align:center}.contact-data .email{position:relative;border:none}.contact-data .email:after{content:"";width:668px;height:1px;background:var(--extra-2-bg-color);display:block;margin:0 auto;position:absolute;left:-70px;bottom:0}.contact-data .phone__input{width:240px}.contact-data .phone.sent-message{display:grid;grid-template-areas:"title info" "button info";-moz-column-gap:50px;column-gap:50px}.contact-data .phone.sent-message .phone__input{margin-bottom:30px}.contact-data .phone.sent-message .info__title-wrapper{grid-area:title}.contact-data .phone.sent-message .info__tools{grid-area:info}.contact-data .phone.sent-message .info__button{grid-area:button}.contact-data .phone.sent-message .info__description{margin:35px 0 0}.contact-data .phone.sent-message .info__gray-text{margin:0}.contact-data .phone.sent-message .info__gray-text:last-child{margin-top:35px}}@media (min-width:992px){.contact-data{padding:50px 100px 60px}.contact-data.sentMessage{padding:50px 100px 80px}.contact-data .info{margin-bottom:30px}.contact-data .info__value.center-text{margin-bottom:-10px}.contact-data .email:after{width:884px}.contact-data .phone.sent-message{grid-auto-columns:-webkit-max-content;grid-auto-columns:max-content}.contact-data .phone .info__gray-text{max-width:230px}}'],encapsulation:2,changeDetection:0}),t})();var Rt=o("wO+i"),yt=function(t){return t.Upload="upload",t.TypeSelection="typeSelection",t.Progress="progress",t.UploadConfirmation="uploadConfirmation",t.Error="error",t}({});const Ft={document:["",[l.r.required]]};var kt=function(t){return t.Passport="PASSPORT_DOC",t.DriverLicense="DRIVER_LICENSE_DOC",t.PaymentMethod="PAYMENT_METHOD_DOC",t.Selfie="SELFIE",t}({});const Tt={documentType:[kt.Passport,[l.r.required]]},Pt={[kt.Passport]:"PROFILE.DOCUMENTS_VERIFICATION.DOCUMENT_TYPES.PASSPORT_DOC",[kt.DriverLicense]:"PROFILE.DOCUMENTS_VERIFICATION.DOCUMENT_TYPES.DRIVER_LICENSE_DOC",[kt.PaymentMethod]:"PROFILE.DOCUMENTS_VERIFICATION.DOCUMENT_TYPES.PAYMENT_METHOD_DOC",[kt.Selfie]:"PROFILE.DOCUMENTS_VERIFICATION.DOCUMENT_TYPES.SELFIE"};let Nt=(()=>{class t{constructor(){this.reader=new FileReader,this._file=new c.a(null),this.file$=this._file.asObservable(),this.reader.addEventListener("load",this.loaded.bind(this))}ngOnDestroy(){this.reader.removeEventListener("load",this.loaded.bind(this))}readFileData(t){this.file=t,this.reader.readAsDataURL(t)}loaded(){this._file.next({name:this.file.name,image:this.reader.result})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})();const jt={uploadDocument:Object(F.n)("[Settings document verification action] uploading document",Object(F.s)()),uploadDocumentProcess:Object(F.n)("[Settings document verification action] uploading process in progress",Object(F.s)()),uploadDocumentNoop:Object(F.n)("[Settings document verification action] document uploading sending request but we don't care"),uploadDocumentSuccess:Object(F.n)("[Settings document verification action] uploading document success",Object(F.s)()),uploadDocumentFailure:Object(F.n)("[Settings document verification action] uploading document failure",Object(F.s)()),savingDocument:Object(F.n)("[Settings document verification action] saving document",Object(F.s)()),savingDocumentSuccess:Object(F.n)("[Settings document verification action] saving document SUCCESS"),savingDocumentFailure:Object(F.n)("[Settings document verification action] saving document FAILURE",Object(F.s)())};var Lt=o("QUrN");function Dt(t,e){if(1&t&&(s.Sb(0,"div",16),s.Ec(1),s.fc(2,"translate"),s.Rb()),2&t){const t=s.ec().$implicit;s.Ab(1),s.Fc(s.gc(2,1,t.name))}}function Mt(t,e){if(1&t&&(s.Sb(0,"li",13),s.Sb(1,"div"),s.Cc(2,Dt,3,3,"div",14),s.Sb(3,"div",15),s.Ec(4),s.fc(5,"amDateFormat"),s.Rb(),s.Rb(),s.Rb()),2&t){const t=e.$implicit;s.Ab(2),s.kc("ngIf",t.name),s.Ab(2),s.Hc("",s.hc(5,3,t.uploadDate,"DD.MM.YYYY")," - ",t.filename,"")}}function zt(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Sb(1,"form",3),s.Sb(2,"label",4),s.Sb(3,"div",5),s.Ec(4),s.fc(5,"translate"),s.Rb(),s.Sb(6,"div",6),s.Ec(7),s.fc(8,"translate"),s.Rb(),s.Sb(9,"div",7),s.Ec(10),s.fc(11,"translate"),s.Rb(),s.Sb(12,"div",8),s.Ec(13),s.fc(14,"translate"),s.Rb(),s.Sb(15,"span",9),s.Ec(16),s.fc(17,"translate"),s.Rb(),s.Rb(),s.Sb(18,"input",10),s.ac("change",(function(e){return s.vc(t),s.ec(2).fileSelected(e)})),s.Rb(),s.Rb(),s.Sb(19,"div"),s.Sb(20,"div",11),s.Ec(21),s.fc(22,"translate"),s.Rb(),s.Sb(23,"ul"),s.Cc(24,Mt,6,6,"li",12),s.fc(25,"async"),s.Rb(),s.Rb(),s.Pb()}if(2&t){const t=s.ec(2);s.Ab(1),s.kc("formGroup",t.documentUploadForm),s.Ab(3),s.Fc(s.gc(5,8,"PROFILE.DOCUMENTS_VERIFICATION.SELECT_OR_DRAG_FILE")),s.Ab(3),s.Fc(s.gc(8,10,"PROFILE.DOCUMENTS_VERIFICATION.EXAMPLE")),s.Ab(3),s.Fc(s.gc(11,12,"PROFILE.DOCUMENTS_VERIFICATION.DOCUMENTS_TYPES_DESCRIPTION")),s.Ab(3),s.Fc(s.gc(14,14,"PROFILE.DOCUMENTS_VERIFICATION.FORMATS")),s.Ab(3),s.Fc(s.gc(17,16,"PROFILE.DOCUMENTS_VERIFICATION.ADD_PHOTO")),s.Ab(5),s.Fc(s.gc(22,18,"PROFILE.DOCUMENTS_VERIFICATION.UPLOADED_DOCUMENTS")),s.Ab(3),s.kc("ngForOf",s.gc(25,20,t.documents$))}}function Gt(t,e){if(1&t&&(s.Sb(0,"option",24),s.Ec(1),s.fc(2,"translate"),s.Rb()),2&t){const t=e.$implicit;s.kc("ngValue",t.key),s.Ab(1),s.Fc(s.gc(2,2,t.value))}}function Ut(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Nb(1,"img",17),s.Sb(2,"div",18),s.Ec(3),s.Rb(),s.Sb(4,"form",19),s.Sb(5,"div",20),s.Sb(6,"select",21),s.Cc(7,Gt,3,4,"option",22),s.fc(8,"keyvalue"),s.Rb(),s.Rb(),s.Sb(9,"pd-button",23),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(3).summary()})),s.Ec(10),s.fc(11,"translate"),s.Rb(),s.Rb(),s.Pb()}if(2&t){const t=s.ec().ngIf,e=s.ec(2);s.Ab(1),s.kc("src",t.image,s.yc),s.Ab(2),s.Fc(t.name),s.Ab(1),s.kc("formGroup",e.documentTypeForm),s.Ab(3),s.kc("ngForOf",s.gc(8,6,e.documentsTypes)),s.Ab(2),s.kc("settings",e.saveButton),s.Ab(1),s.Gc(" ",s.gc(11,8,"PROFILE.DOCUMENTS_VERIFICATION.UPLOAD")," ")}}function $t(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Sb(1,"div",25),s.Ec(2),s.fc(3,"translate"),s.Rb(),s.Sb(4,"div",26),s.Ec(5),s.fc(6,"translate"),s.Rb(),s.Nb(7,"img",27),s.Sb(8,"div",28),s.Sb(9,"pd-button",29),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(3).cancel()})),s.Ec(10),s.fc(11,"translate"),s.Rb(),s.Sb(12,"pd-button",30),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(3).confirm()})),s.Ec(13),s.fc(14,"translate"),s.Rb(),s.Rb(),s.Pb()}if(2&t){const t=s.ec().ngIf,e=s.ec(2);s.Ab(2),s.Fc(s.gc(3,7,"PROFILE.DOCUMENTS_VERIFICATION.UPLOADING_END")),s.Ab(3),s.Fc(s.gc(6,9,"PROFILE.DOCUMENTS_VERIFICATION.DOCUMENT_TYPES."+e.documentTypeForm.controls.documentType.value)),s.Ab(2),s.kc("src",t.image,s.yc),s.Ab(2),s.kc("settings",e.editButton),s.Ab(1),s.Fc(s.gc(11,11,"PROFILE.DOCUMENTS_VERIFICATION.CANCEL")),s.Ab(2),s.kc("settings",e.saveButton),s.Ab(1),s.Gc(" ",s.gc(14,13,"PROFILE.DOCUMENTS_VERIFICATION.OK")," ")}}function Vt(t,e){if(1&t&&(s.Qb(0),s.Cc(1,Ut,12,10,"ng-container",2),s.Cc(2,$t,15,15,"ng-container",2),s.Pb()),2&t){const t=s.ec().ngIf,e=s.ec();s.Ab(1),s.kc("ngIf",t===e.DocumentUploadingState.TypeSelection),s.Ab(1),s.kc("ngIf",t===e.DocumentUploadingState.UploadConfirmation)}}const Bt=function(t){return{width:t}};function Wt(t,e){if(1&t&&(s.Qb(0),s.Sb(1,"div",32),s.Nb(2,"div",33),s.Rb(),s.Sb(3,"div",34),s.Ec(4),s.Rb(),s.Pb()),2&t){const t=e.ngIf;s.Ab(2),s.kc("ngStyle",s.pc(2,Bt,"calc("+t+"% - 7px)")),s.Ab(2),s.Gc("",t,"%")}}function Ht(t,e){if(1&t&&(s.Qb(0),s.Sb(1,"div",31),s.Ec(2),s.fc(3,"translate"),s.Rb(),s.Cc(4,Wt,5,4,"ng-container",2),s.fc(5,"async"),s.Pb()),2&t){const t=s.ec(2);s.Ab(2),s.Fc(s.gc(3,2,"PROFILE.DOCUMENTS_VERIFICATION.UPLOADING")),s.Ab(2),s.kc("ngIf",s.gc(5,4,t.documentUploadingProcess$))}}function qt(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Sb(1,"div",35),s.Nb(2,"img",36),s.Sb(3,"div",37),s.Ec(4),s.fc(5,"translate"),s.Rb(),s.Sb(6,"a",38),s.ac("click",(function(){return s.vc(t),s.ec(2).cancel()})),s.Ec(7),s.fc(8,"translate"),s.Rb(),s.Rb(),s.Pb()}2&t&&(s.Ab(4),s.Fc(s.gc(5,2,"PROFILE.DOCUMENTS_VERIFICATION.ERROR")),s.Ab(3),s.Fc(s.gc(8,4,"PROFILE.DOCUMENTS_VERIFICATION.RETRY")))}function Qt(t,e){if(1&t&&(s.Sb(0,"div",1),s.Cc(1,zt,26,22,"ng-container",2),s.Cc(2,Vt,3,2,"ng-container",2),s.fc(3,"async"),s.Cc(4,Ht,6,6,"ng-container",2),s.Cc(5,qt,9,6,"ng-container",2),s.Rb()),2&t){const t=e.ngIf,o=s.ec();s.kc("ngClass",t),s.Ab(1),s.kc("ngIf",t===o.DocumentUploadingState.Upload),s.Ab(1),s.kc("ngIf",s.gc(3,5,o.selectedDocument$)),s.Ab(2),s.kc("ngIf",t===o.DocumentUploadingState.Progress),s.Ab(1),s.kc("ngIf",t===o.DocumentUploadingState.Error)}}let Kt=(()=>{class t{constructor(t,e,o,i,n,a,s){this.fb=t,this.store=e,this.profileService=o,this.notify=i,this.fileViewer=n,this.actions$=a,this.errorManager=s,this.documentUploadingState$=new c.a(yt.Upload),this.selectedDocument$=this.fileViewer.file$,this.documentUploadingProcess$=this.actions$.pipe(Object(y.d)(jt.uploadDocumentProcess),Object(Rt.a)("loadedPercents")),this.DocumentUploadingState=yt,this.documentsTypes=Pt,this.documentUploadForm=this.fb.group(Ft),this.documentTypeForm=this.fb.group(Tt),this.editButton={theme:b.e.Gray,size:b.d.Medium},this.saveButton={theme:b.e.Green,size:b.d.Medium},this.documentUploadErrors=this.errorManager.setUp(this.documentUploadForm,jt.uploadDocumentFailure),this.documentTypeErrors=this.errorManager.setUp(this.documentTypeForm,jt.savingDocumentFailure),this.documents$=this.store.select(A.a.documents).pipe(Object(K.a)(t=>t.map(t=>Object.assign(Object.assign({},t),{name:this.documentsTypes[t.name]})))),this.actions$.pipe(Object(y.d)(jt.uploadDocumentSuccess)).subscribe(({md5:t})=>{this.store.dispatch(jt.savingDocument({md5:t,name:this.documentTypeForm.get("documentType").value}))}),this.actions$.pipe(Object(y.d)(jt.savingDocumentFailure,jt.uploadDocumentFailure)).subscribe(()=>this.documentUploadingState$.next(yt.Error)),this.actions$.pipe(Object(y.d)(jt.savingDocumentSuccess)).subscribe(()=>this.documentUploadingState$.next(yt.Upload))}fileSelected(t){if(t.target.files.length>0){const e=t.target.files[0];this.fileViewer.readFileData(e),this.documentUploadingState$.next(yt.TypeSelection),this.documentUploadForm.get("document").setValue(e)}}summary(){this.documentUploadingState$.next(yt.UploadConfirmation)}confirm(){this.documentUploadingState$.next(yt.Progress),this.store.dispatch(jt.uploadDocument({file:this.documentUploadForm.get("document").value}))}cancel(){this.documentUploadForm.get("document").setValue(null),this.documentUploadingState$.next(yt.Upload)}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(l.c),s.Mb(F.h),s.Mb(bt),s.Mb(lt.a),s.Mb(Nt),s.Mb(y.a),s.Mb(R.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["pd-documents-verification"]],features:[s.zb([R.a,Nt])],decls:2,vars:3,consts:[["class","documents-verification",3,"ngClass",4,"ngIf"],[1,"documents-verification",3,"ngClass"],[4,"ngIf"],[3,"formGroup"],["for","downloadImgs",1,"info__download-field"],[1,"info__title"],[1,"info__text","info__text--no-margin"],[1,"info__text"],[1,"info__formats"],[1,"info__button__add"],["type","file","id","downloadImgs","accept",".jpg, .jpeg, .png",1,"info__input-file",3,"change"],[1,"info__title","info__title--big"],["class","info__uploaded",4,"ngFor","ngForOf"],[1,"info__uploaded"],["class","info__uploaded--name",4,"ngIf"],[1,"info__uploaded--date"],[1,"info__uploaded--name"],[1,"info__preview--img",3,"src"],[1,"info__preview--name","info__uploaded--name"],[1,"info__select-form",3,"formGroup"],[1,"info__preview--select--wrapper"],["formControlName","documentType",1,"info__preview--select"],["class","info__preview--option",3,"ngValue",4,"ngFor","ngForOf"],["additionalClasses","info__preview--button info__button info__button--no-margin",1,"info__button__upload",3,"settings","buttonClicked"],[1,"info__preview--option",3,"ngValue"],[1,"info__preview--loading-text"],[1,"info__preview--name-gray"],[1,"info__preview--img","info__preview--img--no-margin",3,"src"],[1,"info__preview--buttons"],["additionalClasses","info__preview--button-small info__button info__button--gray",1,"info__button--gray",3,"settings","buttonClicked"],["additionalClasses","info__button info__preview--button-small",3,"settings","buttonClicked"],[1,"info__progress--title"],[1,"info__progress"],[1,"info__progress--bar",3,"ngStyle"],[1,"info__progress--value"],[1,"info__error"],["src","/assets/images/icons/error.svg",1,"info__error--img"],[1,"info__error--text"],[1,"info__error--text","info__error--link",3,"click"]],template:function(t,e){1&t&&(s.Cc(0,Qt,6,7,"div",0),s.fc(1,"async")),2&t&&s.kc("ngIf",s.gc(1,1,e.documentUploadingState$))},directives:[i.m,i.k,l.t,l.m,l.h,i.l,l.q,l.l,l.f,b.b,l.o,l.s,i.n],pipes:[i.b,u.c,Lt.a,i.f],styles:['.documents-verification .info__button__add{min-width:152px;min-height:var(--button-min-heigth);position:relative;padding:19px 38px 18px;border-radius:var(--button-border-radius);line-height:1;box-sizing:border-box;font-family:var(--button-font);font-size:var(--main-font-size);cursor:pointer;min-width:110px;min-height:40px;padding:11px 25px 9px;font-size:var(--text-size--sm);color:var(--primary-button-text-color);background-color:var(--primary-button-bg);border:none;font-weight:700;box-shadow:none}.documents-verification .info__button__add:hover{background-color:var(--primary-button-hover-bg)}.documents-verification .info__button__add:active{background-color:var(--primary-button-pressed-bg);color:var(--primary-button-pressed-color);box-shadow:none}.documents-verification .info__button__add:disabled{background-color:var(--primary-button-disabled-bg)!important;color:var(--primary-button-disabled-color)!important;border-color:transparent!important;box-shadow:none!important;cursor:default}.documents-verification{padding:20px 20px 30px}.documents-verification.progress{padding:50px 20px 120px}.documents-verification.error{padding:20px 20px 40px}.documents-verification .info__title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;margin-bottom:15px}.documents-verification .info__title--big{font-size:var(--text-size--xs);text-transform:uppercase;margin:0;line-height:1}.documents-verification .info__text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4;margin-bottom:20px}.documents-verification .info__text--no-margin{margin:0}.documents-verification .info__formats{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--xs);line-height:1.4;margin-bottom:20px}.documents-verification .info__input-file{display:none}.documents-verification .info__download-field{display:block;cursor:pointer}.documents-verification .info__button__add{display:flex;justify-content:center;align-items:center;width:100%;text-transform:var(--button-text-transform);margin-bottom:30px}.documents-verification .info__button__upload .button{width:100%}.documents-verification .info__button--no-margin{margin:0}.documents-verification .info__button--gray{display:block;margin-right:15px}.documents-verification .info__uploaded{display:flex;justify-content:normal;align-items:normal;padding-top:10px;margin-top:10px;position:relative}.documents-verification .info__uploaded:before{content:"";width:100%;height:1px;background:var(--extra-2-bg-color);display:block;margin:0 auto;position:absolute;left:0;top:0}.documents-verification .info__uploaded--img{width:auto;height:40px;margin-right:17px;display:block}.documents-verification .info__uploaded--name{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4}.documents-verification .info__uploaded--date{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--xs);line-height:1.4}.documents-verification .info__preview--img{width:auto;height:90px;display:block;margin:0 auto 10px}.documents-verification .info__preview--img--no-margin{margin:0 auto}.documents-verification .info__preview--name{text-align:center;margin:0 0 20px}.documents-verification .info__preview--select{width:100%;height:40px;color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;border-radius:5px;border:1px solid var(--extra-3-border-color);background:var(--accent-1-bg-color);padding:8px 0 8px 12px;-moz-appearance:none;-webkit-appearance:none;appearance:none}.documents-verification .info__preview--select::-ms-expand{display:none}.documents-verification .info__preview--select--wrapper{position:relative;margin-bottom:20px}.documents-verification .info__preview--select--wrapper:after{content:"";width:8px;height:5px;position:absolute;z-index:1;top:50%;transform:translateY(-50%);right:15px;background:var(--settings-page-down-arrow) no-repeat;background-size:cover}.documents-verification .info__preview--loading-text{color:var(--primary-text-color);font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--sm);line-height:1.4;text-transform:uppercase;margin-bottom:20px;text-align:center}.documents-verification .info__preview--name-gray{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4;text-align:center;margin-bottom:10px}.documents-verification .info__preview--buttons{display:flex;justify-content:center;align-items:center;margin-top:40px}.documents-verification .info__preview--button-small{width:110px;margin:0 15px 0 0}.documents-verification .info__preview--button-small:last-child{margin:0}.documents-verification .info__progress{width:220px;height:5px;border-radius:3px;background-color:var(--extra-2-bg-color);position:relative;overflow:hidden;margin:0 auto 15px}.documents-verification .info__progress--title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--sm);line-height:1.4;text-transform:uppercase;margin:0 0 50px;text-align:center}.documents-verification .info__progress--bar{width:0;height:1px;position:absolute;z-index:1;top:50%;transform:translateY(-50%);overflow:hidden;background:var(--primary-bg-color);border-radius:3px;left:3.5px}.documents-verification .info__progress--value{color:var(--primary-text-color);font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;text-transform:uppercase;text-align:center}.documents-verification .info__error{text-align:center}.documents-verification .info__error--img{display:block;margin:0 auto 20px}.documents-verification .info__error--text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;text-align:center}.documents-verification .info__error--link{display:block;border-bottom:1px solid var(--primary-border-color);width:-webkit-max-content;width:-moz-max-content;width:max-content;margin:0 auto}@media (min-width:768px){.documents-verification{padding:40px 100px 70px}.documents-verification.upload{padding:40px}.documents-verification.error{padding:50px 100px 115px}.documents-verification.progress{padding:100px 100px 160px}.documents-verification .info__download-field{width:650px;border:2px dashed var(--extra-3-border-color);padding:50px 80px 35px 50px;margin-bottom:30px}.documents-verification .info__button__add{margin:0;width:-webkit-max-content;width:-moz-max-content;width:max-content;min-width:240px}.documents-verification .info__button__upload .button{width:auto;min-width:240px;margin:0 auto;display:block}.documents-verification .info__title{font-size:var(--h4-size);margin-bottom:20px;max-width:480px}.documents-verification .info__title--big{font-size:var(--main-font-size);margin:0}.documents-verification .info__text{font-size:var(--main-font-size)}.documents-verification .info__uploaded{padding-top:15px;margin-top:15px}.documents-verification .info__uploaded:before{width:650px}.documents-verification .info__uploaded--img{height:60px}.documents-verification .info__uploaded--name{font-size:var(--main-font-size)}.documents-verification .info__uploaded--date{font-size:var(--text-size--sm)}.documents-verification .info__preview--img{height:120px}.documents-verification .info__preview--name{margin-bottom:30px}.documents-verification .info__preview--select--wrapper{width:240px;margin:0 auto 20px}.documents-verification .info__preview--button{margin:0 auto}.documents-verification .info__preview--loading-text{font-size:var(--main-font-size)}.documents-verification .info__preview--button-small{width:110px;margin-right:15px}.documents-verification .info__preview--button-small:last-child{margin:0}.documents-verification .info__progress{width:440px;margin-bottom:20px}.documents-verification .info__progress--title{font-size:var(--main-font-size)}.documents-verification .info__error--text{font-size:var(--h4-size);display:inline-block}.documents-verification .info__error--link{margin-left:5px}}@media (min-width:992px){.documents-verification .info__download-field{width:864px;padding-right:150px;margin-bottom:40px}.documents-verification .info__uploaded:before{width:864px}}'],encapsulation:2,changeDetection:0}),t})();const Yt={code:["",[l.r.required,l.r.minLength(6),l.r.maxLength(6)]]};var Jt=function(t){return t.Enabled="enabled",t.Disabling="disabling",t.Disabled="disabled",t}({});const Xt={getQr:Object(F.n)("[Two factor settings action] loading qr code"),getQrSuccess:Object(F.n)("[Two factor settings action] loading qr code SUCCESS",Object(F.s)()),getQrFailure:Object(F.n)("[Two factor settings action] loading qr code FAILURE",Object(F.s)()),enableTwoFactor:Object(F.n)("[Two factor settings action] enabling two factor for user",Object(F.s)()),enableTwoFactorSuccess:Object(F.n)("[Two factor settings action] enabling two factor for user SUCCESS"),enableTwoFactorFailure:Object(F.n)("[Two factor settings action] enabling two factor for user FAILURE",Object(F.s)()),disableTwoFactor:Object(F.n)("[Two factor settings action] disabling two factor for user",Object(F.s)()),disableTwoFactorSuccess:Object(F.n)("[Two factor settings action] disabling two factor for user SUCCESS"),disableTwoFactorFailure:Object(F.n)("[Two factor settings action] disabling two factor for user FAILURE",Object(F.s)()),copyToClipboard:Object(F.n)("[Two factor settings action] copy to clipboard",Object(F.s)())},Zt=new s.q("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:()=>window}:void 0);var te=o("XNiG");let ee=(()=>{let t=class{constructor(t,e){this.document=t,this.window=e,this.copySubject=new te.a,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(t){this.config=t}copy(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});const e=this.copyFromContent(t);return this.pushCopyResponse(e?{content:t,isSuccess:e}:{isSuccess:!1,content:t})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(t,e=!0){try{this.selectTarget(t);const o=this.copyText();return this.clearSelection(e?t:void 0,this.window),o&&this.isCopySuccessInIE11()}catch(o){return!1}}isCopySuccessInIE11(){const t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))}copyFromContent(t,e=this.document.body){if(this.tempTextArea&&!e.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{e.appendChild(this.tempTextArea)}catch(i){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;const o=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),o}destroy(t=this.document.body){this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(t,e){var o;t&&t.focus(),null===(o=e.getSelection())||void 0===o||o.removeAllRanges()}createTempTextArea(t,e){const o="rtl"===t.documentElement.getAttribute("dir");let i;return i=t.createElement("textarea"),i.style.fontSize="12pt",i.style.border="0",i.style.padding="0",i.style.margin="0",i.style.position="absolute",i.style[o?"right":"left"]="-9999px",i.style.top=(e.pageYOffset||t.documentElement.scrollTop)+"px",i.setAttribute("readonly",""),i}pushCopyResponse(t){this.copySubject.next(t)}pushCopyReponse(t){this.pushCopyResponse(t)}};return t.\u0275fac=function(e){return new(e||t)(s.Wb(i.d),s.Wb(Zt,8))},t.\u0275prov=Object(s.Ib)({factory:function(){return new t(Object(s.Wb)(i.d),Object(s.Wb)(Zt,8))},token:t,providedIn:"root"}),t})(),oe=(()=>{let t=class{};return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();function ie(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Sb(1,"div",2),s.Sb(2,"div",3),s.Ec(3),s.fc(4,"translate"),s.Rb(),s.Sb(5,"pd-button",4),s.ac("buttonClicked",(function(){return s.vc(t),s.ec().showConfirmationScreen()})),s.Ec(6),s.fc(7,"translate"),s.Rb(),s.Rb(),s.Pb()}if(2&t){const t=s.ec();s.Ab(3),s.Fc(s.gc(4,3,"PROFILE.TWO_FACTOR_AUTH.ENABLED")),s.Ab(2),s.kc("settings",t.grayButton),s.Ab(1),s.Gc(" ",s.gc(7,5,"PROFILE.TWO_FACTOR_AUTH.DISABLE")," ")}}function ne(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Sb(1,"div",5),s.Sb(2,"div",6),s.Ec(3),s.fc(4,"translate"),s.Rb(),s.Sb(5,"div",7),s.Ec(6),s.fc(7,"translate"),s.Rb(),s.Sb(8,"form",8),s.Sb(9,"label",9),s.Ec(10),s.fc(11,"translate"),s.Rb(),s.Nb(12,"pd-input",10),s.fc(13,"translate"),s.Rb(),s.Sb(14,"pd-button",11),s.ac("buttonClicked",(function(){return s.vc(t),s.ec().makeRequest()})),s.Ec(15),s.fc(16,"translate"),s.Rb(),s.Rb(),s.Pb()}if(2&t){const t=s.ec();s.Ab(3),s.Fc(s.gc(4,8,"PROFILE.TWO_FACTOR_AUTH.ATTENTION")),s.Ab(3),s.Fc(s.gc(7,10,"PROFILE.TWO_FACTOR_AUTH.DISABLING_WARNING")),s.Ab(2),s.kc("formGroup",t.form),s.Ab(2),s.Fc(s.gc(11,12,"PROFILE.TWO_FACTOR_AUTH.ENTER_CODE")),s.Ab(2),s.lc("placeholder",s.gc(13,14,"PROFILE.TWO_FACTOR_AUTH.AUTH_2_CODE")),s.Ab(2),s.kc("settings",t.grayButton)("disabled",!t.form.valid),s.Ab(1),s.Gc(" ",s.gc(16,16,"PROFILE.TWO_FACTOR_AUTH.DISABLE")," ")}}function ae(t,e){if(1&t&&(s.Sb(0,"div",37),s.Nb(1,"img",38),s.Nb(2,"img",39),s.Rb()),2&t){const t=s.ec().ngIf;s.Ab(2),s.kc("src","data:image/png;base64,"+t.qrCode,s.yc)}}function ce(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Cc(1,ae,3,1,"div",32),s.Sb(2,"div",33),s.Sb(3,"div",34),s.Ec(4),s.fc(5,"translate"),s.Rb(),s.Sb(6,"div",35),s.Ec(7),s.Rb(),s.Sb(8,"pd-button",36),s.ac("click",(function(){return s.vc(t),s.ec(2).copySecureCode()})),s.Ec(9),s.fc(10,"translate"),s.Rb(),s.Rb(),s.Pb()}if(2&t){const t=e.ngIf,o=s.ec(2);s.Ab(1),s.kc("ngIf",t.qrCode),s.Ab(3),s.Fc(s.gc(5,5,"PROFILE.TWO_FACTOR_AUTH.OR_ENTER_SECURE_CODE")),s.Ab(3),s.Fc(t.secretCode),s.Ab(1),s.kc("settings",o.grayButton),s.Ab(1),s.Gc(" ",s.gc(10,7,"PROFILE.TWO_FACTOR_AUTH.COPY")," ")}}function se(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Sb(1,"div",12),s.Ec(2),s.fc(3,"translate"),s.Rb(),s.Sb(4,"div",13),s.Sb(5,"div",14),s.Sb(6,"div",15),s.Ec(7),s.fc(8,"translate"),s.Rb(),s.Sb(9,"div",16),s.Ec(10),s.fc(11,"translate"),s.Rb(),s.Sb(12,"div",17),s.Sb(13,"a",18),s.Nb(14,"img",19),s.Rb(),s.Sb(15,"a",20),s.Nb(16,"img",21),s.Rb(),s.Rb(),s.Rb(),s.Nb(17,"img",22),s.Rb(),s.Sb(18,"div",23),s.Ec(19),s.fc(20,"translate"),s.Rb(),s.Sb(21,"div",24),s.Sb(22,"div",25),s.Sb(23,"div",26),s.Ec(24),s.fc(25,"translate"),s.Rb(),s.Sb(26,"div",27),s.Ec(27),s.fc(28,"translate"),s.Rb(),s.Cc(29,ce,11,9,"ng-container",1),s.fc(30,"async"),s.Rb(),s.Sb(31,"div",25),s.Sb(32,"div",26),s.Ec(33),s.fc(34,"translate"),s.Rb(),s.Sb(35,"div",27),s.Ec(36),s.fc(37,"translate"),s.Rb(),s.Sb(38,"form",8),s.Nb(39,"pd-input",28),s.fc(40,"translate"),s.fc(41,"async"),s.Rb(),s.Sb(42,"pd-button",29),s.ac("buttonClicked",(function(){return s.vc(t),s.ec().makeRequest()})),s.Ec(43),s.fc(44,"translate"),s.Rb(),s.Sb(45,"div",30),s.Ec(46),s.fc(47,"translate"),s.Rb(),s.Sb(48,"div",31),s.Ec(49),s.fc(50,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Pb()}if(2&t){const t=s.ec();s.Ab(2),s.Fc(s.gc(3,17,"PROFILE.TWO_FACTOR_AUTH.DESCRIPTION")),s.Ab(5),s.Fc(s.gc(8,19,"PROFILE.TWO_FACTOR_AUTH.GOOGLE_AUTH")),s.Ab(3),s.Fc(s.gc(11,21,"PROFILE.TWO_FACTOR_AUTH.GOOGLE_AUTH_DESCRIPTION")),s.Ab(9),s.Fc(s.gc(20,23,"PROFILE.TWO_FACTOR_AUTH.GENERATE_CODE")),s.Ab(5),s.Fc(s.gc(25,25,"PROFILE.TWO_FACTOR_AUTH.STEP_1")),s.Ab(3),s.Fc(s.gc(28,27,"PROFILE.TWO_FACTOR_AUTH.STEP_1_DESCRIPTION")),s.Ab(2),s.kc("ngIf",s.gc(30,29,t.twoFactorSettings$)),s.Ab(4),s.Fc(s.gc(34,31,"PROFILE.TWO_FACTOR_AUTH.STEP_2")),s.Ab(3),s.Fc(s.gc(37,33,"PROFILE.TWO_FACTOR_AUTH.STEP_2_DESCRIPTION")),s.Ab(2),s.kc("formGroup",t.form),s.Ab(1),s.lc("placeholder",s.gc(40,35,"PROFILE.TWO_FACTOR_AUTH.AUTH_2_CODE")),s.kc("errors",s.gc(41,37,t.errors.get("code"))),s.Ab(3),s.kc("settings",t.greenButton)("disabled",!t.form.valid),s.Ab(1),s.Gc(" ",s.gc(44,39,"PROFILE.TWO_FACTOR_AUTH.ENABLE")," "),s.Ab(3),s.Fc(s.gc(47,41,"PROFILE.TWO_FACTOR_AUTH.DONT_LOSE_PASSWORD")),s.Ab(3),s.Fc(s.gc(50,43,"PROFILE.TWO_FACTOR_AUTH.IF_LOSE_PASSWORD"))}}let re=(()=>{class t{constructor(t,e,o,i,n,a,c){this.store=t,this.storeHelper=e,this.activated=o,this.clipboardService=i,this.fb=n,this.errorManager=a,this.actions$=c,this.form=this.fb.group(Yt),this.twoFactorState=Jt.Disabled,this.twoFactorSettings$=this.actions$.pipe(Object(y.d)(Xt.getQrSuccess)),this.grayButton={theme:b.e.Gray,size:b.d.Medium},this.greenButton={theme:b.e.Green,size:b.d.Medium},this.actions$.pipe(Object(y.d)(Xt.enableTwoFactorSuccess,Xt.disableTwoFactorSuccess)).subscribe(()=>{this.twoFactorState=this.twoFactorState===Jt.Disabling?Jt.Disabled:Jt.Enabled,this.twoFactorState===Jt.Disabled&&this.store.dispatch(Xt.getQr())}),this.errors=this.errorManager.setUp(this.form,[Xt.enableTwoFactorFailure,Xt.disableTwoFactorFailure])}ngOnInit(){this.store.select(A.a.otpVerification).subscribe(t=>{t&&t.isActive?this.twoFactorState=Jt.Enabled:(this.twoFactorState=Jt.Disabled,this.store.dispatch(Xt.getQr()))})}showConfirmationScreen(){this.twoFactorState=Jt.Disabling}copySecureCode(t){this.store.dispatch(Xt.copyToClipboard({text:t}))}makeRequest(){if(!this.form.valid)return;const{code:t}=this.form.value,e=this.twoFactorState===Jt.Disabling?Xt.disableTwoFactor({code:t}):Xt.enableTwoFactor({code:t});this.store.dispatch(e)}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(F.h),s.Mb(pt.a),s.Mb(f.a),s.Mb(ee),s.Mb(l.c),s.Mb(R.a),s.Mb(y.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["pd-two-factor-authentication"]],features:[s.zb([R.a])],decls:4,vars:4,consts:[[1,"two-factor-auth",3,"ngClass"],[4,"ngIf"],[1,"auth__block","auth__enabled"],[1,"auth__on-title"],["additionalClasses","auth__button auth__button--gray auth__button--off",3,"settings","buttonClicked"],[1,"auth__block","auth__disabled"],[1,"auth__attention__title"],[1,"auth__attention__text"],[3,"formGroup"],["for","code",1,"auth__code__title"],["id","code","formControlName","code",1,"auth__code__input",3,"placeholder"],["additionalClasses","auth__button auth__button--gray auth__button--off",3,"settings","disabled","buttonClicked"],[1,"auth__text"],[1,"google"],[1,"google__wrapper"],[1,"google__title"],[1,"google__text"],[1,"google__buttons"],["href","https://apps.apple.com/ru/app/google-authenticator/id388497605",1,"google__link"],["src","/assets/images/icons/app-store-ru.svg",1,"google__link__img","google__link__img--apple"],["href"," https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=ru",1,"google__link"],["src","/assets/images/icons/google-play-ru.svg",1,"google__link__img","google__link__img--google"],["src","/assets/images/profile/phone.png",1,"google__img"],[1,"generate-code","step__title"],[1,"step__wrapper"],[1,"step"],[1,"step__title"],[1,"step__text"],["formControlName","code",1,"step__input",3,"placeholder","errors"],["additionalClasses","auth__button step__button__green",3,"settings","disabled","buttonClicked"],[1,"step__text-red"],[1,"step__text-gray"],["class","step__qr",4,"ngIf"],[1,"step__block"],[1,"step__block__text"],[1,"step__code"],["additionalClasses","auth__button auth__button--gray step__block__button",3,"settings","click"],[1,"step__qr"],["src","/assets/images/profile/frame.svg",1,"step__qr__frame"],[1,"step__qr__img",3,"src"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Cc(1,ie,8,7,"ng-container",1),s.Cc(2,ne,17,18,"ng-container",1),s.Cc(3,se,51,45,"ng-container",1),s.Rb()),2&t&&(s.kc("ngClass",e.twoFactorState),s.Ab(1),s.kc("ngIf","enabled"===e.twoFactorState),s.Ab(1),s.kc("ngIf","disabling"===e.twoFactorState),s.Ab(1),s.kc("ngIf","disabled"===e.twoFactorState))},directives:[i.k,i.m,b.b,l.t,l.m,l.h,b.i,l.l,l.f],pipes:[u.c,i.b],styles:[".two-factor-auth .auth__button{min-width:152px;min-height:var(--button-min-heigth);position:relative;padding:19px 38px 18px;border-radius:var(--button-border-radius);line-height:1;box-sizing:border-box;font-family:var(--button-font);font-size:var(--main-font-size);cursor:pointer;min-width:110px;min-height:40px;padding:11px 25px 9px;font-size:var(--text-size--sm);color:var(--primary-button-text-color);background-color:var(--primary-button-bg);border:none;font-weight:700;box-shadow:none;text-transform:var(--button-text-transform)}.two-factor-auth .auth__button:hover{background-color:var(--primary-button-hover-bg)}.two-factor-auth .auth__button:active{background-color:var(--primary-button-pressed-bg);color:var(--primary-button-pressed-color);box-shadow:none}.two-factor-auth .auth__button:disabled{background-color:var(--primary-button-disabled-bg)!important;color:var(--primary-button-disabled-color)!important;border-color:transparent!important;box-shadow:none!important;cursor:default}.two-factor-auth .auth__button--gray{color:var(--secondary-button-text-color);background-color:var(--secondary-button-bg);border:var(--secondary-button-border);font-weight:700;box-shadow:none;text-transform:var(--button-text-transform)}.two-factor-auth .auth__button--gray:hover{background-color:var(--secondary-button-hover-bg)}.two-factor-auth .auth__button--gray:active{background-color:var(--secondary-button-pressed-bg);color:var(--secondary-button-pressed-color);box-shadow:none}.two-factor-auth .auth__button--gray:disabled{background-color:var(--secondary-button-disabled-bg)!important;color:var(--secondary-button-disabled-color)!important;border-color:var(--secondary-button-disabled-border)!important;box-shadow:none!important;cursor:default}.two-factor-auth{padding:30px 20px 35px}.two-factor-auth.disabled{padding:20px 20px 40px}.two-factor-auth .auth__text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;margin-bottom:30px}.two-factor-auth .auth__button{text-transform:uppercase}.two-factor-auth .auth__button--off{width:140px}.two-factor-auth .auth__block{margin:0 auto;text-align:center}.two-factor-auth .auth__enabled{width:140px}.two-factor-auth .auth__on-title{color:var(--primary-text-color);margin-bottom:25px}.two-factor-auth .auth__attention__title,.two-factor-auth .auth__on-title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4}.two-factor-auth .auth__attention__title{color:var(--accent-3-title-color);margin-bottom:10px}.two-factor-auth .auth__attention__text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4;margin-bottom:20px}.two-factor-auth .auth__code__title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;margin-bottom:10px;display:block}.two-factor-auth .auth__code__input{display:inline-block;margin-bottom:25px}.two-factor-auth .auth__code__input input{width:180px;margin:0 auto}.two-factor-auth .google{margin:0 -20px 30px;padding:20px 20px 0;background-color:var(--main-bg);overflow:hidden}.two-factor-auth .google__img{display:block;margin:0 auto -50px;width:240px}.two-factor-auth .google__title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;margin-bottom:20px}.two-factor-auth .google__text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4;margin-bottom:20px}.two-factor-auth .google__buttons{display:flex;justify-content:center;align-items:center;margin-bottom:45px}.two-factor-auth .google__link{display:block;margin-right:20px}.two-factor-auth .google__link__img{width:110px;height:auto;display:block}.two-factor-auth .google__link__img--apple{width:100px}.two-factor-auth .google__link:last-child{margin:0}.two-factor-auth .step__title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;margin-bottom:10px}.two-factor-auth .step__text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4;margin-bottom:30px}.two-factor-auth .step__qr{position:relative;width:240px;margin:0 auto 35px}.two-factor-auth .step__qr__frame{width:100%;height:auto;position:absolute;top:0;left:0}.two-factor-auth .step__qr__img{width:100%;height:auto;margin:0 auto}.two-factor-auth .step__block{width:240px;padding:15px 20px 30px;margin:0 auto 30px;border:1px solid var(--extra-3-border-color);text-align:center}.two-factor-auth .step__block__text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;margin-bottom:15px}.two-factor-auth .step__block__button.auth__button.auth__button{font-size:var(--text-size--xs);min-height:30px}.two-factor-auth .step__code{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;text-transform:uppercase;margin-bottom:20px}.two-factor-auth .step__input{margin:0 auto 25px;display:block;width:-webkit-max-content;width:-moz-max-content;width:max-content}.two-factor-auth .step__input .field__input{display:block;width:240px}.two-factor-auth .step__button__green{text-transform:uppercase;width:240px;margin:0 auto 30px;display:block}.two-factor-auth .step__text-red{color:var(--accent-3-text-color);font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--xs);line-height:1.4;margin-bottom:10px}.two-factor-auth .step__text-gray{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--xs);line-height:1.4}.two-factor-auth .generate-code{margin-bottom:30px}@media (min-width:768px){.two-factor-auth{padding:30px 20px}.two-factor-auth.disabled{padding:30px 30px 40px}.two-factor-auth .auth__text{font-size:var(--h4-size)}.two-factor-auth .auth__block{width:100%;background:var(--main-bg);padding:50px 290px 80px 70px;background-image:var(--settings-page-gauth);background-repeat:no-repeat;background-position:255px;background-size:500px;text-align:left}.two-factor-auth .auth__attention__text{font-size:var(--main-font-size)}.two-factor-auth .auth__on-title{font-size:var(--h2-size);margin-bottom:40px}.two-factor-auth .auth__enabled{padding-bottom:100px}.two-factor-auth .google{width:100%;margin:0 0 30px;padding:50px 50px 0;display:flex}.two-factor-auth .google__wrapper{margin-right:40px}.two-factor-auth .google__title{font-size:var(--h4-size)}.two-factor-auth .google__link{margin-right:10px}.two-factor-auth .google__link__img{width:155px}.two-factor-auth .google__link__img--apple{width:135px}.two-factor-auth .google__buttons{margin:0}.two-factor-auth .google__img{margin:0;position:relative}.two-factor-auth .step{margin:0 65px 0 0}.two-factor-auth .step:last-child{margin:0}.two-factor-auth .step__wrapper{display:flex;justify-content:normal;align-items:normal}.two-factor-auth .step__title{font-size:var(--h4-size);margin-bottom:30px}.two-factor-auth .step__text{font-size:var(--main-font-size)}.two-factor-auth .step__block,.two-factor-auth .step__qr{width:280px}.two-factor-auth .step__qr{margin-bottom:20px}.two-factor-auth .step__block{padding:15px 17px 25px;margin:0}.two-factor-auth .step__code{margin-bottom:10px}.two-factor-auth .step__input{margin:0 0 25px}.two-factor-auth .step__input .field__input{width:180px}.two-factor-auth .step__button__green{width:130px;margin:0 0 40px}.two-factor-auth .step__text-gray,.two-factor-auth .step__text-red{font-size:var(--text-size--sm)}.two-factor-auth .generate-code{font-size:var(--h4-size)}}@media (min-width:992px){.two-factor-auth{padding:30px}.two-factor-auth.disabled{padding:50px 200px 70px 80px}.two-factor-auth .auth__block{padding:70px 485px 65px 70px;background-position:360px;background-size:550px}.two-factor-auth .auth__enabled{padding-bottom:100px}}"],encapsulation:2}),t})();const de={oldPassword:["",l.r.required],newPassword:["",[l.r.required,l.r.minLength(8)]],confirmPassword:["",[l.r.required,l.r.minLength(8)]]},be={changePassword:Object(F.n)("[Settings change password action] changing user password",Object(F.s)()),changePasswordSuccess:Object(F.n)("[Settings change password action] changing user password SUCCESS",Object(F.s)()),changePasswordFailure:Object(F.n)("[Settings change password action] changing user password FAILURE",Object(F.s)())};function le(t,e){if(1&t){const t=s.Tb();s.Sb(0,"form",6),s.ac("keyup.enter",(function(){return s.vc(t),s.ec(3).save()})),s.Sb(1,"div",7),s.Sb(2,"div",8),s.Ec(3),s.fc(4,"translate"),s.Rb(),s.Nb(5,"pd-input-password",9),s.fc(6,"translate"),s.fc(7,"async"),s.Rb(),s.Sb(8,"div",7),s.Sb(9,"div",8),s.Ec(10),s.fc(11,"translate"),s.Rb(),s.Nb(12,"pd-input-password",10),s.fc(13,"translate"),s.fc(14,"async"),s.Rb(),s.Sb(15,"div",7),s.Sb(16,"div",8),s.Ec(17),s.fc(18,"translate"),s.Rb(),s.Nb(19,"pd-input-password",11),s.fc(20,"translate"),s.fc(21,"async"),s.Rb(),s.Sb(22,"pd-button",12),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(3).save()})),s.Ec(23),s.fc(24,"translate"),s.Rb(),s.Rb()}if(2&t){const t=s.ec(3);s.kc("formGroup",t.form),s.Ab(3),s.Fc(s.gc(4,13,"PROFILE.CHANGE_PASSWORD.CURRENT_PASSWORD")),s.Ab(2),s.lc("placeholder",s.gc(6,15,"COMMON.PASSWORD")),s.kc("errors",s.gc(7,17,t.errors.get("oldPassword"))),s.Ab(5),s.Fc(s.gc(11,19,"PROFILE.CHANGE_PASSWORD.NEW_PASSWORD")),s.Ab(2),s.lc("placeholder",s.gc(13,21,"COMMON.PASSWORD")),s.kc("errors",s.gc(14,23,t.errors.get("newPassword"))),s.Ab(5),s.Fc(s.gc(18,25,"PROFILE.CHANGE_PASSWORD.CONFIRM_NEW_PASSWORD")),s.Ab(2),s.lc("placeholder",s.gc(20,27,"COMMON.PASSWORD")),s.kc("errors",s.gc(21,29,t.errors.get("confirmPassword"))),s.Ab(3),s.kc("settings",t.saveButton)("disabled",!t.form.valid),s.Ab(1),s.Fc(s.gc(24,31,"PROFILE.CHANGE_PASSWORD.SAVE"))}}function pe(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",13),s.Nb(1,"img",14),s.Sb(2,"div",15),s.Ec(3),s.fc(4,"translate"),s.Rb(),s.Sb(5,"pd-button",16),s.ac("buttonClicked",(function(){return s.vc(t),s.ec(3).reset()})),s.Ec(6),s.fc(7,"translate"),s.Rb(),s.Rb()}if(2&t){const t=s.ec(3);s.Ab(3),s.Fc(s.gc(4,3,"PROFILE.CHANGE_PASSWORD.PASSWORD_SUCCESS_CHANGED")),s.Ab(2),s.kc("settings",t.okButton),s.Ab(1),s.Fc(s.gc(7,5,"PROFILE.CHANGE_PASSWORD.OK"))}}function fe(t,e){if(1&t&&(s.Sb(0,"div",3),s.Cc(1,le,25,33,"form",4),s.Cc(2,pe,8,7,"ng-template",null,5,s.Dc),s.Rb()),2&t){const t=s.uc(3),e=s.ec().ngIf;s.kc("ngClass","visible"===e?"form":"success"),s.Ab(1),s.kc("ngIf","visible"===e)("ngIfElse",t)}}function ue(t,e){1&t&&(s.Sb(0,"div",17),s.Sb(1,"h3",18),s.Ec(2),s.fc(3,"translate"),s.Rb(),s.Rb()),2&t&&(s.Ab(2),s.Fc(s.gc(3,1,"PROFILE.CHANGE_PASSWORD.CREATE_PASSWORD")))}function ge(t,e){if(1&t&&(s.Qb(0),s.Cc(1,fe,4,3,"div",1),s.fc(2,"async"),s.Cc(3,ue,4,3,"ng-template",null,2,s.Dc),s.Pb()),2&t){const t=s.uc(4),e=s.ec();s.Ab(1),s.kc("ngIf",s.gc(2,2,e.user$).passwordExists)("ngIfElse",t)}}let me=(()=>{class t{constructor(t,e,o,i,n,a,s,r){this.fb=t,this.profileService=e,this.notify=o,this.tokensService=i,this.store=n,this.actions$=a,this.storeHelper=s,this.errorManager=r,this.formShown$=new c.a("visible"),this.form=this.fb.group(de,{validators:tt.a.matchFields("newPassword","confirmPassword")}),this.saveButton={theme:b.e.Green,size:b.d.Medium},this.okButton={theme:b.e.Gray,size:b.d.Small},this.user$=this.store.select(A.a.info).pipe(this.storeHelper.withData),this.errors=this.errorManager.setUp(this.form,be.changePasswordFailure).onServerValidate(t=>!t&&this.formShown$.next("visible")),this.requestCompletedSubs=this.actions$.pipe(Object(y.d)(be.changePasswordSuccess)).subscribe(()=>this.formShown$.next("hidden"))}ngOnDestroy(){this.requestCompletedSubs&&this.requestCompletedSubs.unsubscribe()}save(){this.form.valid&&this.store.dispatch(be.changePassword({credentials:this.form.value}))}reset(){this.form.reset({password:"",password_new:"",password_confirm:""}),this.formShown$.next("visible")}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(l.c),s.Mb(bt),s.Mb(lt.a),s.Mb(n.u),s.Mb(F.h),s.Mb(y.a),s.Mb(pt.a),s.Mb(R.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["pd-change-password"]],features:[s.zb([R.a])],decls:2,vars:3,consts:[[4,"ngIf"],["class","change-password",3,"ngClass",4,"ngIf","ngIfElse"],["noPassword",""],[1,"change-password",3,"ngClass"],[3,"formGroup","keyup.enter",4,"ngIf","ngIfElse"],["noForm",""],[3,"formGroup","keyup.enter"],[1,"form__row"],[1,"form__title"],["formControlName","oldPassword",1,"form__input",3,"placeholder","errors"],["formControlName","newPassword",1,"form__input",3,"placeholder","errors"],["formControlName","confirmPassword",1,"form__input",3,"placeholder","errors"],["additionalClasses","form__button",3,"settings","disabled","buttonClicked"],[1,"success__block"],["src","/assets/images/icons/ok.svg",1,"success__img"],[1,"success__text"],[1,"success__button",3,"settings","buttonClicked"],[1,"change-password","change-password--info"],[1,"change-password--info__title"]],template:function(t,e){1&t&&(s.Cc(0,ge,5,4,"ng-container",0),s.fc(1,"async")),2&t&&s.kc("ngIf",s.gc(1,1,e.formShown$))},directives:[i.m,i.k,l.t,l.m,l.h,b.m,l.l,l.f,b.b],pipes:[i.b,u.c],styles:[".change-password .form__button{min-width:152px;min-height:var(--button-min-heigth);position:relative;padding:19px 38px 18px;border-radius:var(--button-border-radius);line-height:1;box-sizing:border-box;font-family:var(--button-font);font-size:var(--main-font-size);cursor:pointer;min-width:110px;min-height:40px;padding:11px 25px 9px;font-size:var(--text-size--sm);color:var(--primary-button-text-color);background-color:var(--primary-button-bg);border:none;font-weight:700;box-shadow:none;text-transform:var(--button-text-transform)}.change-password .form__button:hover{background-color:var(--primary-button-hover-bg)}.change-password .form__button:active{background-color:var(--primary-button-pressed-bg);color:var(--primary-button-pressed-color);box-shadow:none}.change-password .form__button:disabled{background-color:var(--primary-button-disabled-bg)!important;color:var(--primary-button-disabled-color)!important;border-color:transparent!important;box-shadow:none!important;cursor:default}.change-password{padding:30px 20px 40px}.change-password.form{padding:30px 20px 60px}.change-password .success__block{text-align:center}.change-password .success__img{width:auto;height:auto;margin:0 auto 20px;display:block}.change-password .success__text{color:var(--success-text-color);font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;margin-bottom:30px}.change-password .success__button .button{min-width:100px;min-height:40px;font-size:14px}.change-password .form__row{max-width:240px;margin:0 auto 30px}.change-password .form__title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--xs);line-height:1.4;text-transform:uppercase;margin-bottom:10px}.change-password .form__button{width:100%;height:40px;text-transform:uppercase;max-width:240px;margin:0 auto;display:block}.change-password .form__input input{width:100%}.change-password .form__input .error__message{margin-top:5px}.change-password .form__input.ng-dirty.ng-touched.ng-invalid input{border:1px solid var(--error-color)}.change-password .form__input.ng-dirty.ng-touched.ng-invalid input+.icon.icon svg{stroke:var(--error-color)}.change-password--info{padding:50px 20px;text-align:center}@media (min-width:768px){.change-password{padding:50px 20px}.change-password--info{padding:70px 20px}.change-password--info__title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--h4-size);line-height:1.3}.change-password.form{padding:30px 100px 50px}.change-password .success__text{font-size:var(--h4-size)}.change-password .form__row{max-width:320px;margin:0 0 40px}.change-password .form__title{font-size:var(--text-size--sm);margin-bottom:20px;text-align:left}.change-password .form__button{width:140px;margin:0}.change-password .form__input input{width:320px}}@media (min-width:992px){.change-password.form{padding:50px 100px 60px}}"],encapsulation:2,changeDetection:0}),t})();var he=o("Aiw6"),_e=o("AytR");function ve(t,e){if(1&t){const t=s.Tb();s.Sb(0,"pd-button",17),s.ac("buttonClicked",(function(){s.vc(t);const e=s.ec().$implicit;return s.ec().switchConfirm(e)})),s.Ec(1),s.fc(2,"translate"),s.Rb()}if(2&t){const t=s.ec(2);s.kc("settings",t.greenButton)("disabled",!t.form.valid),s.Ab(1),s.Gc(" ",s.gc(2,3,"PROFILE.RESPONSIBLE_GAMING.BLOCK")," ")}}function xe(t,e){if(1&t&&(s.Sb(0,"div"),s.Sb(1,"div",18),s.Ec(2),s.fc(3,"translate"),s.Rb(),s.Sb(4,"div",19),s.Ec(5),s.fc(6,"translate"),s.Sb(7,"a",10),s.Ec(8),s.fc(9,"translate"),s.Rb(),s.Rb(),s.Rb()),2&t){const t=s.ec(2);s.Ab(2),s.Fc(s.gc(3,4,"PROFILE.RESPONSIBLE_GAMING.BLOCKED")),s.Ab(3),s.Gc("",s.gc(6,6,"PROFILE.RESPONSIBLE_GAMING.TO_UNBLOCK")," "),s.Ab(2),s.mc("href","mailto:",t.supportEmail,"",s.yc),s.Ab(1),s.Fc(s.gc(9,8,"PROFILE.RESPONSIBLE_GAMING.SUPPORT_LINK"))}}function Se(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div"),s.Sb(1,"div",20),s.Ec(2),s.fc(3,"translate"),s.fc(4,"translate"),s.Rb(),s.Sb(5,"div",21),s.Sb(6,"pd-button",22),s.ac("buttonClicked",(function(){s.vc(t);const e=s.ec().$implicit;return s.ec().blockSection(e)})),s.Ec(7),s.fc(8,"translate"),s.Rb(),s.Sb(9,"pd-button",22),s.ac("buttonClicked",(function(){s.vc(t);const e=s.ec().$implicit;return s.ec().switchConfirm(e)})),s.Ec(10),s.fc(11,"translate"),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.ec().$implicit,e=s.ec();s.Ab(2),s.Hc("",s.gc(3,6,"PROFILE.RESPONSIBLE_GAMING.BLOCKING_CONFIRMATION"),' "',s.gc(4,8,t.name),'"?'),s.Ab(4),s.kc("settings",e.grayButton),s.Ab(1),s.Fc(s.gc(8,10,"COMMON.YES")),s.Ab(2),s.kc("settings",e.grayButton),s.Ab(1),s.Fc(s.gc(11,12,"COMMON.NO"))}}function Oe(t,e){if(1&t&&(s.Sb(0,"div",11),s.Sb(1,"div",12),s.Nb(2,"img",13),s.Sb(3,"span",14),s.Ec(4),s.fc(5,"translate"),s.Rb(),s.Rb(),s.Cc(6,ve,3,5,"pd-button",15),s.Cc(7,xe,10,10,"div",16),s.Cc(8,Se,12,14,"div",16),s.Rb()),2&t){const t=e.$implicit;s.kc("ngClass",t.confirmation?"info__block--red":""),s.Ab(2),s.kc("alt",t.img)("src",t.image,s.yc),s.Ab(2),s.Fc(s.gc(5,7,t.name)),s.Ab(2),s.kc("ngIf",!t.isBlocked&&!t.confirmation),s.Ab(1),s.kc("ngIf",t.isBlocked),s.Ab(1),s.kc("ngIf",t.confirmation)}}const we=function(){return["page","terms"]};let Ee=(()=>{class t{constructor(t,e,o,i,n,a){this.fb=t,this.store=e,this.profileService=o,this.themeableService=i,this.notify=n,this.storeHelper=a,this.supportEmail=he.a[this.themeableService.getTheme()].supportEmail,this.form=this.fb.group({agree:[!1,tt.a.requiredCheckbox]}),this.blockingSections=[],this.grayButton={theme:b.e.Gray,size:b.d.Medium},this.greenButton={theme:b.e.Green,size:b.d.Medium}}ngOnInit(){this.store.select(A.a.info).subscribe(t=>{this.blockingSections=this.generateBlockingSections(t),this.blockingSections.some(t=>t.isBlocked)&&this.form.get("agree").setValue(!0,{emitEvent:!1})}),this.form.get("agree").valueChanges.pipe(Object(at.a)(t=>!1===t)).subscribe(()=>{this.blockingSections=this.blockingSections.map(t=>Object.assign(Object.assign({},t),{confirmation:!1}))})}switchConfirm(t){t.confirmation=!t.confirmation}blockSection(t){this.profileService.disableSection(t.key).pipe(Object(ct.a)(()=>this.store.dispatch(Z.a.loadUser())),Object(Y.a)(()=>this.store.select(A.a.isAuth).pipe(this.storeHelper.withData))).subscribe(()=>{t.isBlocked=!0,t.confirmation=!1,this.notify.success("NOTIFICATIONS.MESSAGES.SECTION_BLOCKED")})}generateBlockingSections(t){const e=[{key:"casino",name:"PROFILE.RESPONSIBLE_GAMING.CASINO",isBlocked:!t.games,confirmation:!1,image:"/assets/images/icons/cherry.svg"}];return"joker"!==_e.a.theme&&e.push({key:"betting",name:"PROFILE.RESPONSIBLE_GAMING.BETTING",isBlocked:!t.sports,confirmation:!1,image:"/assets/images/icons/ball.svg"}),e}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(l.c),s.Mb(F.h),s.Mb(bt),s.Mb(n.s),s.Mb(lt.a),s.Mb(pt.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["pd-responsible-gaming"]],decls:32,vars:32,consts:[[1,"games-access"],[1,"info__title"],[1,"info__text"],[1,"info__link",3,"goto"],[1,"info__checkbox"],[3,"formGroup"],["formControlName","agree"],[1,"info__blocks"],["class","info__block",3,"ngClass",4,"ngFor","ngForOf"],[1,"info__text-bottom"],[1,"info__link",3,"href"],[1,"info__block",3,"ngClass"],[1,"info__title-box"],[1,"info__icon",3,"alt","src"],[1,"info__icon__text"],["additionalClasses","info__button info__button--block",3,"settings","disabled","buttonClicked",4,"ngIf"],[4,"ngIf"],["additionalClasses","info__button info__button--block",3,"settings","disabled","buttonClicked"],[1,"info__text-block"],[1,"info__text-support"],[1,"info__text-question"],[1,"info__buttons"],["additionalClasses","info__button info__button--gray",1,"info__button--gray",3,"settings","buttonClicked"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Ec(2),s.fc(3,"translate"),s.Rb(),s.Sb(4,"div",2),s.Ec(5),s.fc(6,"translate"),s.Rb(),s.Sb(7,"div",2),s.Ec(8),s.fc(9,"translate"),s.Rb(),s.Sb(10,"div",2),s.Ec(11),s.fc(12,"translate"),s.Rb(),s.Sb(13,"div",2),s.Ec(14),s.fc(15,"translate"),s.Sb(16,"a",3),s.Ec(17),s.fc(18,"translate"),s.Rb(),s.Rb(),s.Sb(19,"div",4),s.Sb(20,"form",5),s.Sb(21,"pd-input-checkbox",6),s.Ec(22),s.fc(23,"translate"),s.Rb(),s.Rb(),s.Rb(),s.Sb(24,"div",7),s.Cc(25,Oe,9,9,"div",8),s.Rb(),s.Sb(26,"div",9),s.Ec(27),s.fc(28,"translate"),s.Sb(29,"a",10),s.Ec(30),s.fc(31,"translate"),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Ab(2),s.Gc(" ",s.gc(3,13,"PROFILE.RESPONSIBLE_GAMING.SELF_EXCLUDING")," "),s.Ab(3),s.Gc(" ",s.gc(6,15,"PROFILE.RESPONSIBLE_GAMING.PARAGRAPH_1")," "),s.Ab(3),s.Gc(" ",s.gc(9,17,"PROFILE.RESPONSIBLE_GAMING.PARAGRAPH_2")," "),s.Ab(3),s.Gc(" ",s.gc(12,19,"PROFILE.RESPONSIBLE_GAMING.PARAGRAPH_3")," "),s.Ab(3),s.Gc(" ",s.gc(15,21,"PROFILE.RESPONSIBLE_GAMING.PARAGRAPH_4")," "),s.Ab(2),s.kc("goto",s.oc(31,we)),s.Ab(1),s.Fc(s.gc(18,23,"PROFILE.RESPONSIBLE_GAMING.PARAGRAPH_4_LINK")),s.Ab(3),s.kc("formGroup",e.form),s.Ab(2),s.Fc(s.gc(23,25,"PROFILE.RESPONSIBLE_GAMING.SELF_EXCLUDING_AGREE")),s.Ab(3),s.kc("ngForOf",e.blockingSections),s.Ab(2),s.Fc(s.gc(28,27,"PROFILE.RESPONSIBLE_GAMING.BLOCK_FOREVER")),s.Ab(2),s.mc("href","mailto:",e.supportEmail,"",s.yc),s.Ab(1),s.Fc(s.gc(31,29,"PROFILE.RESPONSIBLE_GAMING.SUPPORT_LINK")))},directives:[n.d,l.t,l.m,l.h,b.h,l.l,l.f,i.l,i.k,i.m,b.b],pipes:[u.c],styles:[".games-access{padding:20px 20px 40px}.games-access .info__title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;margin-bottom:20px}.games-access .info__text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4;margin-bottom:20px}.games-access .info__text:last-of-type{margin:0}.games-access .info__link{display:inline-block;line-height:1.1;border-bottom:1px solid var(--primary-border-color);color:var(--secondary-text-color)}.games-access .info__checkbox{margin:30px 0}.games-access .info__checkbox .checkbox__message{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4}.games-access .info__blocks{margin-bottom:20px}.games-access .info__block{width:240px;height:auto;border-radius:15px;border:1px solid var(--extra-2-border-color);margin:0 auto 10px;padding:20px 20px 30px;text-align:center;min-height:180px}.games-access .info__block:last-child{margin:0 auto 20px}.games-access .info__block--red{border-color:var(--accent-3-border-color)}.games-access .info__text-bottom{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4}.games-access .info__title-box{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.games-access .info__icon{margin-right:5px;margin-bottom:3px}.games-access .info__icon__text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--h4-size);line-height:1.3;text-transform:uppercase}.games-access .info__button--gray{display:block;margin-right:15px}.games-access .info__button--gray:last-child{margin:0}.games-access .info__button--block{width:175px;height:40px}.games-access .info__text-question{color:var(--accent-3-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;margin:20px 0}.games-access .info__buttons{display:flex;justify-content:center;align-items:center}.games-access .info__buttons .button{min-width:80px}.games-access .info__text-block{color:var(--accent-3-text-color);font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--sm);line-height:1.4;margin:20px 0;text-transform:uppercase}.games-access .info__text-support{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4}@media (min-width:768px){.games-access{padding:30px 30px 50px}.games-access .info__title{font-size:var(--h3-size)}.games-access .info__checkbox .checkbox__message,.games-access .info__text{font-size:var(--main-font-size)}.games-access .info__blocks{display:flex;justify-content:center;align-items:stretch;margin-bottom:40px}.games-access .info__block{padding:40px;width:100%;margin:0 15px 0 0;min-height:240px}.games-access .info__block:last-child{margin:0}.games-access .info__button--green{margin-top:35px}.games-access .info__text-block{margin:30px 0;font-size:var(--main-font-size)}.games-access .info__text-support{font-size:var(--main-font-size)}.games-access .info__buttons .button{min-width:100px}}@media (min-width:992px){.games-access{padding:50px 80px}.games-access .info__checkbox{margin:50px 0 30px}.games-access .info__blocks{justify-content:flex-start}.games-access .info__block{width:330px}}"],encapsulation:2}),t})(),Ae=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.accordionService=e,this.sections=null,this.accordionService.changeSection(this.activatedRoute.snapshot.data.section)}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(f.a),s.Mb(r))},t.\u0275cmp=s.Gb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var o;1&t&&s.Kc(x,!0,s.l),2&t&&s.tc(o=s.bc())&&(e.sections=o)},decls:18,vars:3,consts:[[1,"profile-settings"],[1,"wrapper"],[1,"title"],["component","settings"],["section","account","titleName","PROFILE.PERSONAL_INFO.TITLE"],["section","contact-details","titleName","PROFILE.CONTACT_DETAILS.TITLE"],["section","documents-verification","titleName","PROFILE.DOCUMENTS_VERIFICATION.TITLE"],["section","two-factor-auth","titleName","PROFILE.TWO_FACTOR_AUTH.TITLE"],["section","change-password","titleName","PROFILE.CHANGE_PASSWORD.TITLE"],["section","responsible-gaming","titleName","PROFILE.RESPONSIBLE_GAMING.TITLE"]],template:function(t,e){1&t&&(s.Sb(0,"main",0),s.Sb(1,"div",1),s.Sb(2,"h1",2),s.Ec(3),s.fc(4,"translate"),s.Rb(),s.Sb(5,"pd-accordion",3),s.Sb(6,"pd-accordion-section",4),s.Nb(7,"pd-personal-info"),s.Rb(),s.Sb(8,"pd-accordion-section",5),s.Nb(9,"pd-contact-details"),s.Rb(),s.Sb(10,"pd-accordion-section",6),s.Nb(11,"pd-documents-verification"),s.Rb(),s.Sb(12,"pd-accordion-section",7),s.Nb(13,"pd-two-factor-authentication"),s.Rb(),s.Sb(14,"pd-accordion-section",8),s.Nb(15,"pd-change-password"),s.Rb(),s.Sb(16,"pd-accordion-section",9),s.Nb(17,"pd-responsible-gaming"),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Ab(3),s.Fc(s.gc(4,1,"PROFILE.PROFILE_SETTINGS")))},directives:[E,x,Q,It,Kt,re,me,Ee],pipes:[u.c],styles:[".profile-settings[_ngcontent-%COMP%]{background:var(--main-bg)}.profile-settings[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:30px 20px 50px;max-width:520px;margin:0 auto}.profile-settings[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:var(--main-font-size);text-transform:uppercase;margin-bottom:20px;text-align:center}@media (min-width:768px){.profile-settings[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:50px 0 70px;max-width:728px}.profile-settings[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:50px;font-size:var(--h4-size)}}@media (min-width:992px){.profile-settings[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{max-width:944px}}"],changeDetection:0}),t})();var Ce=o("Vj0D");let Ie=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[f.i.forChild([{path:"",canActivateChild:[Ce.a],children:[{path:"account",component:Ae,data:{section:P.Account}},{path:"change-password",component:Ae,data:{section:P.ChangePassword}},{path:"contact-details",component:Ae,data:{section:P.ContactDetails}},{path:"responsible-gaming",component:Ae,data:{section:P.ResponsibleGaming}},{path:"two-factor-auth",component:Ae,data:{section:P.TwoFactorAuth}},{path:"documents-verification",component:Ae,data:{section:P.DocumentsVerification}}]}])],f.i]}),t})(),Re=(()=>{class t{constructor(t,e){this.actions$=t,this.settingsService=e,this.changePassword$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(be.changePassword),Object(Y.a)(({credentials:t})=>this.settingsService.updatePassword(Object.assign({},t)).pipe(Object(K.a)(t=>be.changePasswordSuccess({token:t})),Object(nt.a)(t=>Object(J.a)(be.changePasswordFailure({error:t}))))))),this.changePasswordSuccess$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(be.changePasswordSuccess),Object(ct.a)(({token:t})=>Z.a.refreshUser({token:t}))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(y.a),s.Wb(bt))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})();var ye=o("CqXF"),Fe=o("lvx5");let ke=(()=>{class t{constructor(t,e){this.actions$=t,this.settingsService=e,this.verifyPhone$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(et.verifyPhone),Object(Y.a)(({credentials:t})=>this.settingsService.verifyPhone(t).pipe(Object(K.a)(()=>et.verifyPhoneSuccess()),Object(nt.a)(t=>Object(J.a)(et.verifyPhoneFailure({error:t}))))))),this.verifyPhoneSuccess$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(et.verifyPhoneSuccess),Object(ye.a)(Fe.a.success({message:"NOTIFICATIONS.MESSAGES.CONTACT_DETAILS_SMS_SENT"})))),this.verifyPhoneFailure$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(et.verifyPhoneFailure),Object(ye.a)(Fe.a.error({message:"NOTIFICATIONS.MESSAGES.CONTACT_DETAILS_WRONG_PHONE"})))),this.verifyPhoneCode$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(et.verifyPhoneCode),Object(Y.a)(({credentials:t})=>this.settingsService.verifyCode(t).pipe(Object(K.a)(()=>et.verifyPhoneCodeSuccess()),Object(nt.a)(t=>Object(J.a)(et.verifyPhoneCodeFailure({error:t}))))))),this.verifyPhoneCodeSuccess$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(et.verifyPhoneCodeSuccess),Object(ye.a)(Fe.a.success({message:"NOTIFICATIONS.MESSAGES.CONTACT_DETAILS_PHONE_VERIFIED"})))),this.verifyPhoneCodeError$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(et.verifyPhoneCodeFailure),Object(ye.a)(Fe.a.error({message:"NOTIFICATIONS.MESSAGES.CONTACT_DETAILS_WRONG_CODE"})))),this.verifyEmail$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(et.saveEmail),Object(Y.a)(({credentials:t})=>this.settingsService.updateEmail(t).pipe(Object(K.a)(()=>et.saveEmailSuccess()),Object(nt.a)(t=>Object(J.a)(et.saveEmailFailure({error:t}))))))),this.reloadUser=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(et.verifyPhoneCodeSuccess,et.saveEmailSuccess),Object(ye.a)(Z.a.loadUser())))}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(y.a),s.Wb(bt))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})(),Te=(()=>{class t{constructor(t,e){this.actions$=t,this.settingsService=e,this.uploadDocument$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(jt.uploadDocument),Object(Y.a)(({file:t})=>this.settingsService.uploadDocument(t).pipe(Object(K.a)(t=>t.type===dt.e.UploadProgress?jt.uploadDocumentProcess({loadedPercents:Math.round(100*t.loaded/t.total)}):t.type===dt.e.Response?jt.uploadDocumentSuccess({md5:t.body.document_md5}):jt.uploadDocumentNoop()),Object(nt.a)(t=>Object(J.a)(jt.uploadDocumentFailure({error:t}))))))),this.saveDocument$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(jt.savingDocument),Object(Y.a)(({md5:t,name:e})=>this.settingsService.saveDocument(t,e).pipe(Object(K.a)(()=>jt.savingDocumentSuccess()),Object(nt.a)(t=>Object(J.a)(jt.savingDocumentFailure({error:t}))))))),this.successNotification$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(jt.savingDocumentSuccess),Object(ye.a)(Fe.a.success({message:"NOTIFICATIONS.MESSAGES.FILES_SAVED"})))),this.failureNotification$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(jt.uploadDocumentFailure,jt.savingDocumentFailure),Object(ye.a)(Fe.a.error({message:"FILES_NOT_SAVED"})))),this.reloadUser$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(jt.savingDocumentSuccess),Object(ye.a)(Z.a.loadUser())))}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(y.a),s.Wb(bt))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})(),Pe=(()=>{class t{constructor(t,e){this.actions$=t,this.settingsService=e,this.updateInfo$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(T.updatePersonalInfo),Object(Y.a)(t=>this.settingsService.updatePersonalInfo(t).pipe(Object(K.a)(()=>T.updatePersonalInfoSuccess()),Object(nt.a)(t=>Object(J.a)(T.updatePersonalInfoFailure({error:t}))))))),this.updateSuccess$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(T.updatePersonalInfoSuccess),Object(ye.a)(Fe.a.success({message:"NOTIFICATIONS.MESSAGES.SETTINGS_INFO_CHANGED"})))),this.reloadUser$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(T.updatePersonalInfoSuccess),Object(ye.a)(Z.a.loadUser()))),this.updateFailure$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(T.updatePersonalInfoFailure),Object(ye.a)(Fe.a.error({message:"NOTIFICATIONS.MESSAGES.SETTINGS_INFO_CHANGE_FAIL"}))))}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(y.a),s.Wb(bt))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})();const Ne={disableSection:Object(F.n)("[Settings responsible gaming action] disabling user section",Object(F.s)()),disablingSectionSuccess:Object(F.n)("[Settings responsible gaming action] disabling user section SUCCESS"),disablingSectionFailure:Object(F.n)("[Settings responsible gaming action] disabling user section FAILURE")};let je=(()=>{class t{constructor(t,e){this.actions$=t,this.settingsService=e,this.disableSection$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Ne.disableSection),Object(Y.a)(({section:t})=>this.settingsService.disableSection(t).pipe(Object(K.a)(()=>Ne.disablingSectionSuccess()),Object(nt.a)(()=>Object(J.a)(Ne.disablingSectionFailure())))))),this.disableSectionSuccess$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Ne.disablingSectionSuccess),Object(ye.a)(Fe.a.success({message:"NOTIFICATIONS.MESSAGES.SECTION_BLOCKED"})))),this.reloadUser$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Ne.disablingSectionSuccess),Object(ye.a)(Z.a.loadUser()))),this.disableSectionFailure$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Ne.disablingSectionFailure),Object(ye.a)(Fe.a.error({message:"INTERNAL ERROR"}))))}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(y.a),s.Wb(bt))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})();var Le=o("aGrj");let De=(()=>{class t{constructor(t,e,o,i){this.store=t,this.actions$=e,this.settingsService=o,this.clipboardService=i,this.getQr$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Xt.getQr),Object(Le.a)(this.settingsService.getQr().pipe(Object(K.a)(({qrCode:t,secretCode:e})=>Xt.getQrSuccess({qrCode:t,secretCode:e})),Object(nt.a)(t=>Object(J.a)(Xt.getQrFailure({error:t}))))))),this.enableTwoFactor$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Xt.enableTwoFactor),Object(Y.a)(({code:t})=>this.settingsService.enableTwoFactorAuth(t).pipe(Object(K.a)(()=>Xt.enableTwoFactorSuccess()),Object(nt.a)(t=>Object(J.a)(Xt.enableTwoFactorFailure({error:t}))))))),this.enableTwoFactorSuccess$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Xt.enableTwoFactorSuccess),Object(ye.a)(Fe.a.success({message:"NOTIFICATIONS.MESSAGES.2FACTOR_ENABLED"})))),this.enableTwoFactorFailure$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Xt.enableTwoFactorFailure),Object(ye.a)(Fe.a.error({message:"NOTIFICATIONS.MESSAGES.2FACTOR_ENABLE_FAIL"})))),this.changeTwoFactorState$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Xt.enableTwoFactorSuccess,Xt.disableTwoFactorSuccess),Object(ye.a)(Z.a.logout()))),this.disableTwoFactor$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Xt.disableTwoFactor),Object(Y.a)(({code:t})=>this.settingsService.disableTwoFactorAuth(t).pipe(Object(ye.a)(Xt.disableTwoFactorSuccess()),Object(nt.a)(t=>Object(J.a)(Xt.disableTwoFactorFailure({error:t}))))))),this.disableTwoFactorSuccess$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Xt.disableTwoFactorSuccess),Object(ye.a)(Fe.a.success({message:"NOTIFICATIONS.MESSAGES.2FACTOR_DISABLED"})))),this.disableTwoFactorFailure$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Xt.disableTwoFactorFailure),Object(ye.a)(Fe.a.error({message:"NOTIFICATIONS.MESSAGES.2FACTOR_DISABLE_FAIL"})))),this.copyToClipboard$=Object(y.c)(()=>this.actions$.pipe(Object(y.d)(Xt.copyToClipboard),Object(ct.a)(({text:t})=>this.clipboardService.copyFromContent(t)),Object(ye.a)(Fe.a.success({message:"NOTIFICATIONS.MESSAGES.CODE_COPIED"}))))}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(F.h),s.Wb(y.a),s.Wb(bt),s.Wb(ee))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac}),t})(),Me=(()=>{class t{static forRoot(){return{ngModule:t,providers:[bt]}}}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[y.b.forFeature([Re,ke,Te,Pe,je,De])],y.b]}),t})();var ze=o("yGOH");let Ge=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[i.c,oe,Ie,Me.forRoot(),d,Lt.b,n.n,b.t,l.p,p.c,p.b,ze.a]]}),t})()}}]);