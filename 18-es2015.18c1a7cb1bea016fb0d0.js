(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{PAjh:function(t,e,n){"use strict";n.r(e),n.d(e,"CashierModule",(function(){return Fn}));var i=n("ofXK"),o=n("tyNb"),a=function(t){return t.Deposit="deposit",t.Withdrawal="withdrawal",t.Withdraw="withdraw",t.Transfers="transfers",t.History="history",t}({});const s=[{value:a.Deposit,label:"CASHIER.METHODS.DEPOSIT"},{value:a.Withdrawal,label:"CASHIER.METHODS.WITHDRAW"},{value:a.Transfers,label:"CASHIER.METHODS.TRANSFER"},{value:a.History,label:"CASHIER.METHODS.HISTORY"}];var r=n("AytR"),c=n("JX91"),d=n("pLZG"),p=n("lJxs"),g=n("w1tV"),l=n("l7P3");const h="[Cashier action]",b={loadPaymentMethods:Object(l.n)(h+" loading payment methods"),loadPaymentMethodsSuccess:Object(l.n)(h+" loading payment methods SUCCESS",Object(l.s)()),loadPaymentMethodsFailure:Object(l.n)(h+" loading payment methods FAILURE",Object(l.s)()),loadCards:Object(l.n)(h+" loading cards",Object(l.s)()),loadCardsSuccess:Object(l.n)(h+" loading cards SUCCESS",Object(l.s)()),loadCardsFailure:Object(l.n)(h+" loading cards FAILURE",Object(l.s)())};var u=n("fXoL"),m=n("ds5d"),_=n("sYmb");const f=function(t){return["cashier",t]};function v(t,e){if(1&t&&(u.Sb(0,"a",3),u.Ec(1),u.fc(2,"translate"),u.Rb()),2&t){const t=e.$implicit,n=u.ec();u.Eb("active",n.isActive(t.value)),u.kc("goto",u.pc(6,f,t.value)),u.Ab(1),u.Gc(" ",u.gc(2,4,t.label)," ")}}let C=(()=>{class t{isActive(t){return this.active===t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-header"]],inputs:{active:"active",sections:"sections"},decls:3,vars:1,consts:[[1,"menu"],[1,"menu__wrapper"],["class","menu__item",3,"goto","active",4,"ngFor","ngForOf"],[1,"menu__item",3,"goto"]],template:function(t,e){1&t&&(u.Sb(0,"nav",0),u.Sb(1,"div",1),u.Cc(2,v,3,8,"a",2),u.Rb(),u.Rb()),2&t&&(u.Ab(2),u.kc("ngForOf",e.sections))},directives:[i.l,m.d],pipes:[_.c],styles:['.menu[_ngcontent-%COMP%]{background:var(--accent-1-bg-color);box-shadow:var(--sm-shadow);position:relative;height:60px;overflow:hidden}.menu__wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;height:75px;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;margin:0 auto;padding:0 0 15px;overflow:hidden;overflow-x:scroll}.menu__item[_ngcontent-%COMP%]{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--xs);line-height:1.4;text-transform:uppercase;margin-right:22px}.menu__item[_ngcontent-%COMP%]:last-child{margin:0;padding-right:20px}.menu__item[_ngcontent-%COMP%]:last-child.active:before{width:calc(100% - 20px)}.menu__item[_ngcontent-%COMP%]:first-child{padding-left:20px}.menu__item[_ngcontent-%COMP%]:first-child.active:before{width:calc(100% - 20px);left:inherit;right:0}.menu__item.active[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--primary-text-color);position:relative;height:100%}.menu__item.active[_ngcontent-%COMP%]:before{content:"";width:100%;height:2px;background:var(--primary-bg-color);position:absolute;bottom:0;left:0}.menu__item[_ngcontent-%COMP%]:not(.active):hover{color:var(--secondary-text-hover)}@media (min-width:375px){.menu__item[_ngcontent-%COMP%]:first-child, .menu__item[_ngcontent-%COMP%]:last-child{padding:0}.menu__item[_ngcontent-%COMP%]:first-child.active:before, .menu__item[_ngcontent-%COMP%]:last-child.active:before{width:100%}}@media (min-width:420px){.menu__wrapper[_ngcontent-%COMP%]{overflow-x:unset}}@media (min-width:768px){.menu__wrapper[_ngcontent-%COMP%]{justify-content:center}.menu__item[_ngcontent-%COMP%]{margin-right:40px;font-size:var(--text-size--sm)}}'],changeDetection:0}),t})(),x=(()=>{class t{constructor(t,e,n){this.url=t,this.router=e,this.store=n,this.sections=s.filter(t=>r.a.cashier.availableSections.includes(t.value)),this.active$=this.router.events.pipe(Object(c.a)(this.router),Object(d.a)(t=>t instanceof o.c||t instanceof o.f),Object(p.a)(t=>this.url.urlParser(t.url)[0][1]),Object(p.a)(t=>"withdraw"===t?a.Withdrawal:t),Object(g.a)()),this.store.dispatch(b.loadPaymentMethods())}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(m.w),u.Mb(o.f),u.Mb(l.h))},t.\u0275cmp=u.Gb({type:t,selectors:[["ng-component"]],decls:4,vars:4,consts:[[1,"main"],[3,"sections","active"]],template:function(t,e){1&t&&(u.Sb(0,"main",0),u.Nb(1,"pd-header",1),u.fc(2,"async"),u.Nb(3,"router-outlet"),u.Rb()),2&t&&(u.Ab(1),u.kc("sections",e.sections)("active",u.gc(2,2,e.active$)))},directives:[C,o.j],pipes:[i.b],styles:[".main{background:var(--main-bg)}.main .cashier{background:var(--accent-1-bg-color)}.main .cashier .wrapper{max-width:320px;padding:20px 20px 50px;margin:0 auto;text-align:center}.main .cashier .header{display:flex;justify-content:space-between;align-items:flex-start;display:grid;grid-template-columns:1fr auto 1fr;margin-bottom:25px;text-align:center;padding:0}.main .cashier .header__left{text-align:left}.main .cashier .header__middle{margin-top:12px}.main .cashier .header__middle--widget{display:flex;justify-content:center;align-items:center;height:100%;margin:0}.main .cashier .header__middle--phone-widget.header__middle--phone-widget{margin-top:34px}.main .cashier .header__info{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--xs);line-height:1.4;text-align:center;margin:0;word-break:keep-all}.main .cashier .header__right{text-align:right}.main .cashier .header__right img{max-width:40px;height:auto}.main .cashier .header__title{margin-bottom:5px}@media (min-width:768px){.main .cashier .wrapper{max-width:none;width:700px;padding:40px 0 70px}.main .cashier .header{text-align:center;max-width:none;width:100%}.main .cashier .header--widget{grid-template-columns:1fr 1fr}.main .cashier .header__middle{margin-top:0}.main .cashier .header__middle--widget{justify-content:flex-end;align-items:baseline}.main .cashier .header__right img{width:auto;max-width:50px}}@media (min-width:992px){.main .cashier{background:var(--main-bg);padding:30px 0}.main .cashier .wrapper{width:784px;max-width:none;border-radius:15px;box-shadow:var(--sm-shadow);background-color:var(--accent-1-bg-color);margin:0 auto;padding:40px 40px 60px}}"],encapsulation:2,changeDetection:0}),t})();const O={loadHistory:Object(l.n)("[Cashier history action] loading history",Object(l.s)()),loadHistorySuccess:Object(l.n)("[Cashier history action] loading history SUCCESS",Object(l.s)()),loadHistoryFailure:Object(l.n)("[Cashier history action] loading history FAILURE",Object(l.s)()),cancelHistoryOperation:Object(l.n)("[Cashier history action] cancel history operation",Object(l.s)()),cancelHistoryOperationSuccess:Object(l.n)("[Cashier history action] cancel history operation SUCCESS",Object(l.s)()),cancelHistoryOperationFailure:Object(l.n)("[Cashier history action] cancel history operation FAILURE",Object(l.s)())},M={getTransactionStatus:Object(l.n)("[Cashier status action] loading transaction status",Object(l.s)()),getTransactionStatusSuccess:Object(l.n)("[Cashier status action] loading transaction status SUCCESS",Object(l.s)()),getTransactionStatusFailure:Object(l.n)("[Cashier status action] loading transaction status FAILURE",Object(l.s)()),redirectBack:Object(l.n)("[Cashier status action] redirecting",Object(l.s)()),saveErrorMessage:Object(l.n)("[Cashier status action] save error message",Object(l.s)()),deleteErrorMessage:Object(l.n)("[Cashier status action] delete error message")},y=Object(l.p)(new class{constructor(){this.defaultAmount=null,this.paymentMethods=null,this.cards={},this.history={},this.errorMessage=null}},Object(l.r)(b.loadPaymentMethods,t=>Object.assign(Object.assign({},t),{paymentMethods:null,defaultAmount:null})),Object(l.r)(b.loadPaymentMethodsSuccess,(t,{paymentMethods:e})=>Object.assign(Object.assign({},t),{defaultAmount:e.default_amount,paymentMethods:e.list})),Object(l.r)(O.loadHistorySuccess,(t,{history:e})=>Object.assign(Object.assign({},t),{history:Object.assign(Object.assign({},t.history),e)})),Object(l.r)(b.loadCardsSuccess,(t,{cards:e})=>Object.assign(Object.assign({},t),{cards:Object.assign(Object.assign({},t.cards),e)})),Object(l.r)(M.saveErrorMessage,(t,{errorMessage:e})=>Object.assign(Object.assign({},t),{errorMessage:e})),Object(l.r)(M.deleteErrorMessage,t=>Object.assign(Object.assign({},t),{errorMessage:null})));function w(t,e){return y(t,e)}const P=Object(l.o)("cashier"),S={amount:Object(l.q)(P,t=>t.defaultAmount),paymentMethods:Object(l.q)(P,t=>t.paymentMethods),paymentMethodsBySection:Object(l.q)(P,(t,e)=>t.paymentMethods?t.paymentMethods.filter(t=>e.section===t.operation_type):[]),paymentMethod:Object(l.q)(P,(t,e)=>t.paymentMethods?t.paymentMethods.find(t=>t.id===Number(e.id)):null),cards:Object(l.q)(P,t=>t.cards),cardsById:Object(l.q)(P,(t,e)=>t.cards[e.id]||null),getErrorMessage:Object(l.q)(P,t=>t.errorMessage)};var A=n("FWDm"),R=function(t){return t[t.BankCardDeposit=43]="BankCardDeposit",t[t.BankCardDepositKzt=92]="BankCardDepositKzt",t[t.BankCardDepositPartner=93]="BankCardDepositPartner",t[t.BankCardDepositTrusted=94]="BankCardDepositTrusted",t[t.BankCardDepositUntrusted=95]="BankCardDepositUntrusted",t[t.BankCardWithdrawal=52]="BankCardWithdrawal",t[t.NetellerDeposit=44]="NetellerDeposit",t[t.NetellerWithdrawal=55]="NetellerWithdrawal",t[t.QiwiDeposit=45]="QiwiDeposit",t[t.QiwiWithdrawal=58]="QiwiWithdrawal",t[t.MonetaruDeposit=46]="MonetaruDeposit",t[t.MonetaruWithdrawal=56]="MonetaruWithdrawal",t[t.SkrillDeposit=47]="SkrillDeposit",t[t.SkrillWithdrawal=54]="SkrillWithdrawal",t[t.MobileDeposit=48]="MobileDeposit",t[t.MobileWithdrawal=57]="MobileWithdrawal",t[t.WebmoneyDeposit=49]="WebmoneyDeposit",t[t.WebmoneyLightDeposit=49]="WebmoneyLightDeposit",t[t.WebmoneyWithdrawal=53]="WebmoneyWithdrawal",t[t.BitcoinDeposit=65]="BitcoinDeposit",t[t.MonetixDeposit=62]="MonetixDeposit",t[t.YandexMoneyDeposit=64]="YandexMoneyDeposit",t[t.YandexMoneyWithdrawal=63]="YandexMoneyWithdrawal",t[t.ApplePayDeposit=72]="ApplePayDeposit",t[t.BankCardDeposit2020=81]="BankCardDeposit2020",t[t.BankCardWithdrawal2020=82]="BankCardWithdrawal2020",t}({}),k=function(t){return t[t.Deposit=76]="Deposit",t[t.DepositFirst=78]="DepositFirst",t[t.Withdrawal=77]="Withdrawal",t[t.DepositApplePay=89]="DepositApplePay",t[t.DepositGPay=88]="DepositGPay",t}({});const E=[R.ApplePayDeposit,k.DepositApplePay];var I=n("9YtQ"),D=function(t){return t[t.Withdrawal=68]="Withdrawal",t}({}),T=function(t){return t[t.BankCardDeposit=40]="BankCardDeposit",t[t.BankCardDepositFs=41]="BankCardDepositFs",t[t.BankCardWithdrawal=42]="BankCardWithdrawal",t[t.YandexMoneyDeposit=50]="YandexMoneyDeposit",t[t.YandexMoneyWithdrawal=51]="YandexMoneyWithdrawal",t}({}),N=function(t){return t[t.BankCardDeposit=59]="BankCardDeposit",t[t.BankCardDepositRebill=61]="BankCardDepositRebill",t[t.BankCardWithdrawal=60]="BankCardWithdrawal",t}({}),W=function(t){return t[t.Deposit=66]="Deposit",t[t.DepositVisa=69]="DepositVisa",t[t.DepositVisaUntrusted=70]="DepositVisaUntrusted",t[t.DepositMasterCard=71]="DepositMasterCard",t[t.DepositVisaWidget=73]="DepositVisaWidget",t[t.DepositVisaUntrustedWidget=74]="DepositVisaUntrustedWidget",t[t.DepositMasterCardWidget=75]="DepositMasterCardWidget",t}({}),j=function(t){return t[t.Deposit=90]="Deposit",t[t.Withdrawal=91]="Withdrawal",t}({}),B=function(t){return t[t.Deposit=83]="Deposit",t[t.Withdrawal=84]="Withdrawal",t}({}),L=function(t){return t[t.Deposit=85]="Deposit",t[t.DepositCard=86]="DepositCard",t[t.WithdrawalCard=96]="WithdrawalCard",t[t.MonobankDeposit=98]="MonobankDeposit",t[t.Privat24Deposit=99]="Privat24Deposit",t[t.BankCardVisaDepositTrusted=100]="BankCardVisaDepositTrusted",t}({});const z={default:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[R.BankCardDeposit]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[R.BankCardDepositKzt]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[R.BankCardDepositPartner]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[R.BankCardDepositTrusted]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[R.BankCardDepositUntrusted]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[R.NetellerDeposit]:{logo:"neteller.svg",secondaryLogo:"neteller-mini.svg",name:"Neteller"},[R.NetellerWithdrawal]:{logo:"neteller.svg",secondaryLogo:"neteller-mini.svg",name:"Neteller"},[R.QiwiDeposit]:{logo:"qiwi.svg",secondaryLogo:"qiwi-mini.svg",name:"Qiwi"},[R.QiwiWithdrawal]:{logo:"qiwi.svg",secondaryLogo:"qiwi-mini.svg",name:"Qiwi"},[R.MonetaruDeposit]:{logo:"moneta.svg",secondaryLogo:"moneta-mini.svg",name:"Moneta.Ru"},[R.MonetaruWithdrawal]:{logo:"moneta.svg",secondaryLogo:"moneta-mini.svg",name:"Moneta.Ru"},[R.SkrillDeposit]:{logo:"skrill.svg",secondaryLogo:"skrill-mini.svg",name:"Skrill"},[R.SkrillWithdrawal]:{logo:"skrill.svg",secondaryLogo:"skrill-mini.svg",name:"Skrill"},[R.MobileDeposit]:{logo:"sms-icon.svg",secondaryLogo:"sms-icon.svg",name:"Mobile"},[R.MobileWithdrawal]:{logo:"sms-icon.svg",secondaryLogo:"sms-icon.svg",name:"Mobile"},[R.WebmoneyDeposit]:{logo:"webmoney.svg",secondaryLogo:"webmoney-mini.svg",name:"Webmoney"},[R.WebmoneyLightDeposit]:{logo:"webmoney.svg",secondaryLogo:"webmoney-mini.svg",name:"Webmoney"},[R.WebmoneyWithdrawal]:{logo:"webmoney.svg",secondaryLogo:"webmoney-mini.svg",name:"Webmoney"},[R.BitcoinDeposit]:{logo:"bitcoin.svg",secondaryLogo:"bitcoin-mini.svg",name:"Bitcoin"},[R.MonetixDeposit]:{logo:"monetix.svg",secondaryLogo:"monetix-mini.svg",name:"Monetix"},[R.YandexMoneyDeposit]:{logo:"yandex-money.svg",secondaryLogo:"money-mini.svg",name:"Yandex money"},[R.YandexMoneyWithdrawal]:{logo:"yandex-money.svg",secondaryLogo:"money-mini.svg",name:"Yandex money"},[R.ApplePayDeposit]:{logo:"apple.svg",secondaryLogo:"apple-mini.svg",name:"ApplePay"},[R.BankCardDeposit2020]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[T.BankCardDeposit]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[T.BankCardDepositFs]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[T.BankCardWithdrawal]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[T.YandexMoneyDeposit]:{logo:"yandex-money.svg",secondaryLogo:"money-mini.svg",name:"Yandex money"},[T.YandexMoneyWithdrawal]:{logo:"yandex-money.svg",secondaryLogo:"money-mini.svg",name:"Yandex money"},[N.BankCardDeposit]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[N.BankCardDepositRebill]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[N.BankCardWithdrawal]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[W.Deposit]:{logo:"visa-simple.svg",secondaryLogo:"visa-simple-mini.svg",name:"Debit card"},[W.DepositVisa]:{logo:"visa-simple.svg",secondaryLogo:"visa-simple-mini.svg",name:"Debit card"},[W.DepositVisaUntrusted]:{logo:"visa-simple.svg",secondaryLogo:"visa-simple-mini.svg",name:"Debit card"},[W.DepositMasterCard]:{logo:"mastercard.svg",secondaryLogo:"mastercard-mini.svg",name:"Debit card"},[W.DepositVisaWidget]:{logo:"visa-simple.svg",secondaryLogo:"visa-simple-mini.svg",name:"Debit card"},[W.DepositVisaUntrustedWidget]:{logo:"visa-simple.svg",secondaryLogo:"visa-simple-mini.svg",name:"Debit card"},[W.DepositMasterCardWidget]:{logo:"mastercard.svg",secondaryLogo:"mastercard-mini.svg",name:"Debit card"},[D.Withdrawal]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[k.Deposit]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[k.DepositFirst]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[k.DepositApplePay]:{logo:"apple.svg",secondaryLogo:"apple-mini.svg",name:"Debit card"},[k.DepositGPay]:{logo:"gpay.svg",secondaryLogo:"gpay-mini.svg",name:"Debit card"},[j.Deposit]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[j.Withdrawal]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[B.Deposit]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[B.Withdrawal]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[L.Deposit]:{logo:"kyivstar.svg",secondaryLogo:"kyivstar-mini.svg",name:"Debit card"},[L.DepositCard]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[L.WithdrawalCard]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"},[L.MonobankDeposit]:{logo:"monobank.svg",secondaryLogo:"mono-mini.svg",name:"Debit card"},[L.Privat24Deposit]:{logo:"privat.svg",secondaryLogo:"privat-mini.svg",name:"Debit card"},[L.BankCardVisaDepositTrusted]:{logo:"visa-simple.svg",secondaryLogo:"visa-simple-mini.svg",name:"Debit card"},[function(t){return t[t.BankCardDeposit=96]="BankCardDeposit",t}({}).BankCardDeposit]:{logo:"visa-big.svg",secondaryLogo:"visa-mini.svg",name:"Debit card"}};function F(t,e){if(1&t&&(u.Sb(0,"div",4),u.Ec(1),u.fc(2,"translate"),u.Rb()),2&t){const t=u.ec();u.Ab(1),u.Hc(" ",u.gc(2,2,"COMMON.METHOD")," ",t.paymentMethod.countNumber,"")}}let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-item"]],inputs:{paymentMethod:"paymentMethod"},decls:6,vars:7,consts:[[1,"item",3,"ngClass"],["class","item__info item__info--method",4,"ngIf"],[1,"item__icon",3,"src"],[1,"item__info","item__info--comission"],[1,"item__info","item__info--method"]],template:function(t,e){1&t&&(u.Sb(0,"div",0),u.Cc(1,F,3,4,"div",1),u.Nb(2,"img",2),u.Sb(3,"div",3),u.Ec(4),u.fc(5,"translate"),u.Rb(),u.Rb()),2&t&&(u.kc("ngClass",e.paymentMethod.name),u.Ab(1),u.kc("ngIf",e.paymentMethod.countNumber),u.Ab(1),u.mc("src","assets/images/cashier/logos/",e.paymentMethod.logo,"",u.yc),u.Ab(2),u.Hc("",u.gc(5,5,"CASHIER.COMMISSION")," ",e.paymentMethod.commission,"%"))},directives:[i.k,i.m],pipes:[_.c],styles:[".item[_ngcontent-%COMP%]{width:100%;height:120px;display:flex;justify-content:center;align-items:center;border-radius:15px;box-shadow:var(--sm-shadow);background-color:var(--accent-1-bg-color);margin-bottom:20px;flex-wrap:wrap;position:relative;cursor:pointer}.item[_ngcontent-%COMP%]:hover{box-shadow:var(--md-shadow)}.item__icon[_ngcontent-%COMP%]{max-width:140px;height:auto}.item__info[_ngcontent-%COMP%]{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--xs);line-height:1.4;position:absolute;z-index:1;left:50%;transform:translateX(-50%);bottom:10px;width:-webkit-max-content;width:-moz-max-content;width:max-content}.item__info--method[_ngcontent-%COMP%]{bottom:unset;top:10px}.item.Monetix[_ngcontent-%COMP%]   .item__info[_ngcontent-%COMP%]{bottom:5px}.item.Monetix[_ngcontent-%COMP%]   .item__info--method[_ngcontent-%COMP%]{top:5px}.item.Monetix[_ngcontent-%COMP%]   .item__icon[_ngcontent-%COMP%]{width:110px}@media (min-width:768px){.item[_ngcontent-%COMP%]{margin-bottom:0;height:125px}}@media (min-width:1200px){.item[_ngcontent-%COMP%]{height:150px}.item__icon[_ngcontent-%COMP%]{max-width:220px}.item.Monetix[_ngcontent-%COMP%]   .item__icon[_ngcontent-%COMP%]{width:auto}}"],changeDetection:0}),t})();const U=function(t,e){return["cashier",t,e]};function G(t,e){if(1&t&&(u.Qb(0),u.Nb(1,"pd-item",2),u.Pb()),2&t){const t=e.$implicit,n=u.ec();u.Ab(1),u.kc("paymentMethod",t)("goto",u.qc(2,U,n.section,t.id))}}let $=(()=>{class t{constructor(){this.section=null}ngOnInit(){this.paymentMethods$=this.paymentMethods.pipe(Object(p.a)(t=>{const e={};return t.map(n=>{const{category:i}=n,o=t.filter(t=>t.category===i);o&&o.length>1&&(e[i]=i in e?e[i]+1:1);const a=e[n.category]||null,s=n.id===D.Withdrawal?"10\u20b4 + 1,1":String(100*n.commission_rate);return Object.assign(Object.assign({},z[n.id]||z.default),{countNumber:a,commission:s,id:String(n.id)})})}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-grid"]],inputs:{section:"section",paymentMethods:"paymentMethods"},decls:3,vars:3,consts:[[1,"wrapper"],[4,"ngFor","ngForOf"],[3,"paymentMethod","goto"]],template:function(t,e){1&t&&(u.Sb(0,"section",0),u.Cc(1,G,2,5,"ng-container",1),u.fc(2,"async"),u.Rb()),2&t&&(u.Ab(1),u.kc("ngForOf",u.gc(2,1,e.paymentMethods$)))},directives:[i.l,H,m.d],pipes:[i.b],styles:[".wrapper[_ngcontent-%COMP%]{max-width:320px;margin:0 auto;padding:20px 20px 50px}@media (min-width:768px){.wrapper[_ngcontent-%COMP%]{padding:30px 20px 70px;max-width:730px;display:grid;grid-template-columns:repeat(3,1fr);grid-gap:15px}}@media (min-width:992px){.wrapper[_ngcontent-%COMP%]{padding:30px 40px 100px;grid-template-columns:repeat(4,1fr);grid-gap:16px;max-width:944px}}@media (min-width:1200px){.wrapper[_ngcontent-%COMP%]{max-width:1160px;padding:30px 0 100px}}"],changeDetection:0}),t})(),q=(()=>{class t{constructor(t,e,n){this.store=t,this.deviceDetector=e,this.window=n,this.section=a.Deposit,this.paymentMethods$=this.store.select(S.paymentMethodsBySection,{section:"deposit"}).pipe(Object(p.a)(t=>this.window.ApplePaySession?t:t.filter(t=>!E.includes(t.id)))),this.store.dispatch(b.loadPaymentMethods())}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(l.h),u.Mb(I.a),u.Mb(A.c))},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-deposit"]],decls:1,vars:2,consts:[[3,"section","paymentMethods"]],template:function(t,e){1&t&&u.Nb(0,"pd-grid",0),2&t&&u.kc("section",e.section)("paymentMethods",e.paymentMethods$)},directives:[$],styles:[""],changeDetection:0}),t})(),V=(()=>{class t{constructor(t){this.store=t,this.section=a.Withdrawal,this.paymentMethods$=this.store.select(S.paymentMethodsBySection,{section:a.Withdraw}),this.store.dispatch(b.loadPaymentMethods())}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(l.h))},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-withdrawal"]],decls:1,vars:2,consts:[[3,"section","paymentMethods"]],template:function(t,e){1&t&&u.Nb(0,"pd-grid",0),2&t&&u.kc("section",e.section)("paymentMethods",e.paymentMethods$)},directives:[$],styles:[""]}),t})();var Y=n("3Pt+"),X=n("jgZD");const K={nick:["",Y.r.required],amount:["",[Y.r.required,Y.r.min(1),X.a.amount("int")]]};var Q=n("Kceu"),J=n("ZoBR");const Z={makeTransfer:Object(l.n)("[Cashier transfers] making transfer",Object(l.s)()),makeTransferSuccess:Object(l.n)("[Cashier transfers] making transfer SUCCESS",Object(l.s)()),makeTransferFailure:Object(l.n)("[Cashier transfers] making transfer FAILURE",Object(l.s)())};var tt=n("aG/c");let et=(()=>{class t{constructor(t,e,n){this.fb=t,this.store=e,this.errorManager=n,this.form=this.fb.group(K),this.userCurrency$=this.store.select(J.a.currency),this.errors=this.errorManager.setUp(this.form,Z.makeTransferFailure)}makeTransfer(){this.store.dispatch(Z.makeTransfer(this.form.value))}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(Y.c),u.Mb(l.h),u.Mb(Q.a))},t.\u0275cmp=u.Gb({type:t,selectors:[["ng-component"]],features:[u.zb([Q.a])],decls:23,vars:21,consts:[[1,"transfers"],[1,"wrapper"],[3,"formGroup"],[1,"container"],[1,"container__title"],[1,"container__wrapper"],["formControlName","amount",3,"errors"],[1,"container__currency"],["formControlName","nick",3,"errors"],[1,"button",3,"click"]],template:function(t,e){1&t&&(u.Sb(0,"section",0),u.Sb(1,"div",1),u.Sb(2,"form",2),u.Sb(3,"div",3),u.Sb(4,"span",4),u.Ec(5),u.fc(6,"translate"),u.Rb(),u.Sb(7,"div",5),u.Nb(8,"pd-input",6),u.fc(9,"async"),u.Sb(10,"span",7),u.Ec(11),u.fc(12,"currencySymbol"),u.fc(13,"async"),u.Rb(),u.Rb(),u.Rb(),u.Sb(14,"div",3),u.Sb(15,"span",4),u.Ec(16),u.fc(17,"translate"),u.Rb(),u.Nb(18,"pd-input",8),u.fc(19,"async"),u.Rb(),u.Sb(20,"pd-button",9),u.ac("click",(function(){return e.makeTransfer()})),u.Ec(21),u.fc(22,"translate"),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&t&&(u.Ab(2),u.kc("formGroup",e.form),u.Ab(3),u.Fc(u.gc(6,7,"CASHIER.TRANSFERS.SUM")),u.Ab(3),u.kc("errors",u.gc(9,9,e.errors.get("amount"))),u.Ab(3),u.Fc(u.gc(12,11,u.gc(13,13,e.userCurrency$))),u.Ab(5),u.Fc(u.gc(17,15,"CASHIER.TRANSFERS.RECIPIENT")),u.Ab(2),u.kc("errors",u.gc(19,17,e.errors.get("nick"))),u.Ab(3),u.Fc(u.gc(22,19,"CASHIER.TRANSFERS.MAKE_TRANSFER")))},directives:[Y.t,Y.m,Y.h,tt.i,Y.l,Y.f,tt.b],pipes:[_.c,i.b,m.c],styles:[".transfers[_ngcontent-%COMP%]{background:var(--accent-1-bg-color)}.transfers[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{max-width:320px;padding:30px 20px 50px;margin:0 auto;text-align:center}.transfers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin-bottom:40px}.transfers[_ngcontent-%COMP%]   .container__title[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--sm);line-height:1.4;display:block;text-transform:uppercase;margin:0 0 15px}.transfers[_ngcontent-%COMP%]   .container__wrapper[_ngcontent-%COMP%]{position:relative}.transfers[_ngcontent-%COMP%]   .container__currency[_ngcontent-%COMP%]{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;line-height:1;position:absolute;display:block;right:15px;top:18px}.transfers[_ngcontent-%COMP%]   .button.button.button.button[_ngcontent-%COMP%]{min-width:200px;min-height:40px;box-shadow:var(--primary-button-box-shadow)}.transfers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr 1fr;margin-bottom:25px;text-align:center}.transfers[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-bottom:20px}.transfers[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--main-fonts-bold);line-height:1.4;margin:0;line-height:1}.transfers[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .transfers[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;font-size:var(--text-size--sm)}.transfers[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-family:var(--main-fonts);line-height:1.4;margin:0 0 30px}.transfers[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Circe-bold}.transfers[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}.transfers[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .text--green[_ngcontent-%COMP%]{margin-bottom:5px}.transfers[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .text--green[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primary-text-color)}.transfers[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{align-self:flex-start;text-align:left}@media (min-width:768px){.transfers[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding-bottom:70px}.transfers[_ngcontent-%COMP%]   .wrapper--success[_ngcontent-%COMP%]{width:700px;max-width:none}.transfers[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-bottom:30px}.transfers[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .transfers[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:var(--main-font-size)}.transfers[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-bottom:40px}}@media (min-width:992px){.transfers[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:30px 0}.transfers[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:784px;max-width:none;border-radius:15px;box-shadow:var(--sm-shadow);background-color:#fff;margin:0 auto;padding:30px 40px 45px}.transfers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:280px;margin:0 auto 40px}.transfers[_ngcontent-%COMP%]   .container__title[_ngcontent-%COMP%]{font-size:var(--main-font-size)}}"],changeDetection:0}),t})();var nt=n("2Vo4"),it=function(t){return t.All="all",t.Deposit="deposit",t.Withdrawal="withdrawal",t}({}),ot=n("wO+i"),at=n("eIep");const st={history:Object(l.q)(P,t=>t.history),historyBySection:Object(l.q)(P,(t,e)=>t.history&&t.history[e.section]||null)};var rt=n("u7me");const ct=[{value:it.All,label:"CASHIER.HISTORY.MENU.ALL"},{value:it.Deposit,label:"CASHIER.HISTORY.MENU.DEPOSIT"},{value:it.Withdrawal,label:"CASHIER.HISTORY.MENU.WITHDRAWAL"}];let dt=(()=>{class t{constructor(t){this.navigate=t,this.navigation=ct}nav(t){this.navigate(["/cashier","history",t])}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(m.k))},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-history-menu"]],inputs:{active:"active"},decls:1,vars:2,consts:[[3,"active","tabs","tabChanged"]],template:function(t,e){1&t&&(u.Sb(0,"pd-button-group",0),u.ac("tabChanged",(function(t){return e.nav(t)})),u.Rb()),2&t&&u.kc("active",e.active)("tabs",e.navigation)},directives:[tt.c],styles:[""]}),t})();var pt=n("CO75");function gt(t,e){if(1&t&&(u.Sb(0,"div"),u.Ec(1),u.fc(2,"translate"),u.Rb()),2&t){const t=u.ec(2);u.Db("history-block__status history-block__status--",t.operation.status,""),u.Ab(1),u.Gc(" ",u.gc(2,4,"CASHIER.HISTORY.TRANSACTION.STATUSES."+t.operation.status.toUpperCase())," ")}}function lt(t,e){if(1&t&&(u.Sb(0,"div",14),u.Ec(1),u.Rb()),2&t){const t=u.ec(2);u.Ab(1),u.Fc(t.operation.reason)}}function ht(t,e){if(1&t){const t=u.Tb();u.Sb(0,"pd-button",15),u.ac("click",(function(){return u.vc(t),u.ec(2).toggleCancel(!0)})),u.Ec(1),u.fc(2,"translate"),u.Rb()}if(2&t){const t=u.ec(2);u.kc("settings",t.cancelButton),u.Ab(1),u.Gc(" ",u.gc(2,2,"CASHIER.HISTORY.TRANSACTION.CANCEL")," ")}}function bt(t,e){if(1&t&&(u.Sb(0,"div"),u.Sb(1,"div",7),u.Ec(2),u.fc(3,"currencyStringNormalizer"),u.Rb(),u.Sb(4,"div",8),u.Sb(5,"div",9),u.Ec(6),u.Rb(),u.Sb(7,"div",10),u.Ec(8),u.Rb(),u.Rb(),u.Cc(9,gt,3,6,"div",11),u.Cc(10,lt,2,1,"div",12),u.Cc(11,ht,3,4,"pd-button",13),u.Rb()),2&t){const t=u.ec();u.Ab(2),u.Fc(u.gc(3,6,t.operation.readableAmount)),u.Ab(4),u.Fc(t.operation.paymentMethodName),u.Ab(2),u.Fc(t.operation.paymentAccount),u.Ab(1),u.kc("ngIf",!!t.operation.status),u.Ab(1),u.kc("ngIf",t.operation.declined),u.Ab(1),u.kc("ngIf",t.operation.cancellable)}}function ut(t,e){if(1&t){const t=u.Tb();u.Nb(0,"pd-question-icon",16),u.Sb(1,"div",17),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Sb(4,"div",18),u.Sb(5,"pd-button",19),u.ac("click",(function(){return u.vc(t),u.ec().cancel()})),u.Ec(6),u.fc(7,"translate"),u.Rb(),u.Sb(8,"pd-button",20),u.ac("click",(function(){return u.vc(t),u.ec().toggleCancel(!1)})),u.Ec(9),u.fc(10,"translate"),u.Rb(),u.Rb()}if(2&t){const t=u.ec();u.Ab(2),u.Fc(u.gc(3,5,"CASHIER.HISTORY.TRANSACTION.APPROVE_CANCEL")),u.Ab(3),u.kc("settings",t.questionButtonYes),u.Ab(1),u.Fc(u.gc(7,7,"COMMON.YES")),u.Ab(2),u.kc("settings",t.questionButtonNo),u.Ab(1),u.Fc(u.gc(10,9,"COMMON.NO"))}}let mt=(()=>{class t{constructor(){this.cancelling=new u.n,this.state$=new nt.a("normal"),this.cancelButton={size:tt.d.Medium,theme:tt.e.Gray},this.questionButtonYes={size:tt.d.Medium,theme:tt.e.Gray},this.questionButtonNo={size:tt.d.Medium}}toggleCancel(t){const e="normal"===this.state$.getValue()?"cancelling":"normal";this.state$.next(t||e)}cancel(){this.cancelling.emit(this.operation)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-history-item"]],inputs:{operation:"operation"},outputs:{cancelling:"cancelling"},decls:12,vars:14,consts:[[1,"history-block"],[1,"history-block__header"],[1,"history-block__type",3,"ngClass"],[3,"src","alt"],[1,"history-block__date"],[4,"ngIf","ngIfElse"],["cancelScreen",""],[1,"history-block__amount"],[1,"history-block__card-info"],[1,"history-block__method"],[1,"history-block__card"],[3,"class",4,"ngIf"],["class","history-block__declined-info",4,"ngIf"],["class","history-block__cancel-button",3,"settings","click",4,"ngIf"],[1,"history-block__declined-info"],[1,"history-block__cancel-button",3,"settings","click"],[1,"history-block__question-icon"],[1,"history-block__cancel-question"],[1,"history-block__cancel-buttons"],[1,"history-block__cancel-buttons--yes",3,"settings","click"],[3,"settings","click"]],template:function(t,e){if(1&t&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Nb(3,"img",3),u.Ec(4),u.fc(5,"translate"),u.Rb(),u.Sb(6,"div",4),u.Ec(7),u.Rb(),u.Rb(),u.Cc(8,bt,12,8,"div",5),u.fc(9,"async"),u.Cc(10,ut,11,11,"ng-template",null,6,u.Dc),u.Rb()),2&t){const t=u.uc(11);u.Ab(2),u.kc("ngClass",e.operation.operationType),u.Ab(1),u.Db("history-block__img history-block__img--",e.operation.operationType,""),u.mc("src","./assets/images/cashier/arrow-",e.operation.operationType,".svg",u.yc),u.kc("alt",e.operation.operationType),u.Ab(1),u.Gc(" ",u.gc(5,10,"CASHIER.HISTORY.TRANSACTION."+e.operation.operationType.toUpperCase())," "),u.Ab(3),u.Fc(e.operation.date),u.Ab(1),u.kc("ngIf","normal"===u.gc(9,12,e.state$))("ngIfElse",t)}},directives:[i.k,i.m,tt.b,pt.A],pipes:[_.c,i.b,m.b],styles:[".history-block[_ngcontent-%COMP%]{width:100%;padding:15px 15px 40px;background:var(--accent-1-bg-color);margin:0 auto 20px;box-shadow:var(--sm-shadow);text-align:center;border-radius:15px;max-width:768px}.history-block__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:35px}.history-block__type[_ngcontent-%COMP%]{font-family:var(--main-fonts-bold);text-transform:uppercase}.history-block__date[_ngcontent-%COMP%], .history-block__type[_ngcontent-%COMP%]{font-weight:400;font-size:var(--text-size--sm);line-height:1.4}.history-block__date[_ngcontent-%COMP%]{color:var(--tertiary-text-color);font-family:var(--main-fonts)}.history-block__amount[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--h2-size);line-height:1.2;margin-bottom:10px}.history-block__card-info[_ngcontent-%COMP%]{margin-bottom:20px}.history-block__card[_ngcontent-%COMP%], .history-block__method[_ngcontent-%COMP%]{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4}.history-block__status[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--sm);line-height:1.4;text-transform:uppercase;margin-bottom:20px}.history-block__status--in_progress[_ngcontent-%COMP%], .history-block__status--new[_ngcontent-%COMP%]{color:var(--accent-2-text-color)}.history-block__status--declined[_ngcontent-%COMP%], .history-block__status--declinedByUser[_ngcontent-%COMP%]{color:var(--accent-3-text-color)}.history-block__status--paid[_ngcontent-%COMP%]{color:var(--primary-text-color)}.history-block__cancel-question[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;margin:25px 0 20px}.history-block__cancel-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.history-block__cancel-buttons--yes[_ngcontent-%COMP%]{margin-right:20px}.history-block__img[_ngcontent-%COMP%]{width:12px;height:12px;margin-right:7px;position:relative;top:1px}@media (min-width:768px){.history-block[_ngcontent-%COMP%]{padding:20px 20px 50px}.history-block__cancel-question[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;margin:30px 0}}"]}),t})();function _t(t,e){if(1&t){const t=u.Tb();u.Sb(0,"pd-history-item",8),u.ac("cancelling",(function(e){return u.vc(t),u.ec(3).cancel(e)})),u.Rb()}2&t&&u.kc("operation",e.$implicit)}function ft(t,e){if(1&t&&(u.Sb(0,"pd-button",9),u.Ec(1),u.fc(2,"translate"),u.Rb()),2&t){const t=u.ec(3);u.kc("settings",t.showModeButton),u.Ab(1),u.Fc(u.gc(2,2,"CASHIER.HISTORY.TRANSACTION.MORE"))}}function vt(t,e){if(1&t&&(u.Sb(0,"div"),u.Cc(1,_t,1,1,"pd-history-item",6),u.Cc(2,ft,3,4,"pd-button",7),u.Rb()),2&t){const t=u.ec().ngIf;u.Ab(1),u.kc("ngForOf",t.items),u.Ab(1),u.kc("ngIf",t.total>t.items.length)}}const Ct=function(){return["/cashier","deposit"]};function xt(t,e){1&t&&(u.Sb(0,"div",10),u.Sb(1,"span",11),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Sb(4,"pd-button",12),u.Ec(5),u.fc(6,"translate"),u.Rb(),u.Rb()),2&t&&(u.Ab(2),u.Fc(u.gc(3,3,"CASHIER.HISTORY.TRANSACTION.NO_TRANSACTION")),u.Ab(2),u.kc("goto",u.oc(7,Ct)),u.Ab(1),u.Fc(u.gc(6,5,"CASHIER.CARD.MAKE_DEPOSIT")))}function Ot(t,e){if(1&t&&(u.Qb(0),u.Cc(1,vt,3,2,"div",4),u.Cc(2,xt,7,8,"ng-template",null,5,u.Dc),u.Pb()),2&t){const t=e.ngIf,n=u.uc(3);u.Ab(1),u.kc("ngIf",t.items.length)("ngIfElse",n)}}let Mt=(()=>{class t{constructor(t,e,n){this.store=t,this.activatedRoute=e,this.storeHelper=n,this.showModeButton={size:tt.d.Medium,theme:tt.e.Gray},this.section$=new nt.a(it.All),this.paramsSubs=this.activatedRoute.params.pipe(Object(ot.a)("section")).subscribe(t=>this.section$.next(t)),this.operations$=this.section$.pipe(Object(at.a)(t=>this.storeHelper.selectWithDispatch([st.historyBySection,{section:t}],O.loadHistory({skip:0,limit:20,navigation:t}))))}cancel(t){this.store.dispatch(O.cancelHistoryOperation({operation:t}))}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(l.h),u.Mb(o.a),u.Mb(rt.a))},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-history"]],decls:6,vars:6,consts:[[1,"history"],[1,"wrapper"],[3,"active"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noTransactions",""],[3,"operation","cancelling",4,"ngFor","ngForOf"],[3,"settings",4,"ngIf"],[3,"operation","cancelling"],[3,"settings"],[1,"history__no-items"],[1,"history__no-items__text"],[1,"history__no-items__button",3,"goto"]],template:function(t,e){1&t&&(u.Sb(0,"section",0),u.Sb(1,"div",1),u.Nb(2,"pd-history-menu",2),u.fc(3,"async"),u.Cc(4,Ot,4,2,"ng-container",3),u.fc(5,"async"),u.Rb(),u.Rb()),2&t&&(u.Ab(2),u.kc("active",u.gc(3,2,e.section$)),u.Ab(2),u.kc("ngIf",u.gc(5,4,e.operations$)))},directives:[dt,i.m,i.l,mt,tt.b,m.d],pipes:[i.b,_.c],styles:[".history .wrapper{max-width:320px;padding:30px 20px 50px;margin:0 auto;text-align:center}.history .tabs .tab{width:33.333%;font-size:var(--text-size--xxs)}.history .tabs .tab.active{padding:10px 0}.history__no-items{width:100%;max-width:768px;margin:30px auto 0;padding:40px 0 50px;border-radius:15px;border:1px solid var(--extra-2-border-color)}.history__no-items__text{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;display:block;max-width:180px;margin:0 auto 20px}.history__show-more{display:block;max-width:768px;margin:25px auto 0}@media (min-width:420px){.history .tabs{width:400px;margin-left:-60px}.history .tabs .tab{font-size:var(--text-size--xs)}}@media (min-width:768px){.history .wrapper{max-width:none;padding:40px 20px 70px}.history__no-items{margin:40px auto 0;padding:50px 0 65px}.history__no-items__text{max-width:none}.history .tabs{display:block;width:100%;max-width:768px;margin:0 auto 40px}.history .tabs .tab{font-size:var(--text-size--sm)}}@media (min-width:992px){.history .wrapper{padding-bottom:100px}}"],encapsulation:2,changeDetection:0}),t})();function yt(t,e){if(1&t&&(u.Sb(0,"div",11),u.Sb(1,"p",12),u.Ec(2),u.fc(3,"translate"),u.Sb(4,"span"),u.Ec(5),u.Rb(),u.Rb(),u.Sb(6,"p",13),u.Ec(7),u.fc(8,"translate"),u.Sb(9,"span"),u.Ec(10),u.Rb(),u.Rb(),u.Rb()),2&t){const t=e.ngIf;u.Ab(2),u.Gc("",u.gc(3,4,"CASHIER.TRANSFERS.SUM"),": "),u.Ab(3),u.Gc("",t.amount," \u20bd"),u.Ab(2),u.Gc("",u.gc(8,6,"CASHIER.TRANSFERS.RECIPIENT"),": "),u.Ab(3),u.Fc(t.nick)}}const wt=function(){return["/cashier","transfers"]};let Pt=(()=>{class t{constructor(t){this.activatedRoute=t,this.transferInfo$=this.activatedRoute.queryParams.pipe(Object(p.a)(t=>({nick:t.nick,amount:t.amount})))}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(o.a))},t.\u0275cmp=u.Gb({type:t,selectors:[["ng-component"]],decls:19,vars:14,consts:[[1,"transfers"],[1,"wrapper","wrapper--success"],[1,"header"],[1,"left"],[3,"goto"],[1,"middle"],["src","assets/images/icons/ok.svg",1,"img"],[1,"title"],[1,"right"],[1,"text"],["class","footer",4,"ngIf"],[1,"footer"],[1,"text","text--green"],[1,"text","text--black"]],template:function(t,e){1&t&&(u.Sb(0,"section",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Sb(3,"div",3),u.Nb(4,"pd-button-back",4),u.Rb(),u.Sb(5,"div",5),u.Nb(6,"img",6),u.Sb(7,"h3",7),u.Ec(8),u.fc(9,"translate"),u.Rb(),u.Rb(),u.Nb(10,"div",8),u.Rb(),u.Sb(11,"p",9),u.Ec(12),u.fc(13,"translate"),u.Sb(14,"span"),u.Ec(15),u.fc(16,"translate"),u.Rb(),u.Rb(),u.Cc(17,yt,11,8,"div",10),u.fc(18,"async"),u.Rb(),u.Rb()),2&t&&(u.Ab(4),u.kc("goto",u.oc(13,wt)),u.Ab(4),u.Fc(u.gc(9,5,"CASHIER.STATUS.REQUEST_ACCEPTED")),u.Ab(4),u.Gc(" ",u.gc(13,7,"CASHIER.STATUS.REQUEST_ACCEPTED_AND_PROCESSED")," "),u.Ab(3),u.Fc(u.gc(16,9,"CASHIER.STATUS.REQUEST_24")),u.Ab(2),u.kc("ngIf",u.gc(18,11,e.transferInfo$)))},directives:[tt.a,m.d,i.m],pipes:[_.c,i.b],styles:[".transfers[_ngcontent-%COMP%]{background:var(--accent-1-bg-color)}.transfers[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{max-width:320px;padding:30px 20px 50px;margin:0 auto;text-align:center}.transfers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{margin-bottom:40px}.transfers[_ngcontent-%COMP%]   .container__title[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--sm);line-height:1.4;display:block;text-transform:uppercase;margin:0 0 15px}.transfers[_ngcontent-%COMP%]   .container__wrapper[_ngcontent-%COMP%]{position:relative}.transfers[_ngcontent-%COMP%]   .container__currency[_ngcontent-%COMP%]{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;line-height:1;position:absolute;display:block;right:15px;top:18px}.transfers[_ngcontent-%COMP%]   .button.button.button.button[_ngcontent-%COMP%]{min-width:200px;min-height:40px;box-shadow:var(--primary-button-box-shadow)}.transfers[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr 1fr;margin-bottom:25px;text-align:center}.transfers[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-bottom:20px}.transfers[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:var(--main-fonts-bold);line-height:1.4;margin:0;line-height:1}.transfers[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .transfers[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;font-size:var(--text-size--sm)}.transfers[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-family:var(--main-fonts);line-height:1.4;margin:0 0 30px}.transfers[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Circe-bold}.transfers[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}.transfers[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .text--green[_ngcontent-%COMP%]{margin-bottom:5px}.transfers[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .text--green[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primary-text-color)}.transfers[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{align-self:flex-start;text-align:left}@media (min-width:768px){.transfers[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding-bottom:70px}.transfers[_ngcontent-%COMP%]   .wrapper--success[_ngcontent-%COMP%]{width:700px;max-width:none}.transfers[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{margin-bottom:30px}.transfers[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .transfers[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:var(--main-font-size)}.transfers[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-bottom:40px}}@media (min-width:992px){.transfers[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:30px 0}.transfers[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:784px;max-width:none;border-radius:15px;box-shadow:var(--sm-shadow);background-color:#fff;margin:0 auto;padding:30px 40px 45px}.transfers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:280px;margin:0 auto 40px}.transfers[_ngcontent-%COMP%]   .container__title[_ngcontent-%COMP%]{font-size:var(--main-font-size)}}"],changeDetection:0}),t})();const St=function(t){return{"verification__option--complete":t}};function At(t,e){if(1&t&&(u.Sb(0,"div",5),u.Sb(1,"div",6),u.Sb(2,"span",7),u.Ec(3),u.Rb(),u.Ec(4," / 2 "),u.Sb(5,"span",8),u.Ec(6),u.fc(7,"translate"),u.Rb(),u.Rb(),u.Sb(8,"div",9),u.Sb(9,"div",10),u.Ec(10),u.fc(11,"translate"),u.Rb(),u.Sb(12,"div",10),u.Ec(13),u.fc(14,"translate"),u.Rb(),u.Rb(),u.Rb()),2&t){const t=e.ngIf;u.Ab(3),u.Fc(t.count),u.Ab(3),u.Fc(u.gc(7,6,"CASHIER.VERIFICATION.ENDED")),u.Ab(3),u.kc("ngClass",u.pc(12,St,t.email)),u.Ab(1),u.Fc(u.gc(11,8,"PROFILE.CONTACT_DETAILS.EMAIL")),u.Ab(2),u.kc("ngClass",u.pc(14,St,t.phone)),u.Ab(1),u.Fc(u.gc(14,10,"PROFILE.CONTACT_DETAILS.PHONE"))}}const Rt=function(){return["settings","contact-details"]};let kt=(()=>{class t{constructor(t){this.store=t,this.confirmationInfo$=this.store.select(J.a.confirmationInfo).pipe(Object(p.a)(t=>Object.assign(Object.assign({},t),{count:Object.values(t).filter(t=>!!t).length})))}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(l.h))},t.\u0275cmp=u.Gb({type:t,selectors:[["ng-component"]],decls:10,vars:11,consts:[[1,"verification"],[1,"wrapper"],[1,"verification__text"],["class","verification__checklist",4,"ngIf"],[1,"verification__link",3,"goto"],[1,"verification__checklist"],[1,"verification__number"],[1,"verification__green"],[1,"verification__ended"],[1,"verification__options"],[1,"verification__option",3,"ngClass"]],template:function(t,e){1&t&&(u.Sb(0,"section",0),u.Sb(1,"div",1),u.Sb(2,"p",2),u.Ec(3),u.fc(4,"translate"),u.Rb(),u.Cc(5,At,15,16,"div",3),u.fc(6,"async"),u.Sb(7,"a",4),u.Ec(8),u.fc(9,"translate"),u.Rb(),u.Rb(),u.Rb()),2&t&&(u.Ab(3),u.Fc(u.gc(4,4,"CASHIER.VERIFICATION.END_VERIFICATION")),u.Ab(2),u.kc("ngIf",u.gc(6,6,e.confirmationInfo$)),u.Ab(2),u.kc("goto",u.oc(10,Rt)),u.Ab(1),u.Fc(u.gc(9,8,"CASHIER.VERIFICATION.GO_TO_VERIFICATION")))},directives:[i.m,m.d,i.k],pipes:[_.c,i.b],styles:['.verification[_ngcontent-%COMP%]{background:var(--accent-1-bg-color);overflow:hidden}.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:30px 20px 50px;max-width:320px;margin:0 auto;position:relative}.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]:before{content:"";width:200px;height:200px;background:var(--cashier-page-auth) no-repeat;background-size:cover;display:block;position:absolute;right:-70px;bottom:45px;z-index:0}.verification__text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;margin:0 0 20px;position:relative}.verification__checklist[_ngcontent-%COMP%]{margin:30px 0;width:165px;position:relative}.verification__number[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;text-transform:uppercase}.verification__green[_ngcontent-%COMP%]{color:var(--primary-text-color)}.verification__ended[_ngcontent-%COMP%]{margin-left:10px;font-family:var(--main-fonts)}.verification__options[_ngcontent-%COMP%]{margin:10px 0 30px;padding:20px 0;border-top:1px solid var(--extra-2-border-color);border-bottom:1px solid var(--extra-2-border-color)}.verification__option[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;margin:0 0 15px;display:flex}.verification__option[_ngcontent-%COMP%]:before{content:"";width:16px;height:16px;display:inline-block;background:var(--cashier-page-gray-ok) no-repeat;background-size:cover;margin-right:10px;margin-top:1px}.verification__option--complete[_ngcontent-%COMP%]:before{background-image:var(--cashier-page-green-ok)}.verification__option[_ngcontent-%COMP%]:last-child{margin:0}.verification__link[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;border-bottom:1px solid #2ecc71;line-height:1.2;display:inline-block;position:relative}@media (min-width:768px){.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:60px 0 70px;max-width:700px}.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]:before{width:320px;height:300px;right:-95px;bottom:-65px}.verification__text[_ngcontent-%COMP%]{font-size:var(--h4-size)}.verification__checklist[_ngcontent-%COMP%]{margin:40px 0 50px;width:370px}}@media (min-width:992px){.verification[_ngcontent-%COMP%]{background-color:var(--main-bg);padding:30px 0}.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{overflow:hidden;width:784px;max-width:none;border-radius:15px;box-shadow:var(--sm-shadow);background-color:var(--accent-1-bg-color);padding:40px}.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]:before{right:-55px;bottom:-80px}.verification__options[_ngcontent-%COMP%]{margin-top:20px}.verification__text[_ngcontent-%COMP%]{font-size:var(--h4-size)}}'],changeDetection:0}),t})();const Et=function(){return["bonuses"]};let It=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Gb({type:t,selectors:[["ng-component"]],decls:11,vars:11,consts:[[1,"verification"],[1,"wrapper","wrapper--active-bonus"],[1,"verification__text","verification__text--active-bonus"],[1,"verification__link",3,"goto"]],template:function(t,e){1&t&&(u.Sb(0,"section",0),u.Sb(1,"div",1),u.Sb(2,"p",2),u.Ec(3),u.fc(4,"translate"),u.Rb(),u.Sb(5,"p",2),u.Ec(6),u.fc(7,"translate"),u.Rb(),u.Sb(8,"a",3),u.Ec(9),u.fc(10,"translate"),u.Rb(),u.Rb(),u.Rb()),2&t&&(u.Ab(3),u.Fc(u.gc(4,4,"CASHIER.VERIFICATION.ACTIVE_BONUS")),u.Ab(3),u.Fc(u.gc(7,6,"CASHIER.VERIFICATION.CANCEL_BONUS")),u.Ab(2),u.kc("goto",u.oc(10,Et)),u.Ab(1),u.Fc(u.gc(10,8,"CASHIER.VERIFICATION.GO_TO_BONUS")))},directives:[m.d],pipes:[_.c],styles:['.verification[_ngcontent-%COMP%]{background:var(--accent-1-bg-color);overflow:hidden}.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:30px 20px 50px;max-width:320px;margin:0 auto;position:relative}.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]:before{content:"";width:200px;height:200px;background:var(--cashier-page-auth) no-repeat;background-size:cover;display:block;position:absolute;right:-70px;bottom:45px;z-index:0}.verification[_ngcontent-%COMP%]   .wrapper--active-bonus[_ngcontent-%COMP%]:before{background-image:var(--cashier-page-gift);right:-80px}.verification__text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;margin:0 0 20px;position:relative}.verification__text--active-bonus[_ngcontent-%COMP%]{width:200px}.verification__text--active-bonus[_ngcontent-%COMP%]:last-of-type{margin-bottom:30px}.verification__link[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--main-font-size);line-height:1.4;border-bottom:1px solid #2ecc71;line-height:1.2;display:inline-block;position:relative}@media (min-width:768px){.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:60px 0 70px;max-width:700px}.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]:before{width:320px;height:300px;right:-95px;bottom:-65px}.verification[_ngcontent-%COMP%]   .wrapper--active-bonus[_ngcontent-%COMP%]{max-width:540px}.verification[_ngcontent-%COMP%]   .wrapper--active-bonus[_ngcontent-%COMP%]:before{height:320px;right:-205px;bottom:-80px}.verification__text[_ngcontent-%COMP%]{font-size:var(--h4-size)}.verification__text--active-bonus[_ngcontent-%COMP%]{width:450px}.verification__text--active-bonus[_ngcontent-%COMP%]:first-child{font-size:var(--h4-size);width:360px;margin-bottom:30px}.verification__text--active-bonus[_ngcontent-%COMP%]:last-of-type{font-size:var(--main-font-size);margin-bottom:60px}}@media (min-width:992px){.verification[_ngcontent-%COMP%]{background-color:var(--main-bg);padding:30px 0}.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{overflow:hidden;width:784px;max-width:none;border-radius:15px;box-shadow:var(--sm-shadow);background-color:var(--accent-1-bg-color);padding:40px}.verification[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]:before{right:-55px;bottom:-80px}.verification[_ngcontent-%COMP%]   .wrapper--active-bonus[_ngcontent-%COMP%]{padding-bottom:90px}.verification[_ngcontent-%COMP%]   .wrapper--active-bonus[_ngcontent-%COMP%]:before{right:-55px}.verification__text[_ngcontent-%COMP%]{font-size:var(--h4-size)}.verification__text--active-bonus[_ngcontent-%COMP%]:first-child{margin-bottom:30px}}'],changeDetection:0}),t})();var Dt=n("vkgz"),Tt=n("IzEk"),Nt=n("itXk"),Wt=n("HDdC"),jt=n("D0XW"),Bt=n("Y7HM");function Lt(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var zt=n("PqYM"),Ft=function(t){return t.SuccessWithdraw="successWithdraw",t.SuccessDeposit="successDeposit",t.Error="error",t.Tranzzo="tranzzo",t.Going="going",t}({}),Ht=n("Aiw6"),Ut=function(t){return t.Success="success",t.Error="error",t.Progress="progress",t.Going="going",t}({});const Gt=function(){return["/"]},$t=function(){return["sports"]},qt=function(){return["poker"]};function Vt(t,e){1&t&&(u.Sb(0,"div",10),u.Sb(1,"a",13),u.Nb(2,"img",14),u.Sb(3,"span"),u.Ec(4),u.fc(5,"translate"),u.Rb(),u.Rb(),u.Sb(6,"a",15),u.Nb(7,"img",16),u.Sb(8,"span"),u.Ec(9),u.fc(10,"translate"),u.Rb(),u.Rb(),u.Sb(11,"a",17),u.Nb(12,"img",18),u.Sb(13,"span"),u.Ec(14),u.fc(15,"translate"),u.Rb(),u.Rb(),u.Rb()),2&t&&(u.Ab(1),u.kc("goto",u.oc(12,Gt)),u.Ab(3),u.Fc(u.gc(5,6,"COMMON.SECTIONS.GAMES")),u.Ab(2),u.kc("goto",u.oc(13,$t)),u.Ab(3),u.Fc(u.gc(10,8,"COMMON.SECTIONS.SPORTS")),u.Ab(2),u.kc("goto",u.oc(14,qt)),u.Ab(3),u.Fc(u.gc(15,10,"COMMON.SECTIONS.POKER")))}function Yt(t,e){if(1&t&&(u.Sb(0,"div"),u.Sb(1,"pd-button",19),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Rb()),2&t){const t=u.ec(2);u.Ab(1),u.kc("goto",u.oc(5,Gt))("settings",t.jokerPlayButton),u.Ab(1),u.Fc(u.gc(3,3,"GAMES.PLAY"))}}function Xt(t,e){if(1&t&&(u.Qb(0),u.Sb(1,"div",8),u.Sb(2,"span",9),u.Ec(3),u.fc(4,"translate"),u.Rb(),u.Sb(5,"span",9),u.Ec(6),u.fc(7,"translate"),u.Rb(),u.Rb(),u.Sb(8,"div",10),u.Cc(9,Vt,16,15,"div",11),u.Cc(10,Yt,4,6,"div",12),u.Rb(),u.Pb()),2&t){const t=u.ec();u.Ab(3),u.Fc(u.gc(4,4,"CASHIER.STATUS.MONEY_ADDED")),u.Ab(3),u.Fc(u.gc(7,6,"CASHIER.STATUS.GOOD_GAME")),u.Ab(3),u.kc("pdThemeable",t.Themes.Pokerdom),u.Ab(1),u.kc("pdThemeable",t.Themes.Joker)}}const Kt=function(){return["cashier","history","withdrawal"]};function Qt(t,e){if(1&t&&(u.Qb(0),u.Sb(1,"div",20),u.Sb(2,"span",21),u.Ec(3),u.fc(4,"translate"),u.Rb(),u.Sb(5,"span",22),u.Ec(6),u.fc(7,"translate"),u.Sb(8,"span"),u.Ec(9),u.fc(10,"translate"),u.Rb(),u.Rb(),u.Rb(),u.Sb(11,"pd-button",19),u.Ec(12),u.fc(13,"translate"),u.Rb(),u.Pb()),2&t){const t=u.ec();u.Ab(3),u.Fc(u.gc(4,6,"CASHIER.STATUS.REQUEST_ACCEPTED")),u.Ab(3),u.Gc("",u.gc(7,8,"CASHIER.STATUS.REQUEST_ACCEPTED_AND_PROCESSED")," "),u.Ab(3),u.Fc(u.gc(10,10,"CASHIER.STATUS.REQUEST_24")),u.Ab(2),u.kc("goto",u.oc(14,Kt))("settings",t.historyButton),u.Ab(1),u.Fc(u.gc(13,12,"CASHIER.HISTORY.TRANSACTION.GO_TO_HISTORY"))}}function Jt(t,e){if(1&t&&(u.Sb(0,"span",22),u.Ec(1),u.fc(2,"async"),u.Rb()),2&t){const t=u.ec(2);u.Ab(1),u.Fc(u.gc(2,1,t.errorMessage$))}}function Zt(t,e){if(1&t){const t=u.Tb();u.Qb(0),u.Sb(1,"div",23),u.Sb(2,"span",24),u.Ec(3),u.fc(4,"translate"),u.Rb(),u.Cc(5,Jt,3,3,"span",25),u.fc(6,"async"),u.Rb(),u.Sb(7,"pd-button",26),u.ac("click",(function(){return u.vc(t),u.ec().back()})),u.Ec(8),u.fc(9,"translate"),u.Rb(),u.Sb(10,"div",27),u.Ec(11),u.fc(12,"translate"),u.Sb(13,"a",28),u.Ec(14),u.fc(15,"translate"),u.Rb(),u.Ec(16,". "),u.Rb(),u.Pb()}if(2&t){const t=u.ec();u.Ab(3),u.Fc(u.gc(4,7,"CASHIER.STATUS.TRY_AGAIN")),u.Ab(2),u.kc("ngIf",u.gc(6,9,t.errorMessage$)),u.Ab(2),u.kc("settings",t.backButton),u.Ab(1),u.Fc(u.gc(9,11,"CASHIER.STATUS.RETRY")),u.Ab(3),u.Gc("",u.gc(12,13,"CASHIER.STATUS.ASK_SUPPORT")," "),u.Ab(2),u.mc("href","mailto:",t.supportEmail,"",u.yc),u.Ab(1),u.Fc(u.gc(15,15,"PROFILE.RESPONSIBLE_GAMING.SUPPORT_LINK"))}}function te(t,e){if(1&t){const t=u.Tb();u.Qb(0),u.Sb(1,"div",29),u.Sb(2,"h2",30),u.Ec(3),u.fc(4,"translate"),u.Rb(),u.Sb(5,"p",31),u.Ec(6),u.fc(7,"translate"),u.Rb(),u.Rb(),u.Sb(8,"pd-button",32),u.ac("click",(function(){return u.vc(t),u.ec().updateStatus()})),u.Ec(9),u.fc(10,"translate"),u.Rb(),u.Sb(11,"div",27),u.Ec(12),u.fc(13,"translate"),u.Sb(14,"a",28),u.Ec(15),u.fc(16,"translate"),u.Rb(),u.Ec(17,". "),u.Rb(),u.Pb()}if(2&t){const t=u.ec();u.Ab(3),u.Fc(u.gc(4,7,"CASHIER.STATUS.PAYMENT_PENDING")),u.Ab(3),u.Fc(u.gc(7,9,"CASHIER.STATUS.CHECK_BALANCE")),u.Ab(2),u.kc("settings",t.reloadInfoButton),u.Ab(1),u.Fc(u.gc(10,11,"COMMON.RELOAD_PAGE")),u.Ab(3),u.Gc("",u.gc(13,13,"CASHIER.STATUS.ASK_SUPPORT")," "),u.Ab(2),u.mc("href","mailto:",t.supportEmail,"",u.yc),u.Ab(1),u.Fc(u.gc(16,15,"PROFILE.RESPONSIBLE_GAMING.SUPPORT_LINK"))}}function ee(t,e){if(1&t&&(u.Qb(0),u.Sb(1,"div",29),u.Sb(2,"h2",30),u.Ec(3),u.fc(4,"translate"),u.Rb(),u.Sb(5,"p",31),u.Ec(6),u.fc(7,"translate"),u.Rb(),u.Rb(),u.Sb(8,"pd-button",33),u.Ec(9),u.fc(10,"translate"),u.Rb(),u.Sb(11,"div",27),u.Ec(12),u.fc(13,"translate"),u.Sb(14,"a",28),u.Ec(15),u.fc(16,"translate"),u.Rb(),u.Ec(17,"."),u.Rb(),u.Pb()),2&t){const t=u.ec();u.Ab(3),u.Fc(u.gc(4,8,"CASHIER.STATUS.PAYMENT_PENDING")),u.Ab(3),u.Fc(u.gc(7,10,"CASHIER.STATUS.MONEY_ADDING")),u.Ab(2),u.kc("goto",u.oc(18,Gt))("settings",t.reloadInfoStatus),u.Ab(1),u.Fc(u.gc(10,12,"NOT_FOUND.GO_HOME")),u.Ab(3),u.Fc(u.gc(13,14,"CASHIER.STATUS.ASK_SUPPORT")),u.Ab(2),u.mc("href","mailto:",t.supportEmail,"",u.yc),u.Ab(1),u.Fc(u.gc(16,16,"PROFILE.RESPONSIBLE_GAMING.SUPPORT_LINK"))}}let ne=(()=>{class t{constructor(t,e,n,i,o){this.navigate=t,this.activatedRoute=e,this.themeableService=n,this.store=i,this.cd=o,this.canUpdateStatus=!0,this.errorMessage$=this.store.select(S.getErrorMessage),this.TransactionStatus=Ft,this.Themes=m.t,this.supportEmail=Ht.a[this.themeableService.getTheme()].supportEmail,this.backButton={size:tt.d.Large},this.reloadInfoButton={size:tt.d.Large},this.jokerPlayButton={size:tt.d.Large},this.historyButton={size:tt.d.Large},this.status=this.getStatus(this.activatedRoute.snapshot.params.status,this.activatedRoute.snapshot.data.section),this.statusIcon=this.getStatusIcon(this.activatedRoute.snapshot.params.status,this.activatedRoute.snapshot.data.section),this.statusSubs=Object(Nt.a)([this.activatedRoute.params.pipe(Object(ot.a)("status")),this.activatedRoute.data.pipe(Object(ot.a)("section"))]).pipe(Object(Dt.a)(([t,e])=>{this.status=this.getStatus(t,e),this.statusIcon=this.getStatusIcon(t,e)}),Object(at.a)(()=>function(t=0,e=jt.a){return(!Object(Bt.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=jt.a),new Wt.a(n=>(n.add(e.schedule(Lt,t,{subscriber:n,counter:0,period:t})),n))}(1e4))).subscribe(()=>this.canUpdateStatus&&this.getNewStatus())}ngOnDestroy(){this.store.dispatch(M.deleteErrorMessage()),this.statusSubs&&this.statusSubs.unsubscribe()}getStatus(t,e){switch(!0){case t===Ut.Going:return Ft.Going;case t===Ut.Progress:return Ft.Tranzzo;case t===Ut.Error:return Ft.Error;case e===a.Withdrawal:return Ft.SuccessWithdraw;default:return Ft.SuccessDeposit}}getStatusIcon(t,e){switch(!0){case t===Ut.Progress:return this.themeableService.getTheme()===m.t.Joker?"./assets/images/cashier/progress-joker.svg":"./assets/images/cashier/progress.svg";case t===Ut.Error:return"./assets/images/cashier/error.svg";case t===Ut.Success&&e===a.Deposit:return"./assets/images/cashier/success.svg";default:return"./assets/images/cashier/ok.svg"}}back(){this.store.dispatch(M.redirectBack({section:this.activatedRoute.snapshot.data.section}))}updateStatus(){this.reloadInfoButton.loading=!0,this.canUpdateStatus=!1,this.getNewStatus(),Object(zt.a)(0,1e3).pipe(Object(Dt.a)(t=>{5===t&&(this.reloadInfoButton.loading=!1,this.cd.detectChanges())}),Object(Tt.a)(15)).subscribe(()=>{this.canUpdateStatus=!0})}getNewStatus(){this.store.dispatch(M.getTransactionStatus({section:this.activatedRoute.snapshot.data.section,invoice:this.activatedRoute.snapshot.queryParams.invoice}))}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(m.k),u.Mb(o.a),u.Mb(m.s),u.Mb(l.h),u.Mb(u.h))},t.\u0275cmp=u.Gb({type:t,selectors:[["ng-component"]],decls:12,vars:6,consts:[[1,"cashier"],[1,"wrapper"],[1,"header"],[1,"header__left"],[3,"click"],[1,"header__middle"],[3,"src"],[4,"ngIf"],[1,"info","info--deposit"],[1,"info__text","info__text--success"],[1,"info__buttons"],["class","info__buttons",4,"pdThemeable"],[4,"pdThemeable"],[1,"info__button--link","info__button--purple",3,"goto"],["src","./assets/images/cashier/cherry.svg"],[1,"info__button--link","info__button--yellow",3,"goto"],["src","./assets/images/cashier/ball.svg"],[1,"info__button--link","info__button--green",3,"goto"],["src","./assets/images/cashier/spades.svg"],[1,"play__button",3,"goto","settings"],[1,"info","info--withdraw"],[1,"info__text","info__text--success--withdraw"],[1,"info__text--no-bold"],[1,"info"],[1,"info__text"],["class","info__text--no-bold",4,"ngIf"],[1,"info__button--back",3,"settings","click"],[1,"info__status__support"],[1,"info__status__support--link",3,"href"],[1,"info__status"],[1,"info__status__title"],[1,"info__status__text"],[1,"play__button","info__button--progress",3,"settings","click"],[1,"play__button","info__button--progress",3,"goto","settings"]],template:function(t,e){1&t&&(u.Sb(0,"section",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Sb(3,"div",3),u.Sb(4,"pd-button-back",4),u.ac("click",(function(){return e.back()})),u.Rb(),u.Rb(),u.Sb(5,"div",5),u.Nb(6,"img",6),u.Rb(),u.Rb(),u.Cc(7,Xt,11,8,"ng-container",7),u.Cc(8,Qt,14,15,"ng-container",7),u.Cc(9,Zt,17,17,"ng-container",7),u.Cc(10,te,18,17,"ng-container",7),u.Cc(11,ee,18,19,"ng-container",7),u.Rb(),u.Rb()),2&t&&(u.Ab(6),u.lc("src",e.statusIcon,u.yc),u.Ab(1),u.kc("ngIf",e.status===e.TransactionStatus.SuccessDeposit),u.Ab(1),u.kc("ngIf",e.status===e.TransactionStatus.SuccessWithdraw),u.Ab(1),u.kc("ngIf",e.status===e.TransactionStatus.Error),u.Ab(1),u.kc("ngIf",e.status===e.TransactionStatus.Tranzzo),u.Ab(1),u.kc("ngIf",e.status===e.TransactionStatus.Going))},directives:[tt.a,i.m,m.q,m.d,tt.b],pipes:[_.c,i.b],styles:[".cashier[_ngcontent-%COMP%]   .info__button--link[_ngcontent-%COMP%]{min-width:152px;min-height:var(--button-min-heigth);position:relative;padding:19px 38px 18px;border-radius:var(--button-border-radius);line-height:1;box-sizing:border-box;font-family:var(--button-font);font-size:var(--main-font-size);cursor:pointer;min-width:110px;min-height:40px;padding:11px 25px 9px;font-size:var(--text-size--sm);color:var(--primary-button-text-color);background-color:var(--primary-button-bg);border:none;font-weight:700;box-shadow:none;text-transform:var(--button-text-transform)}.cashier[_ngcontent-%COMP%]   .info__button--link[_ngcontent-%COMP%]:hover{background-color:var(--primary-button-hover-bg)}.cashier[_ngcontent-%COMP%]   .info__button--link[_ngcontent-%COMP%]:active{background-color:var(--primary-button-pressed-bg);color:var(--primary-button-pressed-color);box-shadow:none}.cashier[_ngcontent-%COMP%]   .info__button--link[_ngcontent-%COMP%]:disabled{background-color:var(--primary-button-disabled-bg)!important;color:var(--primary-button-disabled-color)!important;border-color:transparent!important;box-shadow:none!important;cursor:default}.cashier[_ngcontent-%COMP%]   .info__button--purple[_ngcontent-%COMP%]{color:var(--accent-2-button-text-color);background-color:var(--accent-2-button-bg);border:none;font-weight:700;box-shadow:var(--accent-2-button-box-shadow);text-transform:var(--button-text-transform)}.cashier[_ngcontent-%COMP%]   .info__button--purple[_ngcontent-%COMP%]:hover{background-color:var(--accent-2-button-hover-bg)}.cashier[_ngcontent-%COMP%]   .info__button--purple[_ngcontent-%COMP%]:active{background-color:var(--accent-2-button-pressed-bg);color:var(--accent-2-button-pressed-color);box-shadow:none}.cashier[_ngcontent-%COMP%]   .info__button--purple[_ngcontent-%COMP%]:disabled{background-color:var(--accent-2-button-disabled-bg)!important;color:var(--accent-2-button-disabled-color)!important;border-color:transparent!important;box-shadow:none!important;cursor:default}.cashier[_ngcontent-%COMP%]   .info__button--yellow[_ngcontent-%COMP%]{color:var(--accent-3-button-text-color);background-color:var(--accent-3-button-bg);border:none;font-weight:700;box-shadow:var(--accent-3-button-box-shadow);text-transform:var(--button-text-transform)}.cashier[_ngcontent-%COMP%]   .info__button--yellow[_ngcontent-%COMP%]:hover{background-color:var(--accent-3-button-hover-bg)}.cashier[_ngcontent-%COMP%]   .info__button--yellow[_ngcontent-%COMP%]:active{background-color:var(--accent-3-button-pressed-bg);color:var(--accent-3-button-pressed-color);box-shadow:none}.cashier[_ngcontent-%COMP%]   .info__button--yellow[_ngcontent-%COMP%]:disabled{background-color:var(--accent-3-button-disabled-bg)!important;color:var(--accent-3-button-disabled-color)!important;border-color:transparent!important;box-shadow:none!important;cursor:default}.cashier[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px}.cashier[_ngcontent-%COMP%]   .header__middle[_ngcontent-%COMP%]{margin:0}.cashier[_ngcontent-%COMP%]   .header__middle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.cashier[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-bottom:20px}.cashier[_ngcontent-%COMP%]   .info__text[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;max-width:200px;margin:0 auto 15px;display:block}.cashier[_ngcontent-%COMP%]   .info__text--success[_ngcontent-%COMP%]{margin-bottom:3px}.cashier[_ngcontent-%COMP%]   .info__text--no-bold[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4;max-width:240px;margin:0 auto;display:block}.cashier[_ngcontent-%COMP%]   .info__text--no-bold[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;display:inline-block;border-bottom:1px solid var(--primary-border-color);line-height:1}.cashier[_ngcontent-%COMP%]   .info__text--no-bold[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--main-fonts-bold)}.cashier[_ngcontent-%COMP%]   .info__text[_ngcontent-%COMP%]:last-child{margin:0 auto}.cashier[_ngcontent-%COMP%]   .info__button--back[_ngcontent-%COMP%], .cashier[_ngcontent-%COMP%]   .info__button--progress[_ngcontent-%COMP%]{display:block;width:-webkit-max-content;width:-moz-max-content;width:max-content;margin:0 auto 40px}.cashier[_ngcontent-%COMP%]   .info__button--back[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .cashier[_ngcontent-%COMP%]   .info__button--progress[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:250px;min-height:50px}.cashier[_ngcontent-%COMP%]   .info__button--link[_ngcontent-%COMP%]{width:280px;height:40px;display:flex;justify-content:center;align-items:center;margin:0 auto 20px}.cashier[_ngcontent-%COMP%]   .info__button--link[_ngcontent-%COMP%]:last-child{margin:0 auto}.cashier[_ngcontent-%COMP%]   .info__button--link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 5px 2px 0}.cashier[_ngcontent-%COMP%]   .info__status[_ngcontent-%COMP%]{width:260px;margin:0 auto 30px}.cashier[_ngcontent-%COMP%]   .info__status__title[_ngcontent-%COMP%]{font-family:var(--main-fonts-bold);margin-bottom:10px}.cashier[_ngcontent-%COMP%]   .info__status__text[_ngcontent-%COMP%], .cashier[_ngcontent-%COMP%]   .info__status__title[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-size:var(--main-font-size);line-height:1.4}.cashier[_ngcontent-%COMP%]   .info__status__text[_ngcontent-%COMP%]{font-family:var(--main-fonts)}.cashier[_ngcontent-%COMP%]   .info__status__support[_ngcontent-%COMP%]{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--xs);line-height:1.4;width:210px;margin:0 auto -20px}.cashier[_ngcontent-%COMP%]   .info__status__support--link[_ngcontent-%COMP%]{color:var(--cashier-support-text-color)}@media (min-width:768px){.cashier[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:30px}.cashier[_ngcontent-%COMP%]   .info__text[_ngcontent-%COMP%]{max-width:none;margin-bottom:20px}.cashier[_ngcontent-%COMP%]   .info__text--no-bold[_ngcontent-%COMP%]{font-size:var(--main-font-size);max-width:300px}.cashier[_ngcontent-%COMP%]   .info__text--success[_ngcontent-%COMP%]{margin-bottom:3px}.cashier[_ngcontent-%COMP%]   .info__buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.cashier[_ngcontent-%COMP%]   .info__button--back[_ngcontent-%COMP%], .cashier[_ngcontent-%COMP%]   .info__button--progress[_ngcontent-%COMP%]{margin-bottom:60px}.cashier[_ngcontent-%COMP%]   .info__button--link[_ngcontent-%COMP%]{width:140px;margin:0 25px 0 0}.cashier[_ngcontent-%COMP%]   .info__button--link[_ngcontent-%COMP%]:last-child{margin:0}.cashier[_ngcontent-%COMP%]   .info__status[_ngcontent-%COMP%]{width:320px}.cashier[_ngcontent-%COMP%]   .info__status__support[_ngcontent-%COMP%]{width:auto;margin-bottom:-40px}}"],changeDetection:0}),t})();const ie={phone:["",[Y.r.required,Y.r.pattern("^(\\s*)?(\\+)?([- _():=+]?\\d[- _():=+]?){5,12}(\\s*)?$")]]},oe={code:["",[Y.r.required,Y.r.minLength(2),Y.r.maxLength(6),X.a.amount("int")]]};var ae=n("zp1y");const se={[R.NetellerWithdrawal]:{text:"NETELLER_WITHDRAWAL",example:"some@mail.com"},[R.QiwiWithdrawal]:{text:"WALLET_NUMBER",example:"7XXXXXXXXXXX"},[R.MonetaruWithdrawal]:{text:"ACCOUNT_NUMBER",example:""},[R.SkrillWithdrawal]:{text:"EMAIL",example:"some@mail.com"},[R.MobileWithdrawal]:{text:"PHONE_NUMBER",example:"some@mail.com"},[R.WebmoneyWithdrawal]:{text:"WALLET_NUMBER",example:"R703276019842"},[R.YandexMoneyWithdrawal]:{text:"YANDEX_WALLET_NUMBER",example:""},[R.BankCardWithdrawal]:{text:"BANK_CARD_WALLET_NUMBER",example:""},[T.BankCardWithdrawal]:{text:"BANK_CARD_WALLET_NUMBER",example:""},[T.YandexMoneyWithdrawal]:{text:"YANDEX_WALLET_NUMBER",example:""},[N.BankCardWithdrawal]:{text:"BANK_CARD_WALLET_NUMBER",example:""},[D.Withdrawal]:{text:"BANK_CARD_WALLET_NUMBER",example:""},[k.Withdrawal]:{text:"BANK_CARD_WALLET_NUMBER",example:""},[R.BankCardWithdrawal2020]:{text:"BANK_CARD_WALLET_NUMBER",example:""},[j.Withdrawal]:{text:"BANK_CARD_WALLET_NUMBER",example:""},[L.WithdrawalCard]:{text:"BANK_CARD_WALLET_NUMBER",example:""}},re={amount:[0,[Y.r.required]],privacyPolicy:[!0,X.a.requiredCheckbox]},ce=Object.assign(Object.assign({},re),{account:["",Y.r.required]});var de=n("LRne"),pe=n("z6cu"),ge=n("JIr8"),le=n("cwPg");class he{constructor(t){this.category=t.category,this.commission_rate=t.commission_rate,this.id=t.id,this.max_value=t.max_value,this.min_value=t.min_value,this.operation_type=t.operation_type,this.number=t.number,this.list=t.list,this.key=t.key}}class be{constructor(t){this.currency=t.currency,this.default_amount=t.default_amount,this.list=t.list.map(t=>new he(t))}}class ue{constructor(t){this.account=t.account,this.created_at=t.created_at,this.uuid=t.uuid}}var me=n("wd/R");class _e{constructor(t){this._id=null,this.createDate=null,this.operationType=null,this.amount=null,this.currency=null,this.status=null,this.paymentAccount=null,this.paymentMethodName=null,this.type=null,this.reason=null,this._id=t._id,this.createDate=t.createDate,this.operationType=t.operationType,this.amount=t.amount,this.currency=t.currency,this.status=t.status,this.paymentAccount=t.paymentAccount,this.paymentMethodName=t.paymentMethodName,this.type=t.type,this.reason=t.reason,this.date=me(1e3*this.createDate).format("DD.MM.YYYY"),this.cancellable="withdrawal"===t.operationType&&"new"===t.status,this.declined="declined"===t.status,this.readableAmount=`${t.amount} ${t.currency}`}}class fe{constructor(t){this.payment_status=t.payment_status,this.status=t.status,this.present=t.present}}const ve=[{from:0,to:1e3,step:200},{from:1e3,to:3e3,step:500},{from:3e3,to:1e4,step:1e3},{from:1e4,step:5e3}],Ce=[{from:0,to:400,step:100},{from:400,to:1e3,step:200},{from:1e3,to:3e3,step:500},{from:3e3,to:1e4,step:1e3},{from:1e4,step:5e3}],xe=[{from:0,to:10,step:2},{from:10,to:30,step:5},{from:30,to:100,step:10},{from:100,step:50}],Oe=[{from:0,to:4e3,step:500},{from:4e3,to:1e4,step:2e3},{from:1e4,to:5e4,step:5e3},{from:5e4,step:1e4}];var Me=n("tk/3");let ye=(()=>{class t{constructor(t){this.http=t}loadPaymentMethods(){return this.http.get("/api/cash/user_payment_methods/").pipe(Object(p.a)(t=>le.a.success(new be(t))),Object(p.a)(t=>t._item),Object(ge.a)(t=>Object(pe.a)(le.a.error(t))))}loadPresetCards(t){return this.http.get("/api/payments/accounts/"+t).pipe(Object(p.a)(t=>le.a.success(t)),Object(p.a)(t=>t._items.map(t=>new ue(t))),Object(p.a)(e=>({[t]:e})),Object(ge.a)(t=>Object(pe.a)(le.a.error(t))))}makeTransfer(t,e){return this.http.post("/profile/transfers/create",{nick:t,amount:e}).pipe(Object(at.a)(t=>t.errors?Object(pe.a)(t):Object(de.a)(t)),Object(p.a)(t=>le.a.success(t)),Object(ge.a)(t=>Object(pe.a)(le.a.error(t))))}loadHistory({skip:t,limit:e,navigation:n}){return this.http.get(`/api/2/payments_history?skip=${t}&limit=${e}${n&&n!==it.All?"&type="+n:""}`).pipe(Object(p.a)(t=>le.a.success(t)),Object(p.a)(t=>({[n]:{total:t._meta.total,items:t._items.map(t=>new _e(t))}})),Object(ge.a)(t=>Object(pe.a)(le.a.error(t))))}cancelHistoryOperation(t){return this.http.post(`/api/2/payments_history/${t._id}/cancel`,null).pipe(Object(p.a)(t=>le.a.success(t)),Object(ge.a)(t=>Object(pe.a)(le.a.error(t))))}getTransactionStatus(t){return this.http.get("/api/payments/deposit/status/"+t).pipe(Object(p.a)(t=>le.a.success(new fe(t))),Object(p.a)(t=>({paymentStatus:t._item.payment_status})),Object(ge.a)(t=>Object(pe.a)(le.a.error(t))))}findStepsByCurrency(t){switch(t){case"USD":case"EUR":return xe;case"KZT":return Oe;case"UAH":return Ce;default:return ve}}getTopPricedBonus(t){return t.reduce((t,e)=>e.depositPrice>t.depositPrice?e:t,t[0])}isTranzzoWidget(t){return[W.DepositVisaWidget,W.DepositVisaUntrustedWidget,W.DepositMasterCardWidget].includes(t)}isLeoPaymentWidget(t){return t===L.Deposit}isPaymegaWidget(t){return[k.Deposit,k.DepositFirst].includes(t)}deleteCard(t){const e={headers:new Me.f({"Content-Type":"application/json"})};return this.http.delete("/api/payments/account/"+t,e)}createWithdrawRequest(t,e,n,i){const o={amount:t,payment_method:e};return"84"==e?o.pending_url=i:o.account=n,this.http.post("/api/payments/withdrawal/create/",o)}createDepositRequest(t,e,n,i,o,a,s,r,c){const d={amount:t,payment_method:e||null,error_url:n+"/error",pending_url:n+"/progress",success_url:e!==L.Deposit?n+"/success":n+"/going",cancel_url:n.replace("/transaction",""),present_id:i?i.id:"",token:this.isTranzzoWidget(e)?o:null,account:a||null,card_data:s?{cvv:s,exp_month:r,exp_year:c}:null};return this.http.post("/api/payments/deposit/create/",d)}depositUpdate(t,e){return this.http.post("/api/payments/deposit/update/",{initiatorID:t,code:e})}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(m.f))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})();var we=n("NQLi"),Pe=n("4I+I"),Se=n("qv+i");n("cp0P"),n("UXun"),n("6t2m"),n("xXQR"),n("jhN1");var Ae=function(t){return t.Cash="cash",t.NonDeposit="non-deposit",t.Freespin="casino_freespin",t.Welcome="casino_welcome",t.CasinoCashback="casino_cashback",t.CasinoReload="casino_reload",t.PokerReload="poker_reload",t.UserOffer="user_offer",t.Freebet="freebet",t}({}),Re=n("29l7");const ke=Object.assign(Object.assign({},Re.a),{spaceBetween:16,centeredSlides:!0,slideToClickedSlide:!0});var Ee=n("nhfI");function Ie(t,e){if(1&t&&(u.Sb(0,"div"),u.Ec(1),u.fc(2,"translate"),u.Rb()),2&t){const t=u.ec().$implicit,e=u.ec();u.Db("label ",t.label,""),u.Ab(1),u.Fc(u.gc(2,4,e.label(t)))}}function De(t,e){if(1&t&&(u.Sb(0,"p",9),u.Ec(1),u.fc(2,"translate"),u.Rb()),2&t){const t=u.ec().$implicit,e=u.ec();u.Ab(1),u.Hc("",u.gc(2,2,"CASHIER.BONUSES.IN_GAME"),": ",e.game(t),"")}}function Te(t,e){if(1&t&&(u.Sb(0,"div",13),u.Sb(1,"span",14),u.Ec(2),u.Rb(),u.Sb(3,"span",15),u.Ec(4),u.Rb(),u.Rb()),2&t){const t=u.ec().$implicit,e=u.ec();u.Ab(2),u.Fc(t.promo.name[e.lang]),u.Ab(2),u.Fc(t.promo.description[e.lang])}}const Ne=function(t){return{active:t}},We=function(t){return{"bonus__hide--active":t}};function je(t,e){if(1&t){const t=u.Tb();u.Sb(0,"div",4),u.ac("click",(function(){u.vc(t);const n=e.$implicit;return u.ec().selectBonus(n)})),u.Cc(1,Ie,3,6,"div",5),u.Sb(2,"div",6),u.Sb(3,"h2",7),u.Ec(4),u.fc(5,"translate"),u.Rb(),u.Cc(6,De,3,4,"p",8),u.Rb(),u.Sb(7,"p",9),u.Ec(8),u.fc(9,"translate"),u.Sb(10,"span"),u.Ec(11),u.Rb(),u.Rb(),u.Sb(12,"p",9),u.Ec(13),u.fc(14,"translate"),u.Sb(15,"span"),u.Ec(16),u.Rb(),u.Rb(),u.Nb(17,"img",10),u.fc(18,"themeable"),u.Sb(19,"img",11),u.ac("click",(function(e){return u.vc(t),u.ec().disActivate(e)})),u.Rb(),u.Cc(20,Te,5,2,"div",12),u.Rb()}if(2&t){const t=e.$implicit,n=u.ec();u.Db("bonus ",t.type,""),u.kc("ngClass",u.pc(24,Ne,n.isActive(t))),u.Ab(1),u.kc("ngIf",n.showLabel(t)),u.Ab(3),u.Hc("",t.title.info," ",u.gc(5,16,t.title.title),""),u.Ab(2),u.kc("ngIf",n.game(t)),u.Ab(2),u.Gc("",u.gc(9,18,"CASHIER.BONUSES.DEPOSIT_FROM"),": "),u.Ab(3),u.Hc("",t.activationPrice," ",t.currency,""),u.Ab(2),u.Gc("",u.gc(14,20,"CASHIER.BONUSES.WAGER"),": "),u.Ab(3),u.Gc("x",t.wagerFactor,""),u.Ab(1),u.kc("src",u.gc(18,22,"images/bonuses/"+t.icon.fallbackIcon),u.yc),u.Ab(2),u.kc("ngClass",u.pc(26,We,n.isActive(t))),u.Ab(1),u.kc("ngIf",(null==t.promo?null:t.promo.name)&&(null==t.promo?null:t.promo.name[n.lang]))}}let Be=(()=>{class t{constructor(t){this.lang=t,this.bonusesList=null,this.activeBonus=null,this.bonusSelected=new u.n,this.hideBonus=new u.n,this.sliderConfig=ke,this.activeSlide=0}ngOnInit(){this.activeBonus&&(this.activeSlide=this.bonusesList.findIndex(t=>this.activeBonus.id===t.id))}isActive(t){return this.activeBonus===t}selectBonus(t){this.bonusSelected.emit(t)}disActivate(t){t.stopPropagation(),this.activeSlide=null,this.activeBonus=null,this.hideBonus.emit()}game(t){return t.game&&"default"!==t.game.gid?t.game.name:""}showLabel(t){return t.type===Ae.CasinoReload}label(t){return"COMMON.SECTIONS."+t.label.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(m.g))},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-cashier-bonuses"]],inputs:{bonusesList:"bonusesList",activeBonus:"activeBonus"},outputs:{bonusSelected:"bonusSelected",hideBonus:"hideBonus"},decls:6,vars:6,consts:[[1,"bonus__wrapper"],[1,"cashier__title","cashier__title--bonus"],[1,"bonus__swiper",3,"config","index"],[3,"ngClass","class","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[3,"class",4,"ngIf"],[1,"bonus__title-wrapper"],[1,"bonus__title"],["class","bonus__info",4,"ngIf"],[1,"bonus__info"],[1,"bonus__img",3,"src"],["src","./assets/images/cashier/close.svg",1,"bonus__hide",3,"ngClass","click"],["class","bonus__promo",4,"ngIf"],[1,"bonus__promo"],[1,"bonus__promo__title"],[1,"bonus__promo__text"]],template:function(t,e){1&t&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Sb(4,"swiper",2),u.Cc(5,je,21,28,"div",3),u.Rb(),u.Rb()),2&t&&(u.Ab(2),u.Fc(u.gc(3,4,"CASHIER.BONUSES.CHOOSE_BONUS")),u.Ab(2),u.kc("config",e.sliderConfig)("index",e.activeSlide),u.Ab(1),u.kc("ngForOf",e.bonusesList))},directives:[Ee.b,i.l,i.k,i.m],pipes:[_.c,m.r],styles:['.cashier .swiper{padding:25px 0 10px!important}.cashier .swiper-button-next,.cashier .swiper-button-prev{display:none!important}.cashier .bonus{width:280px!important;height:150px!important;cursor:pointer;min-width:280px;overflow:visible!important;padding:25px 90px 0 20px;position:relative;border-radius:15px;box-shadow:var(--sm-shadow);color:var(--accent-1-text-color);background:linear-gradient(180deg,#006584 47%,#00d984);text-align:left;opacity:.5}.cashier .bonus:hover{opacity:1}.cashier .bonus__promo{width:100%;height:25px;display:flex;justify-content:center;align-items:center;border-radius:0 0 15px 15px;background-color:var(--accent-2-bg-color);position:absolute;overflow:hidden;bottom:0;left:0}.cashier .bonus__promo__title{color:var(--accent-1-text-color);font-size:var(--text-size--xxs);width:70px;text-align:center;text-transform:uppercase;display:block;background-color:var(--accent-3-bg-color);height:100%}.cashier .bonus__promo__text,.cashier .bonus__promo__title{font-weight:400;font-family:var(--main-fonts);line-height:1.4;padding:0 5px;line-height:25px}.cashier .bonus__promo__text{color:var(--secondary-text-color);font-size:var(--text-size--xs);width:100%}.cashier .bonus__wrapper{position:relative;width:100vw;margin:20px calc(-50vw + 140px)}.cashier .bonus__container,.cashier .bonus__swiper{padding:20px 0}.cashier .bonus__info{color:var(--accent-1-text-color);font-family:var(--main-fonts);margin:0 0 2px}.cashier .bonus__info,.cashier .bonus__info span{font-weight:400;font-size:var(--text-size--sm);line-height:1.4}.cashier .bonus__info span{font-family:var(--main-fonts-bold)}.cashier .bonus.freespin{background-image:linear-gradient(180deg,var(--bonus-freespin-start-gradient),var(--bonus-freespin-end-gradient))}.cashier .bonus.freespin .bonus__img{top:5px}.cashier .bonus.freebet{background-image:linear-gradient(0deg,#a42473,#d72e2e)}.cashier .bonus.cashback{background-image:linear-gradient(180deg,var(--bonus-cash-casino-start-gradient),var(--bonus-cash-casino-end-gradient))}.cashier .bonus.casino_reload{background-image:linear-gradient(180deg,var(--bonus-casino-reload-start-gradient),var(--bonus-casino-reload-end-gradient))}.cashier .bonus.cash{background-image:linear-gradient(180deg,#00857d,#3aaba4)}.cashier .bonus__title-wrapper{margin-bottom:10px}.cashier .bonus__title-wrapper .bonus__info{margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-bottom:1px solid var(--primary-border-color);width:-webkit-max-content;width:-moz-max-content;width:max-content}.cashier .bonus__hide{display:none;position:absolute;right:5px;top:5px}.cashier .bonus__hide--active{display:block}.cashier .bonus__title{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;margin:0;text-transform:uppercase}.cashier .bonus.active{opacity:1}.cashier .bonus.active:before{content:"";width:296px;height:166px;position:absolute;top:-8px;left:-8px;border:2px solid #2ecc71;border-radius:22px;z-index:-1;box-sizing:border-box;box-shadow:inset 0 0 0 6px var(--active-bonuse-bg-color)}.cashier .bonus__img{position:absolute;top:10px;right:0;max-width:105px}.cashier .bonus__text{color:var(--secondary-text-color);font-family:var(--main-fonts);max-width:280px;margin:0 auto}.cashier .bonus .label,.cashier .bonus__text{font-weight:400;font-size:var(--text-size--xs);line-height:1.4;text-align:center}.cashier .bonus .label{color:var(--primary-text-color);font-family:var(--main-fonts-bold);width:auto;height:18px;line-height:20px;border-radius:0 0 4px 4px;background-color:rgba(0,0,0,.2);text-transform:uppercase;position:absolute;top:0;left:20px;padding:0 6px}.cashier .bonus .label.casino{color:var(--deposit-bonus-casino-label-text)}@media (min-width:768px){.cashier .bonus__wrapper{margin:20px calc(-50vw + 350px)}.cashier .bonus__text{font-size:var(--text-size--sm)}}@media (min-width:992px){.cashier .swiper-button-next,.cashier .swiper-button-prev{width:50px;height:50px;box-shadow:var(--md-shadow);background:var(--accent-1-bg-color)!important;background-image:none!important;border-radius:50%;position:absolute;top:unset;bottom:40px;left:-55px;transform:translateY(-50%);z-index:1;display:block!important;margin:0}.cashier .swiper-button-next:before,.cashier .swiper-button-prev:before{width:16px;height:16px;content:"";position:absolute;top:16px;left:19px;display:block;transform:rotate(-135deg);border-top:2px solid var(--tertiary-border-color);border-right:2px solid var(--tertiary-border-color)}.cashier .swiper-button-prev:hover:before{border-top:2px solid var(--secondary-border-color);border-right:2px solid var(--secondary-border-color)}.cashier .swiper-button-prev:active{box-shadow:var(--sm-shadow)}.cashier .swiper-button-next{left:unset;right:-55px}.cashier .swiper-button-next:hover:before{border-top:2px solid var(--secondary-border-color);border-right:2px solid var(--secondary-border-color)}.cashier .swiper-button-next:active{box-shadow:var(--sm-shadow)}.cashier .swiper-button-next:before{transform:rotate(45deg);left:13px}.cashier .swiper-container{position:static}.cashier .bonus__wrapper{width:calc(100% + 22px);margin:20px 0 20px -11px}.cashier .bonus__text{max-width:none}}@media (min-width:1200px){.cashier .swiper-button-next,.cashier .swiper-button-prev{width:60px;height:60px;bottom:25px}.cashier .swiper-button-next:before,.cashier .swiper-button-prev:before{left:24px;top:21px}.cashier .swiper-button-prev{left:-95px}.cashier .swiper-button-next{right:-95px}.cashier .swiper-button-next:before{left:18px}.cashier .bonus__wrapper{width:82%;margin:20px auto}}'],encapsulation:2}),t})();const Le={account:["",[Y.r.required,Y.r.minLength(16),Y.r.maxLength(16),X.a.amount("int")]],expM:["",[Y.r.required,Y.r.minLength(1),Y.r.maxLength(2),X.a.amount("int")]],expY:["",[Y.r.required,Y.r.minLength(1),Y.r.maxLength(2),X.a.amount("int")]],cvv:["",[Y.r.required,Y.r.minLength(3),Y.r.maxLength(3),X.a.amount("int")]]};let ze=(()=>{class t{constructor(t,e){this.fb=t,this.errorManager=e,this.showLoading=!1,this.pdWidgetInfo=new u.n,this.pdWidgetButton={size:tt.d.Large,theme:tt.e.Green},this.form=this.fb.group(Le),this.errors=this.errorManager.setUp(this.form)}sendPDWidgetRequest(){this.form.valid&&this.pdWidgetInfo.emit(this.makeCardInfoValid(this.form.value))}makeCardInfoValid(t){return Object.keys(t).reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:1===t[n].length?"0"+t[n]:t[n]}),{})}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(Y.c),u.Mb(Q.a))},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-widget-pay"]],inputs:{showLoading:"showLoading"},outputs:{pdWidgetInfo:"pdWidgetInfo"},features:[u.zb([Q.a])],decls:22,vars:37,consts:[[1,"pd-widget",3,"formGroup"],[1,"pd-widget__label"],["formControlName","account",1,"pd-widget__input",3,"autocomplete","type","defaultPlaceholder","errors"],[1,"pd-widget__flex"],[1,"pd-widget__label--flex"],["formControlName","expM",1,"pd-widget__input","pd-widget__input--exp",3,"autocomplete","type","defaultPlaceholder","errors"],["formControlName","expY",1,"pd-widget__input","pd-widget__input--exp",3,"maxlength","autocomplete","type","defaultPlaceholder"],["formControlName","cvv",1,"pd-widget__input","pd-widget__input--cvv",3,"autocomplete","type","defaultPlaceholder","errors"],[3,"loading","fullWidth","disabled","settings","click"]],template:function(t,e){1&t&&(u.Sb(0,"form",0),u.Sb(1,"label",1),u.Ec(2),u.fc(3,"translate"),u.Nb(4,"pd-input",2),u.fc(5,"async"),u.Rb(),u.Sb(6,"div",3),u.Sb(7,"div",1),u.Ec(8),u.fc(9,"translate"),u.Sb(10,"div",4),u.Nb(11,"pd-input",5),u.fc(12,"async"),u.Sb(13,"pd-input",6),u.Ec(14," [errors]=\"errors.get('expY') | async\" "),u.Rb(),u.Rb(),u.Rb(),u.Sb(15,"label",1),u.Ec(16),u.Nb(17,"pd-input",7),u.fc(18,"async"),u.Rb(),u.Rb(),u.Sb(19,"pd-button",8),u.ac("click",(function(){return e.sendPDWidgetRequest()})),u.Ec(20),u.fc(21,"translate"),u.Rb(),u.Rb()),2&t&&(u.kc("formGroup",e.form),u.Ab(2),u.Gc("",u.gc(3,25,"CASHIER.CARD.INPUT_CARD_NUMBER")," "),u.Ab(2),u.kc("autocomplete","cc-number")("type","number")("defaultPlaceholder","XXXX XXXX XXXX XXXX")("errors",u.gc(5,27,e.errors.get("account"))),u.Ab(4),u.Gc(" ",u.gc(9,29,"CASHIER.CARD.CARD_EXP")," "),u.Ab(3),u.kc("autocomplete","cc-exp-month")("type","number")("defaultPlaceholder","MM")("errors",u.gc(12,31,e.errors.get("expM"))),u.Ab(2),u.kc("maxlength","2")("autocomplete","cc-exp-year")("type","number")("defaultPlaceholder","\u0413\u0413"),u.Ab(3),u.Gc("","CVV"," "),u.Ab(1),u.kc("autocomplete","cc-csc")("type","number")("defaultPlaceholder","XXX")("errors",u.gc(18,33,e.errors.get("cvv"))),u.Ab(2),u.kc("loading",e.showLoading)("fullWidth",!0)("disabled",!e.form.valid)("settings",e.pdWidgetButton),u.Ab(1),u.Fc(u.gc(21,35,"CASHIER.CARD.MAKE_DEPOSIT")))},directives:[Y.t,Y.m,Y.h,tt.i,Y.l,Y.f,Y.j,tt.b],pipes:[_.c,i.b],styles:[".pd-widget{width:280px;margin:0 auto}.pd-widget__label{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;margin-bottom:30px;text-align:left;display:block}.pd-widget__label--flex{display:flex;justify-content:center;align-items:center}.pd-widget__input .field__input{text-align:center;margin-top:15px;padding:13px 12px 12px}.pd-widget__input--exp:first-child{margin-right:10px}.pd-widget__input--exp .field__input{width:55px}.pd-widget__input--cvv .field__input{width:70px}.pd-widget__flex{display:flex;justify-content:space-between;align-items:center}"],encapsulation:2}),t})();const Fe=["widgetFakeForm"];function He(t,e){if(1&t){const t=u.Tb();u.Sb(0,"div",32),u.Nb(1,"div",33),u.Sb(2,"div",34),u.Sb(3,"pd-cross-icon2",35),u.ac("click",(function(){return u.vc(t),u.ec(3).togglePopup()})),u.Rb(),u.Nb(4,"pd-question-icon",36),u.Sb(5,"p",37),u.Ec(6),u.fc(7,"translate"),u.Rb(),u.Sb(8,"p",38),u.Ec(9),u.Rb(),u.Sb(10,"div",39),u.Sb(11,"pd-button",40),u.ac("click",(function(){return u.vc(t),u.ec(3).togglePopup()})),u.Ec(12),u.fc(13,"translate"),u.Rb(),u.Sb(14,"pd-button",41),u.ac("click",(function(){return u.vc(t),u.ec(3).deleteCard()})),u.Ec(15),u.fc(16,"translate"),u.Rb(),u.Rb(),u.Rb(),u.Rb()}if(2&t){const t=u.ec(3);u.Ab(6),u.Gc(" ",u.gc(7,5,"CASHIER.CARD.DELETE_CARD_QUESTION")," "),u.Ab(3),u.Fc(t.cardDeleteAccount),u.Ab(2),u.kc("settings",t.deleteCardNo),u.Ab(1),u.Fc(u.gc(13,7,"COMMON.NO")),u.Ab(3),u.Fc(u.gc(16,9,"COMMON.YES"))}}function Ue(t,e){if(1&t){const t=u.Tb();u.Sb(0,"div",27),u.Sb(1,"h3",28),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Sb(4,"pd-input-radio",29),u.ac("deleteElem",(function(e){return u.vc(t),u.ec(2).togglePopup(e)})),u.Rb(),u.Sb(5,"div",30),u.ac("click",(function(){return u.vc(t),u.ec(2).sendRequest("add_card")})),u.Ec(6),u.fc(7,"translate"),u.Rb(),u.Cc(8,He,17,11,"div",31),u.Rb()}if(2&t){const t=u.ec(2);u.Ab(2),u.Gc(" ",u.gc(3,7,"CASHIER.CARD.PAY_METHOD")," "),u.Ab(2),u.kc("showDeleteButton",!0)("formControl",t.depositCards)("selected",t.depositActiveCard)("options",t.depositPresetCardList),u.Ab(2),u.Fc(u.gc(7,9,"CASHIER.CARD.ADD_CARD2")),u.Ab(2),u.kc("ngIf",t.showDeleteCardPopup)}}const Ge=function(t){return{"cashier__bonuses--frame":t}};function $e(t,e){if(1&t){const t=u.Tb();u.Qb(0),u.Sb(1,"div",42),u.Sb(2,"pd-cashier-bonuses",43),u.ac("hideBonus",(function(){return u.vc(t),u.ec(2).hideBonus()}))("bonusSelected",(function(e){return u.vc(t),u.ec(2).bonusSelected(e)})),u.Rb(),u.Rb(),u.Pb()}if(2&t){const t=u.ec(2);u.Ab(1),u.kc("ngClass",u.pc(3,Ge,!t.isBonusListVisible)),u.Ab(1),u.kc("bonusesList",t.bonusesList)("activeBonus",t.activeBonus)}}const qe=function(t){return{"choose-card__card--active":t}};function Ve(t,e){if(1&t){const t=u.Tb();u.Sb(0,"div",50),u.ac("click",(function(){u.vc(t);const n=e.$implicit;return u.ec(4).setActivePresetCard(n)})),u.Nb(1,"span",51),u.Ec(2),u.Rb()}if(2&t){const t=e.$implicit,n=u.ec(4);u.kc("ngClass",u.pc(2,qe,n.isPresetCardActive(t))),u.Ab(2),u.Gc(" ",t.account," ")}}function Ye(t,e){if(1&t){const t=u.Tb();u.Sb(0,"div",47),u.Cc(1,Ve,3,4,"div",48),u.Sb(2,"pd-button",49),u.ac("click",(function(){return u.vc(t),u.ec(3).navigateToDeposit()})),u.Ec(3),u.fc(4,"translate"),u.Rb(),u.Rb()}if(2&t){const t=u.ec(3);u.Ab(1),u.kc("ngForOf",t.presetCards),u.Ab(1),u.kc("settings",t.addCardGray),u.Ab(1),u.Fc(u.gc(4,3,"CASHIER.CARD.ADD_CARD"))}}function Xe(t,e){if(1&t){const t=u.Tb();u.Sb(0,"div",52),u.Sb(1,"h4",53),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Sb(4,"p",54),u.Ec(5),u.fc(6,"translate"),u.Sb(7,"span"),u.Ec(8),u.fc(9,"currencyStringNormalizer"),u.Rb(),u.Ec(10),u.fc(11,"translate"),u.Rb(),u.Sb(12,"pd-button",55),u.ac("click",(function(){return u.vc(t),u.ec(3).navigateToDeposit()})),u.Ec(13),u.fc(14,"translate"),u.Rb(),u.Rb()}if(2&t){const t=u.ec(3);u.Ab(2),u.Fc(u.gc(3,5,"CASHIER.CARD.DONT_HAVE_CARDS")),u.Ab(3),u.Gc("",u.gc(6,7,"CASHIER.CARD.FOR_ADD_CARD_1")," "),u.Ab(3),u.Fc(u.gc(9,9,t.minAmount)),u.Ab(2),u.Gc("",u.gc(11,11,"CASHIER.CARD.FOR_ADD_CARD_2"),"."),u.Ab(3),u.Fc(u.gc(14,13,"CASHIER.CARD.ADD_CARD"))}}function Ke(t,e){if(1&t&&(u.Qb(0),u.Sb(1,"h4",44),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Cc(4,Ye,5,5,"div",45),u.Cc(5,Xe,15,15,"ng-template",null,46,u.Dc),u.Pb()),2&t){const t=u.uc(6),e=u.ec(2);u.Ab(2),u.Fc(u.gc(3,3,"CASHIER.CARD.SELECT_CARD")),u.Ab(2),u.kc("ngIf",e.isPresetCardsListFilled)("ngIfElse",t)}}function Qe(t,e){if(1&t&&(u.Sb(0,"div",56),u.Sb(1,"h4",57),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Nb(4,"pd-input",58),u.fc(5,"async"),u.Rb()),2&t){const t=u.ec(2);u.Ab(2),u.Fc(u.gc(3,2,"CASHIER.METHODS_TITLE."+t.additionalInfo)),u.Ab(2),u.kc("errors",u.gc(5,4,t.errors.get("account")))}}const Je=function(){return["page","terms"]},Ze=function(){return["page","privacy-policy"]};function tn(t,e){if(1&t&&(u.Sb(0,"div",60),u.Sb(1,"pd-input-checkbox",61),u.fc(2,"async"),u.Sb(3,"p"),u.Ec(4),u.fc(5,"translate"),u.Sb(6,"a",62),u.Ec(7),u.fc(8,"translate"),u.Rb(),u.Ec(9),u.fc(10,"translate"),u.Sb(11,"a",62),u.Ec(12),u.fc(13,"translate"),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&t){const t=u.ec(3);u.Ab(1),u.kc("errors",u.gc(2,7,t.errors.get("privacyPolicy"))),u.Ab(3),u.Gc("",u.gc(5,9,"AUTH.REGISTRATION.I_AGREE_WITH")," "),u.Ab(2),u.kc("goto",u.oc(17,Je)),u.Ab(1),u.Fc(u.gc(8,11,"AUTH.REGISTRATION.TERMS_AND_CONDITIONS")),u.Ab(2),u.Gc(" ",u.gc(10,13,"COMMON.AND")," "),u.Ab(2),u.kc("goto",u.oc(18,Ze)),u.Ab(1),u.Fc(u.gc(13,15,"AUTH.REGISTRATION.PRIVACY_POLICY"))}}function en(t,e){1&t&&(u.Qb(0),u.Cc(1,tn,14,19,"div",59),u.Pb()),2&t&&(u.Ab(1),u.kc("pdThemeable","joker"))}function nn(t,e){if(1&t&&(u.Sb(0,"span",66),u.Ec(1),u.fc(2,"translate"),u.Rb()),2&t){const t=u.ec(3);u.Ab(1),u.Hc(" | ",t.depositBonusInfo.info," ",u.gc(2,2,t.depositBonusInfo.title),"")}}function on(t,e){if(1&t&&(u.Sb(0,"div",63),u.Sb(1,"span",64),u.Ec(2),u.fc(3,"translate"),u.fc(4,"currencyStringNormalizer"),u.Rb(),u.Cc(5,nn,3,4,"span",65),u.Rb()),2&t){const t=u.ec(2);u.Ab(2),u.Hc("",u.gc(3,3,"HEADER.CASHIER")," ",u.gc(4,5,t.depositPayInfo),""),u.Ab(3),u.kc("ngIf",!!t.activeBonus)}}function an(t,e){if(1&t){const t=u.Tb();u.Sb(0,"pd-button",67),u.ac("click",(function(){return u.vc(t),u.ec(2).sendRequest()})),u.Ec(1),u.fc(2,"translate"),u.Rb()}if(2&t){const t=u.ec(2);u.kc("settings",t.depositButton)("disabled",t.isDisabledDepositButton),u.Ab(1),u.Fc(u.gc(2,3,t.callToAction))}}function sn(t,e){if(1&t){const t=u.Tb();u.Sb(0,"div",9),u.Sb(1,"div",10),u.Sb(2,"div",11),u.Sb(3,"pd-button-back",12),u.ac("click",(function(){return u.vc(t),u.ec().back()})),u.Rb(),u.Rb(),u.Sb(4,"div",13),u.Sb(5,"h3",14),u.Ec(6),u.fc(7,"translate"),u.Rb(),u.Sb(8,"p",15),u.Ec(9),u.fc(10,"translate"),u.fc(11,"currencyStringNormalizer"),u.fc(12,"translate"),u.fc(13,"currencyStringNormalizer"),u.Rb(),u.Rb(),u.Sb(14,"div",16),u.Nb(15,"img",17),u.Rb(),u.Rb(),u.Sb(16,"form",18),u.ac("ngSubmit",(function(e){return u.vc(t),u.ec().sendRequest(e)})),u.Nb(17,"pd-input-cash",19),u.fc(18,"async"),u.Cc(19,Ue,9,11,"div",20),u.Cc(20,$e,3,5,"ng-container",21),u.Cc(21,Ke,7,5,"ng-container",21),u.Cc(22,Qe,6,6,"div",22),u.Cc(23,en,2,1,"ng-container",21),u.Rb(),u.Nb(24,"pd-input-error",23),u.fc(25,"async"),u.Cc(26,on,6,7,"div",24),u.Cc(27,an,3,5,"pd-button",25),u.Sb(28,"div",26),u.Ec(29),u.fc(30,"translate"),u.fc(31,"currencyStringNormalizer"),u.Rb(),u.Rb()}if(2&t){const t=u.ec();u.Ab(6),u.Fc(u.gc(7,20,"CASHIER.CARD.INSERT_AMOUNT")),u.Ab(3),u.Jc("",u.gc(10,22,"CASHIER.CARD.MIN")," ",u.gc(11,24,t.minAmount)," | ",u.gc(12,26,"CASHIER.CARD.MAX")," ",u.gc(13,28,t.maxAmount),""),u.Ab(6),u.mc("src","/assets/images/cashier/logos/",t.logo,"",u.yc),u.kc("alt",t.paymentMethodViewSettings.name),u.Ab(1),u.kc("formGroup",t.form),u.Ab(1),u.kc("settings",t.cashInputSettings)("errors",u.gc(18,30,t.errors.get("amount"))),u.Ab(2),u.kc("ngIf",t.isPresetCardsListActiveForTranzzo),u.Ab(1),u.kc("ngIf",t.isBonusListActive),u.Ab(1),u.kc("ngIf",t.isPresetCardsListActive),u.Ab(1),u.kc("ngIf",t.isAdditionalInfoInputActive),u.Ab(1),u.kc("ngIf",t.showTermCheckbox()),u.Ab(1),u.kc("errors",u.gc(25,32,t.errors.get("form"))),u.Ab(2),u.kc("ngIf",t.isDepositPage),u.Ab(1),u.kc("ngIf",t.showSubmit),u.Ab(2),u.Hc("",u.gc(30,34,"CASHIER.COMMISSION")," ",u.gc(31,36,t.commission),"")}}function rn(t,e){if(1&t&&(u.Sb(0,"p",76),u.Ec(1),u.Rb()),2&t){const t=u.ec(3);u.Ab(1),u.Fc(t.widgetBonusInfo)}}function cn(t,e){if(1&t&&(u.Sb(0,"div",73),u.Sb(1,"p",74),u.Ec(2),u.fc(3,"currencyStringNormalizer"),u.Rb(),u.Cc(4,rn,2,1,"p",75),u.Rb()),2&t){const t=u.ec(2);u.Ab(2),u.Fc(u.gc(3,2,t.widgetPayInfo)),u.Ab(2),u.kc("ngIf",t.widgetBonusInfo)}}function dn(t,e){if(1&t){const t=u.Tb();u.Sb(0,"pd-widget-pay",77),u.ac("pdWidgetInfo",(function(e){return u.vc(t),u.ec(2).sendPDWidgetRequest(e)})),u.Rb()}if(2&t){const t=u.ec(2);u.kc("showLoading",t.showPDWidgetLoading)}}function pn(t,e){if(1&t){const t=u.Tb();u.Sb(0,"section",68),u.Sb(1,"div",69),u.Sb(2,"div",11),u.Sb(3,"pd-button-back",12),u.ac("click",(function(){return u.vc(t),u.ec().back()})),u.Rb(),u.Rb(),u.Sb(4,"div",70),u.Nb(5,"img",17),u.Rb(),u.Rb(),u.Cc(6,cn,5,4,"div",71),u.Cc(7,dn,1,1,"pd-widget-pay",72),u.Rb()}if(2&t){const t=u.ec();u.Ab(5),u.mc("src","/assets/images/cashier/logos/",t.logo,"",u.yc),u.kc("alt",t.paymentMethodViewSettings.name),u.Ab(1),u.kc("ngIf",t.isDepositPage),u.Ab(1),u.kc("ngIf",t.showPDWidget)}}function gn(t,e){if(1&t&&u.Nb(0,"input",78),2&t){const t=e.$implicit;u.kc("name",t.key)("value",t.value)}}function ln(t,e){1&t&&(u.Sb(0,"div",82),u.Sb(1,"h3",14),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Sb(4,"span",83),u.Ec(5),u.fc(6,"translate"),u.Rb(),u.Rb()),2&t&&(u.Ab(2),u.Fc(u.gc(3,2,"CASHIER.CARD.PHONE_WIDGET_TITLE")),u.Ab(3),u.Gc("",u.gc(6,4,"CASHIER.CARD.EXAMPLE"),": +38080000000"))}function hn(t,e){1&t&&(u.Sb(0,"div",82),u.Sb(1,"h3",14),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Rb()),2&t&&(u.Ab(2),u.Fc(u.gc(3,1,"PROFILE.CONTACT_DETAILS.ENTER_SMS_CODE")))}function bn(t,e){if(1&t){const t=u.Tb();u.Sb(0,"form",84),u.ac("ngSubmit",(function(){return u.vc(t),u.ec(2).sendPhone()})),u.Nb(1,"pd-input",85),u.fc(2,"translate"),u.Sb(3,"pd-button",86),u.ac("click",(function(){return u.vc(t),u.ec(2).sendPhone()})),u.Ec(4),u.fc(5,"translate"),u.Rb(),u.Rb()}if(2&t){const t=u.ec(2);u.kc("formGroup",t.phoneWidgetForm),u.Ab(1),u.lc("placeholder",u.gc(2,6,"PROFILE.CONTACT_DETAILS.PHONE")),u.Ab(2),u.kc("disabled",!t.phoneWidgetForm.valid)("fullWidth",!0)("settings",t.depositPhoneWidgetButton),u.Ab(1),u.Fc(u.gc(5,8,"CASHIER.CARD.MAKE_DEPOSIT"))}}function un(t,e){1&t&&(u.Sb(0,"span",91),u.Sb(1,"span",92),u.Ec(2),u.fc(3,"translate"),u.Rb(),u.Ec(4),u.fc(5,"translate"),u.Rb()),2&t&&(u.Ab(2),u.Fc(u.gc(3,2,"PROFILE.CONTACT_DETAILS.SMS_SENT")),u.Ab(2),u.Gc(" ",u.gc(5,4,"PROFILE.CONTACT_DETAILS.RESEND_MESSAGE")," "))}function mn(t,e){if(1&t){const t=u.Tb();u.Sb(0,"span",83),u.Ec(1),u.fc(2,"translate"),u.Sb(3,"span",88),u.ac("click",(function(){return u.vc(t),u.ec(3).reSendCode()})),u.Ec(4),u.fc(5,"translate"),u.Rb(),u.Rb()}2&t&&(u.Ab(1),u.Gc("",u.gc(2,2,"PROFILE.CONTACT_DETAILS.SMS_NOT_RECEIVED")," "),u.Ab(3),u.Fc(u.gc(5,4,"PROFILE.CONTACT_DETAILS.RESEND_CODE")))}function _n(t,e){if(1&t){const t=u.Tb();u.Sb(0,"form",84),u.ac("ngSubmit",(function(){return u.vc(t),u.ec(2).sendCode()})),u.Nb(1,"pd-input",87),u.fc(2,"translate"),u.Sb(3,"span",83),u.Ec(4),u.fc(5,"translate"),u.Sb(6,"span",88),u.ac("click",(function(){u.vc(t);const e=u.ec(2);return e.showPhoneWidgetCode=!e.showPhoneWidgetCode})),u.Ec(7),u.fc(8,"translate"),u.Rb(),u.Rb(),u.Sb(9,"pd-button",86),u.ac("click",(function(){return u.vc(t),u.ec(2).sendCode()})),u.Ec(10),u.fc(11,"translate"),u.Rb(),u.Cc(12,un,6,6,"span",89),u.Cc(13,mn,6,6,"span",90),u.Rb()}if(2&t){const t=u.ec(2);u.kc("formGroup",t.phoneCodeWidgetForm),u.Ab(1),u.lc("placeholder",u.gc(2,11,"CASHIER.CARD.CONFIRM_CODE")),u.Ab(3),u.Hc("",u.gc(5,13,"PROFILE.CONTACT_DETAILS.SMS_SENT_TO_NUMBER")," ",t.phoneWidgetForm.value.phone," "),u.Ab(3),u.Fc(u.gc(8,15,"PROFILE.CONTACT_DETAILS.CHANGE_NUMBER")),u.Ab(2),u.kc("disabled",!t.phoneCodeWidgetForm.valid)("fullWidth",!0)("settings",t.depositPhoneWidgetButton),u.Ab(1),u.Fc(u.gc(11,17,"PROFILE.CONTACT_DETAILS.APPROVE")),u.Ab(2),u.kc("ngIf",!t.showResendMessage),u.Ab(1),u.kc("ngIf",t.showResendMessage)}}function fn(t,e){if(1&t){const t=u.Tb();u.Sb(0,"div",79),u.Sb(1,"div",10),u.Sb(2,"div",11),u.Sb(3,"pd-button-back",12),u.ac("click",(function(){return u.vc(t),u.ec().back()})),u.Rb(),u.Rb(),u.Cc(4,ln,7,6,"div",80),u.Cc(5,hn,4,3,"div",80),u.Sb(6,"div",16),u.Nb(7,"img",17),u.Rb(),u.Rb(),u.Cc(8,bn,6,10,"form",81),u.Cc(9,_n,14,19,"form",81),u.Rb()}if(2&t){const t=u.ec();u.Ab(4),u.kc("ngIf",!t.showPhoneWidgetCode),u.Ab(1),u.kc("ngIf",t.showPhoneWidgetCode),u.Ab(2),u.lc("alt",t.paymentMethodViewSettings.name),u.mc("src","/assets/images/cashier/logos/",t.logo,"",u.yc),u.Ab(1),u.kc("ngIf",!t.showPhoneWidgetCode),u.Ab(1),u.kc("ngIf",t.showPhoneWidgetCode)}}const vn=function(t){return{"wrapper--bonuses":t}};let Cn=(()=>{class t{constructor(t,e,n,i,o,a,s,r,d,p,g,l,h,b,u){this.activatedRoute=t,this.fb=e,this.store=n,this.cashierService=i,this.themeableService=o,this.notify=a,this.navigate=s,this.lang=r,this.window=d,this.platform=p,this.bonusesService=g,this.scriptsLoader=l,this.translation=h,this.errorManager=b,this.cd=u,this.phoneWidgetForm=this.fb.group(ie),this.phoneCodeWidgetForm=this.fb.group(oe),this.addCardGray={size:tt.d.Small,theme:tt.e.Gray},this.deleteCardNo={size:tt.d.Medium,theme:tt.e.Gray},this.depositPhoneWidgetButton={size:tt.d.Large},this.depositButton={},this.form=this.fb.group({}),this.bonusesVisible=!1,this.commission="",this.userCurrency=null,this.userBalance=null,this.userId=null,this.minAmount=null,this.maxAmount=null,this.paymentMethods=null,this.selectedBonus=null,this.tranzzoWidget=null,this.showWidget=!1,this.showPDWidget=!1,this.widgetPayInfo=null,this.widgetBonusInfo=null,this.depositPayInfo=null,this.depositBonusInfo=null,this.depositCards=null,this.depositActiveCard=null,this.showDeleteCardPopup=null,this.cardDeleteAccount=null,this.isDisabledDepositButton=null,this.pdWidgetParams=null,this.pdWidgetMethod=null,this.pdWidgetAction=null,this.showPDWidgetIframe=null,this.showPDWidgetLoading=!1,this.showPhoneWidget=!1,this.initiatorID=null,this.showPhoneWidgetCode=!1,this.showResendMessage=!0,this.paymentMethod=this.activatedRoute.snapshot.data.paymentMethod,this.section=this.activatedRoute.snapshot.params.type,this.bonusesList=this.activatedRoute.snapshot.data.bonuses.filter(t=>t.isDeposit),this.presetCards=this.activatedRoute.snapshot.data.cards,this.paymentMethodViewSettings=z[this.paymentMethod.id]||z.default,this.isPresetCardsListActiveForTranzzo&&(this.depositCards=new Y.d,[this.depositActiveCard]=this.depositPresetCardList,this.depositCards.valueChanges.subscribe(t=>this.depositActiveCard=t)),this.bonusesVisible=this.isBonusListActive,this.form=this.fb.group(this.isWithdrawPage?ce:re),this.isLeoBankCardDeposit&&this.form.addControl("account",new Y.d("",[Y.r.required])),this.form=this.fb.group(this.isWithdrawPage&&!this.isProcessingKZWithdrawal?ce:re),this.errors=this.errorManager.setUp(this.form),this.commission=this.countCommission(),this.isPresetCardsListActive&&!this.isPresetCardsListFilled&&(this.form.get("amount").setErrors({required:!0}),this.commission=this.countCommission()),this.presetCards&&this.presetCards.length&&this.setActivePresetCard(this.presetCards[0]),this.store.select(J.a.info).pipe(Object(ae.a)(this.bonusesService.selectedBonus.pipe(Object(c.a)(null)))).subscribe(([t,e])=>{if(this.userBalance=t.balance,this.userId=t.userId,this.userCurrency=t.currency,this.selectedBonus=e,this.minAmount=`${this.paymentMethod.min_value} ${this.userCurrency}`,this.maxAmount=`${this.paymentMethod.max_value} ${this.userCurrency}`,this.bonusesList.length){const t=this.bonusesList.find(t=>t.id===this.selectedBonus);this.activeBonus=this.getActiveBonus(t),this.depositBonusInfo=this.activeBonus?this.activeBonus.title:{info:"",title:"CASHIER.BONUSES.NO_SELECTED"},this.activeBonus||this.bonusesService.selectBonus(null)}this.form.get("amount").setValue(this.getDefaultAmount()),this.depositPayInfo=`${parseFloat(this.form.value.amount)} ${this.userCurrency}`,this.commission=this.countCommission()}),this.form.get("amount").valueChanges.subscribe(t=>{this.activeBonus&&this.activeBonus.activationPrice>Object(m.x)(t)&&(this.activeBonus=null,this.bonusesService.selectBonus(null),this.sendGAEvent("userClick",{eventCategory:"bonusUnchecked"})),this.depositPayInfo=`${parseFloat(t)} ${this.userCurrency}`,this.sendGAEvent("userClick",{eventCategory:"changeAmount"}),this.commission=this.countCommission()})}get isDepositPage(){return this.section===a.Deposit}get isWithdrawPage(){return this.section===a.Withdrawal||this.section===a.Withdraw}get isBonusListActive(){return this.isDepositPage&&!!this.bonusesList&&!!this.bonusesList.length}get isPresetCardsListActive(){return this.isWithdrawPage&&!!this.presetCards}get isBonusListVisible(){return this.isBonusListActive&&!!this.bonusesVisible}get isPresetCardsListFilled(){return this.isPresetCardsListActive&&!!this.presetCards.length}get isProcessingKZWithdrawal(){return this.paymentMethod.id===j.Withdrawal}get isPresetCardsListActiveForTranzzo(){return this.themeableService.getTheme()===m.t.Joker&&this.cashierService.isTranzzoWidget(this.paymentMethod.id)&&!!this.presetCards&&!!this.presetCards.length}get isLeoBankCardDeposit(){return this.paymentMethod.id===L.DepositCard}get depositPresetCardList(){return this.presetCards.map(t=>t.account)}get isAdditionalInfoInputActive(){return this.isWithdrawPage&&!this.isPresetCardsListActive&&!this.isProcessingKZWithdrawal}get additional(){return se[this.paymentMethod.id]}get additionalInfo(){return this.additional.text}get additionalInfoPlaceholder(){return this.additional.example}get cashInputSettings(){return{min:this.paymentMethod.min_value,max:this.isWithdrawPage&&this.paymentMethod.max_value>this.userBalance?this.userBalance:this.paymentMethod.max_value,steps:this.cashierService.findStepsByCurrency(this.userCurrency),currencySymbol:(new m.c).transform(this.userCurrency)}}get logo(){return this.paymentMethodViewSettings.secondaryLogo}get callToAction(){return this.isDepositPage?"CASHIER.CARD.MAKE_DEPOSIT":"CASHIER.CARD.MAKE_WITHDRAW"}get bonusButtonMessage(){return this.bonusesVisible?"CASHIER.CARD.REMOVE_BONUS":"CASHIER.CARD.ADD_BONUS"}get showSubmit(){return!this.isPresetCardsListActive||this.isPresetCardsListActive&&this.isPresetCardsListFilled}ngOnDestroy(){this.tranzzoWidget&&this.tranzzoWidget.close()}togglePopup(t){this.showDeleteCardPopup=!!t,this.cardDeleteAccount=t||null}deleteCard(){const[{uuid:t}]=this.presetCards.filter(t=>t.account===this.cardDeleteAccount);this.togglePopup(),this.cashierService.deleteCard(t).subscribe(e=>{"error"!==e.status?(this.notify.success("NOTIFICATIONS.MESSAGES.CARD_DELETE_SUCCESS"),this.presetCards=this.presetCards.filter(e=>e.uuid!==t),[this.depositActiveCard]=this.depositPresetCardList,this.form.updateValueAndValidity()):this.notify.error("NOTIFICATIONS.MESSAGES.CARD_DELETE_ERROR")},()=>this.notify.error("NOTIFICATIONS.MESSAGES.CARD_DELETE_ERROR"))}back(){this.navigate(["cashier",this.section===a.Withdraw?a.Withdrawal:this.section])}navigateToDeposit(){this.navigate(["cashier",a.Deposit])}setActivePresetCard(t){this.form.get("account").setValue(t.account)}bonusSelected(t){if(this.activeBonus===t)return;this.bonusesService.selectBonus(t.id),this.activeBonus=t,this.depositBonusInfo=this.activeBonus?this.activeBonus.title:{info:"",title:"CASHIER.BONUSES.NO_SELECTED"},this.sendGAEvent("userClick",{eventCategory:"bonusChecked"});const e=this.form.get("amount");e.value<this.activeBonus.depositPrice&&e.setValue(this.activeBonus.depositPrice)}hideBonus(){this.activeBonus=null,this.bonusesService.selectBonus(null),this.sendGAEvent("userClick",{eventCategory:"bonusRefuse"})}isPresetCardActive(t){return this.form.get("account").value===t.account}sendRequest(t){if(!this.form.valid)return;const{amount:e,account:n}=this.form.value;if(!this.cashierService.isLeoPaymentWidget(this.paymentMethod.id))return this.themeableService.getTheme()===m.t.Joker&&(this.cashierService.isTranzzoWidget(this.paymentMethod.id)||this.cashierService.isPaymegaWidget(this.paymentMethod.id))?this.depositActiveCard&&"add_card"!==t?void this.sendDepositRequest(e,this.paymentMethod.id,null,this.depositActiveCard):(this.widgetPayInfo=`${String(e)} ${this.userCurrency}`,this.widgetBonusInfo=this.activeBonus?"+ "+this.translation.get(this.activeBonus.title.title):null,this.showWidget=!0,this.cashierService.isPaymegaWidget(this.paymentMethod.id)&&(this.showPDWidget=!0),void(this.cashierService.isTranzzoWidget(this.paymentMethod.id)&&this.setupTranzzoWidget(e,this.paymentMethod.id))):void(this.isWithdrawPage?this.sendWithdrawalRequest(e,n,this.paymentMethod.id):this.sendDepositRequest(e,this.paymentMethod.id,null,n));this.showPhoneWidget=!0}setupTranzzoWidget(t,e){this.scriptsLoader.loadScript(Ht.a[this.themeableService.getTheme()].tranzzoWidgetLink,{async:"true"}).subscribe(()=>{this.tranzzoWidgetInit(t,e)},()=>{this.showWidget=!1,console.log("SCRIPT NOT DOWNLOAD")})}tranzzoWidgetInit(t,e){const n=this;this.tranzzoWidget=window.Tranzzo.init({key:this.paymentMethod.key,mode:"inline",lang:this.translation.lang,selector:"widget-wrapper",style:"joker",onToken(i){n.sendDepositRequest(t,e,i.token)}}).open()}showTermCheckbox(){return this.paymentMethod.id===D.Withdrawal||this.paymentMethod.id===W.Deposit||this.paymentMethod.id===W.DepositVisa||this.paymentMethod.id===W.DepositVisaUntrusted||this.paymentMethod.id===W.DepositMasterCard}sendPDWidgetRequest(t){const{amount:e}=this.form.value,{account:n,expM:i,expY:o,cvv:a}=t;this.showPDWidgetLoading=!0,this.sendDepositRequest(e,this.paymentMethod.id,null,n,a,i,o)}sendPhone(){const{amount:t}=this.form.value,{phone:e}=this.phoneWidgetForm.value;this.phoneWidgetForm.valid&&this.sendDepositRequest(t,this.paymentMethod.id,null,e)}sendCode(){const{code:t}=this.phoneCodeWidgetForm.value;this.cashierService.depositUpdate(this.initiatorID,t).subscribe(t=>{this.navigateToStatusPage(t.status!==Ut.Success?t:{status:Ut.Going})})}reSendCode(){this.sendPhone(),this.showResendMessage=!1,Object(zt.a)(3e4).subscribe(()=>this.showResendMessage=!0)}sendWithdrawalRequest(t,e,n){this.depositButton.loading=!0;const i=window.location.origin;this.cashierService.createWithdrawRequest(t,n,e,i).subscribe(t=>{"INSUFFICIENT_FUNDS"===t.code&&this.notify.error("NOTIFICATIONS.MESSAGES.NEED_MORE_GOLD"),t.data&&"TRANSACTION_CREATED"===t.data.status?window.location.href=t.data.url:(this.depositButton.loading=!1,this.navigateToStatusPage(t))},()=>{this.depositButton.loading=!1,this.navigateToStatusPage({status:Ut.Error})})}sendDepositRequest(t,e,n,i,o,a,s){this.isDisabledDepositButton=!0,this.depositButton.loading=!0;const r=window.location.origin+"/cashier/deposit/transaction",c=this.activeBonus?this.bonusesService.activateBonus(this.activeBonus):Object(de.a)(null);this.sendGAEvent("clickDepositButton"),c.pipe(Object(at.a)(c=>null===c||c.result&&c.result.activated||c._item&&c._item.result?this.cashierService.createDepositRequest(t,e,r,this.activeBonus,n,i,o,a,s):(this.notify.error("NOTIFICATIONS.MESSAGES.BONUS_ACTIVATION_FAIL"),Object(pe.a)("bonus not activated")))).subscribe({next:t=>t.data&&t.data.initiatorId?(this.initiatorID=t.data.initiatorId,void(this.showPhoneWidgetCode=!0)):(this.isDisabledDepositButton=!1,this.depositButton.loading=!1,t.status===Ut.Error?(this.store.dispatch(M.deleteErrorMessage()),"Invalid card number.: card_number"===t.message?(this.notify.error("NOTIFICATIONS.MESSAGES.BAD_CARD_NUMBER"),void(this.showPDWidgetLoading=!1)):"Card has expired"===t.message?(this.notify.error("NOTIFICATIONS.MESSAGES.CARD_EXPIRED"),void(this.showPDWidgetLoading=!1)):(this.paymentMethod.id===L.Deposit&&this.store.dispatch(M.saveErrorMessage({errorMessage:t.message})),this.navigateToStatusPage({status:Ut.Error}),Object(pe.a)("deposit error"))):t.status===Ut.Success&&this.window?t.data.params?(this.pdWidgetParams=t.data.params,this.pdWidgetMethod=t.data.method,this.pdWidgetAction=t.data.url,this.cd.detectChanges(),void Object(zt.a)(60).subscribe(()=>this.widgetFakeForm.nativeElement.submit())):void(this.window.location.href=t.data.url):void this.navigateToStatusPage(t))})}navigateToStatusPage(t){this.navigate(["cashier",this.section===a.Withdraw?a.Withdrawal:this.section,"transaction",t.status])}getDefaultAmount(){if(this.isWithdrawPage)return this.paymentMethod.min_value;const t=this.activatedRoute.snapshot.data.amount;return this.isBonusListActive&&this.activeBonus.depositPrice>t?this.activeBonus.depositPrice:t}getActiveBonus(t){return this.bonusesList.length?t||this.cashierService.getTopPricedBonus(this.bonusesList):null}countCommission(){return this.paymentMethod.id===D.Withdrawal?"10\u20b4 + 1,1":`${(Object(m.x)(this.form.get("amount").value)*this.paymentMethod.commission_rate).toFixed(2)} ${this.userCurrency}`}sendGAEvent(t,e={}){const n=Object.assign({event:t,uid:this.userId,hasBonuses:Number(this.isBonusListActive),bonusActivated:Number(!!this.activeBonus),amount:this.form.get("amount").value},e);Object(i.x)(this.platform)&&this.window.dataLayer.push(n)}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(o.a),u.Mb(Y.c),u.Mb(l.h),u.Mb(ye),u.Mb(m.s),u.Mb(we.a),u.Mb(m.k),u.Mb(m.g),u.Mb(A.c),u.Mb(u.D),u.Mb(Pe.a),u.Mb(Se.b),u.Mb(m.v),u.Mb(Q.a),u.Mb(u.h))},t.\u0275cmp=u.Gb({type:t,selectors:[["pd-card"]],viewQuery:function(t,e){var n;1&t&&u.Kc(Fe,!0,u.l),2&t&&u.tc(n=u.bc())&&(e.widgetFakeForm=n.first)},features:[u.zb([Q.a])],decls:10,vars:11,consts:[[1,"cashier"],[1,"wrapper",3,"ngClass"],["class","no-widget",4,"ngIf"],["class","widget",4,"ngIf"],["id","widget-wrapper"],["ngNoForm","",3,"action","method"],["widgetFakeForm",""],["type","hidden",3,"name","value",4,"ngFor","ngForOf"],["class","phone-widget",4,"ngIf"],[1,"no-widget"],[1,"header"],[1,"header__left"],[3,"click"],[1,"header__middle"],[1,"cashier__title","header__title"],[1,"header__info"],[1,"header__right"],[3,"alt","src"],[3,"formGroup","ngSubmit"],["formControlName","amount",3,"settings","errors"],["class","deposit-cards",4,"ngIf"],[4,"ngIf"],["class","card-number",4,"ngIf"],[3,"errors"],["class","deposit__info",4,"ngIf"],["type","submit","class","cashier__button-green",3,"settings","disabled","click",4,"ngIf"],[1,"cashier__commission"],[1,"deposit-cards"],[1,"deposit-cards__title"],["name","deposit-cards",1,"currency__radio",3,"showDeleteButton","formControl","selected","options","deleteElem"],[1,"deposit-cards__add",3,"click"],["class","delete-card",4,"ngIf"],[1,"delete-card"],[1,"delete-card__shadow"],[1,"delete-card__popup"],[1,"delete-card__popup__close",3,"click"],[1,"delete-card__popup__icon"],[1,"delete-card__popup__text"],[1,"delete-card__popup__card"],[1,"delete-card__popup__buttons"],[1,"delete-card__popup__button",3,"settings","click"],[1,"delete-card__popup__button",3,"click"],[1,"cashier__bonuses",3,"ngClass"],[3,"bonusesList","activeBonus","hideBonus","bonusSelected"],[1,"cashier__title","choose-card__title"],["class","choose-card__some",4,"ngIf","ngIfElse"],["noPresetCards",""],[1,"choose-card__some"],["class","choose-card__card",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"choose-card__button-gray",3,"settings","click"],[1,"choose-card__card",3,"ngClass","click"],[1,"circle"],[1,"choose-card__none"],[1,"choose-card__title-sm"],[1,"choose-card__text"],[1,"choose-card__button-green",3,"click"],[1,"card-number"],[1,"card-number__title","cashier__title"],["formControlName","account","placeholder","",1,"card-number__input",3,"errors"],["class","agreement-item",4,"pdThemeable"],[1,"agreement-item"],["for","agree","formControlName","privacyPolicy",1,"checkbox__item",3,"errors"],[1,"link",3,"goto"],[1,"deposit__info"],[1,"deposit__info__pay"],["class","deposit__info__bonus",4,"ngIf"],[1,"deposit__info__bonus"],["type","submit",1,"cashier__button-green",3,"settings","disabled","click"],[1,"widget"],[1,"header","header--widget"],[1,"header__middle","header__middle--widget"],["class","widget__pay-info",4,"ngIf"],[3,"showLoading","pdWidgetInfo",4,"ngIf"],[1,"widget__pay-info"],[1,"widget__sum"],["class","widget__bonus",4,"ngIf"],[1,"widget__bonus"],[3,"showLoading","pdWidgetInfo"],["type","hidden",3,"name","value"],[1,"phone-widget"],["class","header__middle header__middle--phone-widget",4,"ngIf"],["class","phone-widget__form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"header__middle","header__middle--phone-widget"],[1,"phone-widget__text"],[1,"phone-widget__form",3,"formGroup","ngSubmit"],["formControlName","phone",3,"placeholder"],[1,"phone-widget__button",3,"disabled","fullWidth","settings","click"],["formControlName","code",3,"placeholder"],[1,"phone-widget__text","phone-widget__text--change",3,"click"],["class","phone-widget__text phone-widget__text",4,"ngIf"],["class","phone-widget__text",4,"ngIf"],[1,"phone-widget__text","phone-widget__text"],[1,"phone-widget__text","phone-widget__text--send"]],template:function(t,e){1&t&&(u.Sb(0,"section",0),u.Sb(1,"div",1),u.Cc(2,sn,32,38,"div",2),u.Cc(3,pn,8,4,"section",3),u.Nb(4,"div",4),u.Sb(5,"form",5,6),u.Cc(7,gn,1,2,"input",7),u.fc(8,"keyvalue"),u.Rb(),u.Cc(9,fn,10,6,"div",8),u.Rb(),u.Rb()),2&t&&(u.Ab(1),u.kc("ngClass",u.pc(9,vn,e.isBonusListActive)),u.Ab(1),u.kc("ngIf",!e.showWidget&&!e.showPhoneWidget),u.Ab(1),u.kc("ngIf",e.showWidget),u.Ab(2),u.kc("action",e.pdWidgetAction,u.yc)("method",e.pdWidgetMethod),u.Ab(2),u.kc("ngForOf",u.gc(8,7,e.pdWidgetParams)),u.Ab(2),u.kc("ngIf",e.showPhoneWidget))},directives:[i.k,i.m,i.l,tt.a,Y.t,Y.m,Y.h,tt.g,Y.l,Y.f,tt.k,tt.o,Y.e,pt.e,pt.A,tt.b,Be,tt.i,m.q,tt.h,m.d,ze],pipes:[i.f,_.c,m.b,i.b],styles:['.cashier__commission[_ngcontent-%COMP%]{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--xs);line-height:1.4;margin-top:20px}.cashier__title[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--sm);line-height:1.4;line-height:1;display:block;text-transform:uppercase;margin-bottom:20px}.cashier__title--bonus[_ngcontent-%COMP%]{margin-bottom:5px}.cashier__button-green[_ngcontent-%COMP%]   .button.button.button.button[_ngcontent-%COMP%]{min-width:280px;box-shadow:var(--primary-button-box-shadow)}.cashier__bonuses[_ngcontent-%COMP%]{margin-bottom:25px}.cashier__bonuses--frame[_ngcontent-%COMP%]{width:280px;margin:0 auto 30px;padding:20px;border:1px solid var(--extra-3-border-color);border-radius:15px}.cashier__bonuses__text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4;margin-bottom:20px}.cashier__bonuses__button[_ngcontent-%COMP%]{display:block;width:-webkit-max-content;width:-moz-max-content;width:max-content;margin:0 auto}.cashier__bonuses__button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:160px;display:flex;justify-content:center;align-items:center;margin:0 auto;line-height:1}.cashier[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%]{width:-webkit-max-content;width:-moz-max-content;width:max-content;margin:0 auto 30px}.cashier[_ngcontent-%COMP%]   .card-number__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:280px}.cashier[_ngcontent-%COMP%]   .agreement-item[_ngcontent-%COMP%]{display:flex;max-width:280px;margin:0 auto 35px}.cashier[_ngcontent-%COMP%]   .choose-card__none[_ngcontent-%COMP%]{width:280px;border-radius:15px;border:1px solid var(--extra-3-border-color);padding:30px 15px 35px;text-align:center;margin:0 auto}.cashier[_ngcontent-%COMP%]   .choose-card__some[_ngcontent-%COMP%]{margin-bottom:30px}.cashier[_ngcontent-%COMP%]   .choose-card__title-sm[_ngcontent-%COMP%]{font-family:var(--main-fonts-bold);margin:0 0 10px}.cashier[_ngcontent-%COMP%]   .choose-card__text[_ngcontent-%COMP%], .cashier[_ngcontent-%COMP%]   .choose-card__title-sm[_ngcontent-%COMP%]{font-weight:400;font-size:var(--main-font-size);line-height:1.4}.cashier[_ngcontent-%COMP%]   .choose-card__text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-family:var(--main-fonts);margin:0 0 20px}.cashier[_ngcontent-%COMP%]   .choose-card__text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:var(--main-fonts-bold)}.cashier[_ngcontent-%COMP%]   .choose-card__button-green[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:240px}.cashier[_ngcontent-%COMP%]   .choose-card__button-gray[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:150px;height:30px;padding:0 15px}.cashier[_ngcontent-%COMP%]   .choose-card__card[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;width:280px;height:63px;display:flex;justify-content:flex-start;align-items:center;border-radius:15px;border:1px solid var(--extra-2-border-color);padding:0 20px;margin-bottom:10px;cursor:pointer}.cashier[_ngcontent-%COMP%]   .choose-card__card[_ngcontent-%COMP%]:hover{box-shadow:var(--md-shadow)}.cashier[_ngcontent-%COMP%]   .choose-card__card[_ngcontent-%COMP%]:last-of-type{margin-bottom:20px}.cashier[_ngcontent-%COMP%]   .choose-card__card[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:20px;height:20px;border:1px solid var(--extra-3-border-color);margin-right:10px;border-radius:50%;margin-top:-2px;position:relative}.cashier[_ngcontent-%COMP%]   .choose-card__card[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:before{content:"";width:8px;height:8px;position:absolute;z-index:1;top:50%;left:50%;transform:translate(-50%,-50%);background-color:var(--primary-border-color);border-radius:50%;opacity:0}.cashier[_ngcontent-%COMP%]   .choose-card__card--active[_ngcontent-%COMP%]{border-color:var(--primary-border-color)}.cashier[_ngcontent-%COMP%]   .choose-card__card--active[_ngcontent-%COMP%]:hover{box-shadow:none}.cashier[_ngcontent-%COMP%]   .choose-card__card--active[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:before{opacity:1!important}.cashier[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]{width:280px;margin:0 auto}.cashier[_ngcontent-%COMP%]   .deposit-cards__title[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--main-font-size);line-height:1.4;margin-bottom:20px}.cashier[_ngcontent-%COMP%]   .deposit-cards__add[_ngcontent-%COMP%]{color:var(--cashier-add-card-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--xs);line-height:1.4;cursor:pointer;margin-bottom:30px}.cashier[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{margin-bottom:20px;width:100%}.cashier[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]:last-child{margin-bottom:15px}.cashier[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]   .radio__label[_ngcontent-%COMP%]{display:flex;justify-content:normal;align-items:center;width:100%;padding:15px;border:1px solid var(--extra-3-border-color);border-radius:15px}.cashier[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]   .radio__label[_ngcontent-%COMP%]:not(.radio__checked):hover{box-shadow:var(--md-shadow)}.cashier[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]   .radio__label.radio__checked[_ngcontent-%COMP%]{border-color:var(--primary-border-color)}.cashier[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]   .radio__label.radio__checked[_ngcontent-%COMP%]   .radio__message[_ngcontent-%COMP%]{font-family:var(--main-fonts)}.cashier[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]   .radio__label[_ngcontent-%COMP%]   .radio__delete[_ngcontent-%COMP%]{position:absolute;right:12px}.cashier[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]   .radio__box[_ngcontent-%COMP%]{margin-right:10px}.cashier[_ngcontent-%COMP%]   .delete-card[_ngcontent-%COMP%]{position:absolute;top:170px;left:0;right:0}.cashier[_ngcontent-%COMP%]   .delete-card__shadow[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;left:0;background:var(--popup-backdrop-bg);z-index:113}.cashier[_ngcontent-%COMP%]   .delete-card__popup[_ngcontent-%COMP%]{width:280px;height:290px;position:relative;z-index:114;border-radius:15px;box-shadow:var(--lg-shadow);background-color:var(--accent-1-bg-color);padding:30px;margin:0 auto}.cashier[_ngcontent-%COMP%]   .delete-card__popup__close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:10px}.cashier[_ngcontent-%COMP%]   .delete-card__popup__close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.cashier[_ngcontent-%COMP%]   .delete-card__popup__icon[_ngcontent-%COMP%]{display:block;margin:0 auto 20px}.cashier[_ngcontent-%COMP%]   .delete-card__popup__text[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--sm);line-height:1.4;margin-bottom:20px}.cashier[_ngcontent-%COMP%]   .delete-card__popup__card[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--sm);line-height:1.4;margin-bottom:30px}.cashier[_ngcontent-%COMP%]   .delete-card__popup__button[_ngcontent-%COMP%]:first-child{margin-right:20px}.cashier[_ngcontent-%COMP%]   .delete-card__popup__button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:100px;width:100px;text-transform:uppercase;font-size:var(--text-size--sm)}.cashier[_ngcontent-%COMP%]   #widget-wrapper[_ngcontent-%COMP%]{width:280px;margin:0 auto}.cashier[_ngcontent-%COMP%]   #widget-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:280px}.cashier[_ngcontent-%COMP%]   .widget__pay-info[_ngcontent-%COMP%]{width:280px;height:auto;border-radius:20px;border:1px solid var(--primary-border-color);background-color:rgba(148,224,0,.1);padding:20px;text-align:center;margin:0 auto 30px}.cashier[_ngcontent-%COMP%]   .widget__sum[_ngcontent-%COMP%]{font-size:var(--h3-size);line-height:1.25}.cashier[_ngcontent-%COMP%]   .widget__bonus[_ngcontent-%COMP%], .cashier[_ngcontent-%COMP%]   .widget__sum[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-weight:400;font-family:var(--main-fonts)}.cashier[_ngcontent-%COMP%]   .widget__bonus[_ngcontent-%COMP%]{font-size:var(--text-size--sm);line-height:1.4;margin-top:5px}.cashier[_ngcontent-%COMP%]   .PDWidgetIframe[_ngcontent-%COMP%]{display:none}.cashier[_ngcontent-%COMP%]   .PDWidgetIframe--show[_ngcontent-%COMP%]{display:block;width:100%;height:800px}.cashier[_ngcontent-%COMP%]   .deposit__info[_ngcontent-%COMP%]{font-weight:400;font-family:var(--main-fonts-bold);font-size:var(--text-size--sm);line-height:1.4;text-transform:uppercase;margin:30px 0 25px}.cashier[_ngcontent-%COMP%]   .deposit__info__bonus[_ngcontent-%COMP%]{color:var(--tertiary-text-color)}.cashier[_ngcontent-%COMP%]   .phone-widget__button[_ngcontent-%COMP%]{display:block;margin-top:20px}.cashier[_ngcontent-%COMP%]   .phone-widget__form[_ngcontent-%COMP%]{max-width:240px;margin:0 auto}.cashier[_ngcontent-%COMP%]   .phone-widget__text[_ngcontent-%COMP%]{color:var(--tertiary-text-color);font-weight:400;font-family:var(--main-fonts);font-size:var(--text-size--xs);line-height:1.4;display:block;margin-top:15px}.cashier[_ngcontent-%COMP%]   .phone-widget__text--change[_ngcontent-%COMP%], .cashier[_ngcontent-%COMP%]   .phone-widget__text--send[_ngcontent-%COMP%]{margin:0;display:inline-block;color:var(--cashier-change-number-text-color)}.cashier[_ngcontent-%COMP%]   .phone-widget__text--send[_ngcontent-%COMP%]{color:var(--primary-text-color)}@media (min-width:768px){.cashier[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%]{margin-bottom:30px}.cashier[_ngcontent-%COMP%]   .choose-card__none[_ngcontent-%COMP%]{width:460px;padding:30px 25px 40px}.cashier[_ngcontent-%COMP%]   .choose-card__title-sm[_ngcontent-%COMP%]{margin-bottom:20px}.cashier[_ngcontent-%COMP%]   .choose-card__text[_ngcontent-%COMP%]{margin-bottom:30px}.cashier[_ngcontent-%COMP%]   .choose-card__card[_ngcontent-%COMP%]{width:522px;height:70px;margin:0 auto 10px}.cashier[_ngcontent-%COMP%]   .widget__pay-info[_ngcontent-%COMP%]{margin-top:-55px}.cashier[_ngcontent-%COMP%]   .delete-card[_ngcontent-%COMP%]{top:300px}.cashier[_ngcontent-%COMP%]   .delete-card__popup[_ngcontent-%COMP%]{width:400px;height:320px}.cashier[_ngcontent-%COMP%]   .delete-card__popup__text[_ngcontent-%COMP%]{font-size:var(--text-size--l);width:280px;margin:0 auto 20px}.cashier[_ngcontent-%COMP%]   .delete-card__popup__button[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:130px;height:50px;font-size:16px}}@media (min-width:992px){.cashier[_ngcontent-%COMP%]{background-color:var(--main-bg);padding:30px 0}.cashier[_ngcontent-%COMP%]   .wrapper--bonuses[_ngcontent-%COMP%]{width:944px}.cashier__title[_ngcontent-%COMP%]{font-size:16px}}@media (min-width:1200px){.cashier[_ngcontent-%COMP%]   .wrapper--bonuses[_ngcontent-%COMP%]{width:1160px}}']}),t})(),xn=(()=>{class t{constructor(t,e){this.store=t,this.storeHelper=e,this.store.dispatch(b.loadPaymentMethods())}resolve(t,e){return this.store.select(S.amount).pipe(this.storeHelper.oneWithData)}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(l.h),u.Wb(rt.a))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})(),On=(()=>{class t{constructor(t,e){this.store=t,this.storeHelper=e}resolve(t,e){return this.store.select(S.paymentMethod,{id:t.params.method}).pipe(this.storeHelper.oneWithData)}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(l.h),u.Wb(rt.a))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})(),Mn=(()=>{class t{constructor(t){this.bonusesService=t,this.bonusesService.getBonusInfo()}resolve(t,e){return this.bonusesService.availableBonuses.pipe(Object(d.a)(t=>!!t),Object(Tt.a)(1))}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(Pe.a))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})(),yn=(()=>{class t{constructor(t,e){this.storeHelper=t,this.cashierService=e}resolve(t){const e=Number(t.params.method);return this.cashierService.isTranzzoWidget(e)||this.hasCardPresets(e)?this.storeHelper.selectWithDispatch([S.cardsById,{id:t.params.method}],b.loadCards({paymentMethod:t.params.method})).pipe(this.storeHelper.oneWithData):Object(de.a)(null)}hasCardPresets(t){return[R.BankCardWithdrawal,B.Withdrawal].includes(Number(t))}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(rt.a),u.Wb(ye))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})();var wn=n("Vj0D");let Pn=(()=>{class t{constructor(t,e){this.store=t,this.router=e}canActivate(t){return t.params.type!==a.Withdrawal&&t.params.type!==a.Withdraw?Object(de.a)(!0):this.store.select(J.a.confirmationInfo).pipe(Object(p.a)(t=>!(!(r.a.showEmailConfirmation&&t.email&&t.phone)&&(r.a.showEmailConfirmation||!t.phone))||this.router.createUrlTree(["cashier","verification"])))}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(l.h),u.Wb(o.f))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})(),Sn=(()=>{class t{constructor(t,e){this.store=t,this.router=e}canActivate(t){return t.params.type!==a.Withdrawal&&t.params.type!==a.Withdraw?Object(de.a)(!0):this.store.select(J.a.bonusBalance).pipe(Object(p.a)(t=>!t||this.router.createUrlTree(["cashier","active-bonus"])))}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(l.h),u.Wb(o.f))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})();const An=[{path:"",component:x,canActivate:[wn.a],children:[{path:"",pathMatch:"full",redirectTo:"/cashier/deposit"},{path:"verification",component:kt},{path:"active-bonus",component:It},{path:"deposit",children:[{path:"",component:q},{path:"transaction/:status",component:ne,data:{section:a.Deposit}}]},{path:"withdrawal",children:[{path:"",component:V},{path:"transaction/:status",component:ne,data:{section:a.Withdrawal}}]},{path:"transfers",children:[{path:"",component:et},{path:"success",component:Pt}]},{path:"history",children:[{path:"",pathMatch:"full",redirectTo:"/cashier/history/all"},{path:":section",component:Mt}]},{path:":type/:method",component:Cn,canActivate:[Pn,Sn],pathMatch:"full",resolve:{amount:xn,paymentMethod:On,bonuses:Mn,cards:yn}}]}];let Rn=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[o.i.forChild(An)],o.i]}),t})(),kn=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[i.c,m.n,o.i]]}),t})();var En=n("9jGm"),In=n("aGrj");let Dn=(()=>{class t{constructor(t,e,n){this.actions$=t,this.navigate=e,this.cashierService=n,this.loadPaymentMethods$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(b.loadPaymentMethods),Object(In.a)(this.cashierService.loadPaymentMethods().pipe(Object(p.a)(t=>b.loadPaymentMethodsSuccess({paymentMethods:t})),Object(ge.a)(t=>Object(de.a)(b.loadPaymentMethodsFailure({error:t}))))))),this.getCards$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(b.loadCards),Object(at.a)(({paymentMethod:t})=>this.cashierService.loadPresetCards(t).pipe(Object(p.a)(t=>b.loadCardsSuccess({cards:t})),Object(ge.a)(t=>Object(de.a)(b.loadCardsFailure({error:t})))))))}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(En.a),u.Wb(m.k),u.Wb(ye))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})();var Tn=n("CqXF"),Nn=n("lvx5");let Wn=(()=>{class t{constructor(t,e,n){this.navigate=t,this.actions$=e,this.cashierService=n,this.makeTransfer$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(Z.makeTransfer),Object(at.a)(({nick:t,amount:e})=>this.cashierService.makeTransfer(t,e).pipe(Object(Tn.a)(Z.makeTransferSuccess({nick:t,amount:e})),Object(ge.a)(t=>Object(de.a)(Z.makeTransferFailure({error:t}))))))),this.makeTransferSuccess$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(Z.makeTransferSuccess),Object(Dt.a)(({nick:t,amount:e})=>this.navigate(["/cashier","transfers","success"],{nick:t,amount:e}))),{dispatch:!1}),this.makeTransferFailure$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(Z.makeTransferFailure),Object(Tn.a)(Nn.a.error({message:"CASHIER_TRANSFER_FAIL"}))))}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(m.k),u.Wb(En.a),u.Wb(ye))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})(),jn=(()=>{class t{constructor(t,e,n){this.actions$=t,this.navigate=e,this.cashierService=n,this.loadHistory$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(O.loadHistory),Object(at.a)(t=>this.cashierService.loadHistory(t).pipe(Object(p.a)(t=>O.loadHistorySuccess({history:t})),Object(ge.a)(t=>Object(de.a)(O.loadHistoryFailure({error:t}))))))),this.cancelHistoryOperation$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(O.cancelHistoryOperation),Object(at.a)(({operation:t})=>this.cashierService.cancelHistoryOperation(t)),Object(p.a)(t=>O.cancelHistoryOperationSuccess({response:t})),Object(ge.a)(t=>Object(de.a)(O.cancelHistoryOperationFailure({error:t}))))),this.cancelHistoryOperationFailure$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(O.cancelHistoryOperationFailure),Object(Tn.a)(Nn.a.error({message:"NOTIFICATIONS.MESSAGES.CANCEL_TRANSACTION_ERROR"}))))}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(En.a),u.Wb(m.k),u.Wb(ye))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})(),Bn=(()=>{class t{constructor(t,e,n){this.actions$=t,this.navigate=e,this.cashierService=n,this.getTransactionStatus$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(M.getTransactionStatus),Object(at.a)(({invoice:t,section:e})=>this.cashierService.getTransactionStatus(t).pipe(Object(p.a)(({paymentStatus:t})=>M.getTransactionStatusSuccess({paymentStatus:t,section:e})),Object(ge.a)(t=>Object(de.a)(M.getTransactionStatusFailure({error:t}))))))),this.getTransactionStatusSuccess$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(M.getTransactionStatusSuccess),Object(Dt.a)(({paymentStatus:t,section:e})=>{console.log(t,e),["success","failed"].includes(t)&&this.navigate(["cashier",e,"transaction","failed"===t?"error":t])})),{dispatch:!1}),this.redirect$=Object(En.c)(()=>this.actions$.pipe(Object(En.d)(M.redirectBack),Object(Dt.a)(({section:t})=>this.navigate(["cashier",t]))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(En.a),u.Wb(m.k),u.Wb(ye))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac}),t})(),Ln=(()=>{class t{static forRoot(){return{ngModule:t,providers:[ye]}}}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[En.b.forFeature([Dn,Wn,jn,Bn]),l.j.forFeature("cashier",w)],En.b,l.j]}),t})(),zn=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[i.c,m.n]]}),t})(),Fn=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},providers:[xn,On,Mn,yn,Pn,Sn],imports:[[i.c,Rn,Ln.forRoot(),zn,kn,Y.p,m.n,tt.t,pt.w,Re.b]]}),t})()}}]);